Search.setIndex({"docnames": ["index", "meerqat", "meerqat.data", "meerqat.data.kilt2vqa", "meerqat.data.kvqa", "meerqat.data.labelstudio", "meerqat.data.loading", "meerqat.data.mscelebs", "meerqat.data.utils", "meerqat.data.wiki", "meerqat.data.wikidump", "meerqat.image", "meerqat.image.embedding", "meerqat.image.face_box", "meerqat.image.face_detection", "meerqat.image.face_recognition", "meerqat.image.resize", "meerqat.ir", "meerqat.ir.embedding", "meerqat.ir.hp", "meerqat.ir.metrics", "meerqat.ir.search", "meerqat.models", "meerqat.models.image", "meerqat.models.mm", "meerqat.models.qa", "meerqat.models.utils", "meerqat.train", "meerqat.train.losses", "meerqat.train.metrics", "meerqat.train.split_biencoder", "meerqat.train.trainee", "meerqat.train.trainer", "meerqat.viz", "meerqat.viz.html", "meerqat.viz.stats", "meerqat.viz.umap", "modules"], "filenames": ["index.rst", "meerqat.rst", "meerqat.data.rst", "meerqat.data.kilt2vqa.rst", "meerqat.data.kvqa.rst", "meerqat.data.labelstudio.rst", "meerqat.data.loading.rst", "meerqat.data.mscelebs.rst", "meerqat.data.utils.rst", "meerqat.data.wiki.rst", "meerqat.data.wikidump.rst", "meerqat.image.rst", "meerqat.image.embedding.rst", "meerqat.image.face_box.rst", "meerqat.image.face_detection.rst", "meerqat.image.face_recognition.rst", "meerqat.image.resize.rst", "meerqat.ir.rst", "meerqat.ir.embedding.rst", "meerqat.ir.hp.rst", "meerqat.ir.metrics.rst", "meerqat.ir.search.rst", "meerqat.models.rst", "meerqat.models.image.rst", "meerqat.models.mm.rst", "meerqat.models.qa.rst", "meerqat.models.utils.rst", "meerqat.train.rst", "meerqat.train.losses.rst", "meerqat.train.metrics.rst", "meerqat.train.split_biencoder.rst", "meerqat.train.trainee.rst", "meerqat.train.trainer.rst", "meerqat.viz.rst", "meerqat.viz.html.rst", "meerqat.viz.stats.rst", "meerqat.viz.umap.rst", "modules.rst"], "titles": ["Welcome to meerqat\u2019s documentation!", "meerqat package", "meerqat.data package", "meerqat.data.kilt2vqa module", "meerqat.data.kvqa module", "meerqat.data.labelstudio module", "meerqat.data.loading module", "meerqat.data.mscelebs module", "meerqat.data.utils module", "meerqat.data.wiki module", "meerqat.data.wikidump module", "meerqat.image package", "meerqat.image.embedding module", "meerqat.image.face_box module", "meerqat.image.face_detection module", "meerqat.image.face_recognition module", "meerqat.image.resize module", "meerqat.ir package", "meerqat.ir.embedding module", "meerqat.ir.hp module", "meerqat.ir.metrics module", "meerqat.ir.search module", "meerqat.models package", "meerqat.models.image module", "meerqat.models.mm module", "meerqat.models.qa module", "meerqat.models.utils module", "meerqat.train package", "meerqat.train.losses module", "meerqat.train.metrics module", "meerqat.train.split_biencoder module", "meerqat.train.trainee module", "meerqat.train.trainer module", "meerqat.viz package", "meerqat.viz.html module", "meerqat.viz.stats module", "meerqat.viz.umap module", "meerqat"], "terms": {"index": [0, 3, 6, 13, 14, 18, 20, 21, 25, 32], "modul": [0, 1, 2, 11, 17, 22, 27, 33], "search": [1, 17, 18, 19, 20, 32], "page": [0, 3, 31, 32], "data": [1, 19, 21, 26, 32, 37], "submodul": [1, 37], "kilt2vqa": [0, 1, 2, 5, 9], "labelstudio": [1, 2], "load": [0, 1, 2, 3, 12, 15, 18, 19, 20, 21, 32], "msceleb": [1, 2], "util": [1, 2, 22, 25, 30, 32], "wiki": [1, 2, 3, 10, 21], "wikidump": [1, 2, 9], "imag": [1, 3, 5, 6, 9, 10, 18, 21, 22, 24, 32, 34, 37], "embed": [1, 11, 17, 21, 23, 24, 31, 32, 36], "face_box": [1, 11], "face_detect": [0, 1, 11], "face_recognit": [0, 1, 11], "resiz": [0, 1, 11], "ir": [1, 32, 37], "hp": [0, 1, 17, 21], "metric": [1, 6, 17, 19, 21, 25, 27, 32, 36], "model": [0, 1, 3, 6, 12, 14, 15, 18, 19, 20, 31, 32, 37], "mm": [1, 22], "qa": [0, 1, 3, 22, 31], "train": [1, 6, 12, 14, 15, 19, 23, 24, 25, 37], "loss": [0, 1, 20, 27, 31, 32], "split_biencod": [1, 27], "traine": [0, 1, 27, 30, 32], "trainer": [0, 1, 26, 27, 29, 31], "viz": [1, 37], "html": [0, 1, 33], "stat": [1, 3, 9, 33], "umap": [0, 1, 33], "usag": [1, 2, 3, 5, 7, 10, 12, 13, 14, 15, 16, 18, 19, 20, 21, 30, 32, 34, 35, 36], "py": [3, 5, 6, 7, 9, 10, 12, 13, 14, 15, 16, 18, 19, 20, 21, 30, 31, 32, 34, 35, 36], "ner": 2, "subset": [0, 3, 7, 9, 10], "disable_cach": [0, 3, 6, 12, 13, 14, 15, 16, 18, 19, 20, 21], "ned": 3, "map_kwarg": [3, 12, 15, 16, 18, 19, 21], "path": [0, 3, 5, 9, 10, 14, 18, 19, 20, 21, 30, 32, 34, 35], "gener": [0, 2, 24], "mention": [2, 9], "threshold": [0, 3, 14, 32], "vq": 2, "image_width": [3, 9], "n": [0, 3, 5, 6, 9, 14, 25, 29, 31, 32, 34], "categories_to_exclud": 3, "count_ent": [3, 7, 9], "alternative_imag": 3, "download": [0, 2, 5, 10], "num_shard": [3, 32], "shard_index": 3, "option": [0, 2, 3, 5, 6, 12, 13, 14, 15, 16, 18, 19, 20, 21, 24, 25, 26, 29, 30, 31, 32, 34, 35], "word": [0, 3], "error": 3, "rate": [3, 32], "wer": 3, "i": [0, 2, 3, 6, 7, 9, 10, 12, 14, 18, 19, 20, 21, 24, 30, 31, 32], "e": [0, 3, 6, 9, 10, 12, 19, 21, 25, 31, 32], "level": [0, 3, 9, 24, 29, 32], "levenshtein": 3, "distanc": [0, 3], "consid": [3, 20, 32], "entiti": [0, 2, 3, 7, 10], "disambigu": 3, "default": [0, 3, 5, 6, 9, 13, 14, 19, 20, 21, 24, 25, 26, 29, 30, 31, 32, 34], "0": [0, 3, 5, 9, 10, 12, 14, 19, 23, 29, 32, 36], "5": [0, 3, 21, 36], "number": [0, 3, 5, 6, 9, 24, 25, 31, 32, 34], "altern": [0, 3, 20, 32], "provid": [0, 3, 32], "8": [0, 3, 8], "desir": [3, 9], "thumbnail": [3, 9], "width": [0, 3, 9, 34], "pixel": [3, 9], "url": [0, 3, 9, 36], "full": [0, 3, 9, 18, 24, 32], "size": [0, 3, 9, 12, 14, 16, 29, 32, 36], "toward": [3, 20, 32], "json": [0, 3, 5, 6, 9, 10, 18, 19, 20, 21, 30, 32], "file": [0, 3, 5, 6, 9, 14, 18, 19, 20, 21, 30, 32], "contain": [0, 2, 3, 19, 20], "kei": [3, 6, 8, 9, 18, 21, 24, 31, 32, 35, 36], "argument": [3, 6, 14, 18, 19, 20, 21, 24, 26, 30, 31, 32], "dataset": [2, 3, 5, 6, 9, 12, 13, 14, 15, 16, 18, 19, 20, 21, 32, 34, 35, 36], "map": [0, 2, 3, 7, 14, 18, 19, 20, 21, 26, 32], "function": [0, 1, 2, 8, 12, 19, 20, 21, 23, 25, 26, 28, 30, 31, 32], "g": [0, 3, 6, 9, 10, 19, 21, 25, 32], "batch": [0, 3, 9, 12, 14, 15, 18, 19, 20, 21, 25, 26, 29, 31, 32], "disabl": [3, 6, 12, 13, 14, 15, 16, 18, 19, 20, 21], "cach": [3, 6, 12, 13, 14, 15, 16, 18, 19, 20, 21], "useless": [3, 6, 12, 13, 14, 15, 16, 18, 19, 20, 21], "when": [0, 3, 6, 12, 13, 14, 15, 16, 18, 19, 20, 21, 29, 31], "us": [0, 2, 3, 5, 6, 8, 9, 12, 13, 14, 15, 16, 18, 19, 20, 21, 23, 24, 25, 29, 31, 32], "save_to_disk": [0, 3, 6, 12, 13, 14, 15, 16, 18, 19, 20, 21], "see": [0, 3, 5, 6, 9, 12, 13, 14, 15, 16, 18, 19, 20, 21, 24, 31, 32], "set_caching_en": [0, 3, 6, 12, 13, 14, 15, 16, 18, 19, 20, 21], "shard": [3, 32, 36], "part": [0, 3], "along": [0, 3, 5, 26, 32], "b": [0, 3, 6, 9, 19, 21], "sourc": [0, 3, 5, 6, 7, 8, 9, 10, 12, 13, 14, 15, 16, 18, 19, 20, 21, 23, 24, 25, 26, 29, 30, 31, 32, 34, 35, 36], "comput": [0, 3, 5, 8, 9, 12, 18, 20, 21, 23, 24, 29, 31, 32, 35], "spaci": [3, 6], "item2placehold": 3, "item": [0, 3, 6, 12, 13, 14, 20, 32, 34], "none": [0, 3, 6, 9, 10, 12, 14, 18, 19, 20, 21, 24, 25, 26, 31, 32, 34, 35, 36], "make": [0, 3, 6, 8, 21, 24, 32], "input": [0, 3, 5, 6, 9, 10, 14, 18, 21, 23, 24, 25, 31, 32, 36], "question": [3, 5, 9, 20, 25, 31, 32], "suitabl": 3, "vqa": 3, "replac": [3, 9, 12], "an": [0, 3, 8, 9, 14, 21, 23, 24, 31, 32], "explicit": 3, "its": [0, 3, 9, 10, 20, 21, 32], "syntact": 3, "children": 3, "placehold": 3, "who": 3, "wrote": 3, "opera": 3, "carmen": 3, "note": [0, 3, 9, 10, 12, 14, 21, 31, 32], "onli": [0, 2, 3, 6, 9, 12, 19, 20, 21, 24, 31, 32], "ar": [0, 3, 6, 9, 10, 14, 18, 19, 21, 24, 26, 29, 31, 32], "The": [2, 3, 14, 21, 24, 31, 32], "final": [0, 3, 5, 12], "goal": 3, "find": [3, 9, 10, 20], "repres": [3, 32], "fill": [3, 19], "appropri": [3, 6], "ambigu": 3, "thi": [0, 2, 3, 6, 8, 9, 12, 14, 18, 21, 23, 24, 29, 31, 32], "paramet": [0, 3, 5, 6, 9, 14, 18, 19, 20, 21, 24, 25, 26, 29, 30, 31, 32], "dict": [0, 3, 5, 7, 9, 18, 19, 20, 21, 24, 26, 29, 31, 32], "origin": [0, 3, 6, 9, 14, 20, 32], "should": [0, 2, 3, 9, 10, 12, 14, 18, 19, 21, 23, 24, 29, 31, 32], "lang": 3, "en": 3, "english": 3, "pipelin": [0, 3, 19], "we": [0, 3, 6, 9, 20, 31, 32], "both": [0, 3, 6, 14, 20, 31, 32], "depend": [0, 3, 10, 18, 32], "pars": [0, 3, 10, 21], "return": [0, 3, 5, 6, 9, 10, 14, 18, 19, 20, 21, 25, 26, 31, 32], "same": [0, 3, 9, 14, 18, 21, 24, 26, 31, 32], "extra": [0, 3, 6, 14, 24, 31, 32], "list": [0, 3, 5, 6, 9, 14, 18, 20, 21, 26, 32, 35], "One": [3, 21], "like": [0, 3, 6, 18, 21, 29, 31, 32], "str": [3, 5, 6, 8, 9, 12, 14, 18, 19, 20, 21, 24, 30, 32], "spacy_input": 3, "po": 3, "tag": [3, 9, 10], "format": [0, 3, 7, 18, 19, 20, 32], "doc": 3, "to_json": 3, "hugging_face_dataset": 3, "fn_kwarg": [0, 3, 12, 15, 16, 18, 19], "spacy_model": 3, "kilt_subset": 3, "stringifi": 3, "field": [0, 3, 9, 10, 20, 21], "include_answ": 3, "true": [0, 3, 9, 12, 14, 15, 21, 24, 25, 31, 32], "include_proven": 3, "include_dep": 3, "fals": [0, 3, 5, 6, 14, 15, 19, 20, 21, 24, 30, 32, 35, 36], "1st": [3, 6], "step": [0, 3, 9, 19, 32], "name": [0, 3, 9, 19, 20, 21, 24, 32], "recognit": [3, 15], "goe": 3, "through": [3, 6, 18, 19, 20, 21, 26], "kilt": [0, 3, 6], "appli": [0, 3, 9, 20, 21], "docstr": [3, 9], "save": [0, 3, 5, 6, 9, 12, 14, 18, 19, 20, 21, 30], "result": [3, 9, 10, 18, 19, 20, 21, 32], "f": [3, 24], "data_root_path": 3, "meerqat_": 3, "wikipedia": [3, 6, 9, 32], "wikipedia_id": [0, 3], "pedia_index": 3, "go": [0, 3], "candid": [0, 3], "from": [0, 3, 6, 9, 12, 15, 18, 20, 21, 24, 25, 26, 31, 32], "triviaqa": 3, "between": [0, 3, 6, 31, 32], "titl": [0, 3, 6, 9, 20, 32, 36], "alias": [0, 3], "filter": [0, 2, 3, 20, 21, 32], "minim": [3, 32], "2nd": 3, "assum": [0, 3], "you": [0, 3, 9, 18, 21], "alreadi": [0, 3], "ran": 3, "wer_threshold": 3, "generate_ment": 3, "feminine_label": [3, 9], "3rd": 3, "given": [0, 3, 10, 21, 32], "attribut": [3, 9, 30, 31, 32], "run": [3, 6, 9, 10, 12, 14, 19, 20, 21, 23, 32, 34], "first": [0, 3, 6, 8, 9, 10, 12, 14, 18, 21, 25, 31, 32], "generate_vq": 3, "512": [0, 3, 16, 18, 24], "answer": [0, 3, 6, 20, 25, 31, 32], "tripl": 3, "choos": 3, "uniformli": 3, "type": [0, 3, 5, 6, 9, 18, 19, 20, 21, 26, 32], "best": [3, 25], "score": [0, 3, 9, 21, 25, 31], "sort": [3, 21, 32], "last": 3, "tri": [0, 3, 9, 19], "uniqu": [3, 8], "per": [0, 3, 9, 18, 24, 25, 29, 31, 32], "int": [0, 3, 6, 9, 18, 20, 21, 24, 29, 31, 32], "new": [0, 3, 6, 9], "exclude_categori": 3, "validation_triviaqa": 3, "set": [0, 3, 6, 9, 19, 21, 32], "exclud": [3, 6, 9], "where": [0, 3, 5, 9, 19, 20, 21, 26, 30, 32], "keyword": [3, 14, 24], "includ": [3, 9, 20, 29], "one": [0, 3, 9, 12, 18, 19, 20, 21, 23, 24, 31, 32], "categori": [0, 3, 9, 10, 20], "cosplai": 3, "might": [0, 3, 9, 10, 21, 25, 31, 32], "some": [0, 3, 7, 20, 32], "troubl": [3, 9], "gdpr": [3, 9], "empti": [3, 9, 20, 21], "keep": [0, 3, 6, 9, 12, 21, 31, 32], "all": [0, 3, 8, 9, 12, 19, 20, 21, 23, 26, 31, 32, 34], "arg": [3, 12, 19, 24, 26, 31, 32], "kwarg": [3, 6, 12, 14, 18, 19, 20, 21, 24, 26, 30, 31, 32, 35], "convert": [0, 3, 8, 15, 25], "label": [3, 5, 9, 29, 32], "studio": [3, 5], "download_imag": 3, "session": [3, 9], "merg": [0, 5, 20], "output": [0, 3, 5, 6, 9, 10, 16, 18, 20, 21, 24, 25, 26, 31, 32, 34, 35, 36], "assign": [5, 10], "todo": [0, 5, 9, 10, 31], "start": [0, 5, 25, 31, 32], "end": [0, 5, 25, 31, 32], "overlap": [5, 6], "zip": [5, 21], "config": [0, 5, 6, 12, 15, 16, 18, 19, 20, 21, 24, 30, 32, 34, 36], "agre": 5, "agreement": 5, "leav": [0, 5], "whether": [0, 5, 6, 9, 14, 19, 20, 21, 24, 31, 32], "directori": [0, 5, 19, 20, 21, 30, 32], "load_complet": 5, "completions_path": 5, "handl": [5, 9, 19, 24], "individu": 5, "complet": [0, 5], "export": [0, 5, 10], "save_imag": [3, 5, 9], "output_path": [5, 6, 16, 18, 20, 35, 36], "annotator_agr": 5, "disagr": 5, "annot": [2, 3, 5], "disagre": 5, "discard": [0, 5], "retrieve_vqa": 5, "assign_annot": 5, "todo_path": 5, "dataset_path": [5, 6, 12, 15, 16, 18, 20, 34], "agreements_path": 5, "main": [0, 5, 19, 24, 31, 32, 35, 36], "passag": [2, 18, 19, 20, 21, 25, 29, 31, 32], "invers": [0, 6, 32], "one2mani": 6, "sentenc": [0, 2, 32], "load_imag": 6, "file_nam": [6, 9, 14, 16], "load_image_batch": [0, 6], "load_fac": 6, "root_face_path": 6, "max_n_fac": [6, 15], "remove_articl": 6, "text": [6, 10, 18, 21, 24, 32], "white_space_fix": 6, "remove_punc": 6, "answer_preprocess": 6, "adapt": [0, 6, 15, 26, 31, 32], "squad": [6, 25, 32], "lower": 6, "remov": [6, 9, 12, 32], "punctuat": 6, "articl": [6, 9, 10, 20, 21, 32], "whitespac": 6, "get_class_from_nam": 6, "class_nam": [6, 12], "get_biencod": 6, "class": [3, 6, 9, 12, 14, 19, 21, 23, 24, 31, 32], "question_class": 6, "dpr_question_model_name_or_path": 6, "context_class": 6, "dpr_context_model_name_or_path": 6, "get_pretrain": 6, "trainee_class": 6, "trainee_kwarg": 6, "map_kilt_triviaqa": 6, "As": [0, 6], "instruct": [0, 6, 10], "http": [0, 6, 7, 9, 10, 15, 21, 24, 31, 32], "github": [0, 6, 7, 15, 21, 31, 32], "com": [0, 6, 7, 15, 21, 31, 32], "huggingfac": [0, 6], "blob": [6, 7, 15, 31, 32], "master": [6, 7, 15, 31], "kilt_task": 6, "readm": [0, 6], "md": [0, 3, 5, 6], "make_map": 6, "valu": [6, 9, 19, 21, 26, 29, 35], "make_mapping_dataset": 6, "save_nam": 6, "remove_special_field": 6, "paragraph": [0, 6, 31], "code": [0, 6, 31, 32], "put": 6, "lot": 6, "trust": [0, 6], "pre": [6, 12, 18, 21, 32], "process": [0, 6, 9, 12, 14, 21, 31, 32], "facebookresearch": [0, 6, 21, 31, 32], "script": [0, 2, 6, 18, 20, 21, 32], "create_kilt_data_paragraph": 6, "simpli": [0, 6, 9, 12, 14, 31], "section": [0, 6, 32], "bullet": 6, "point": 6, "paragraphs_preprocess": 6, "method": [0, 6, 14, 21, 31, 32], "preprocess": [6, 15], "ident": 6, "addit": [0, 6, 9, 31, 32], "pass": [6, 12, 18, 19, 20, 21, 23, 24, 26, 30, 31, 32], "uniform_passag": 6, "token": [0, 6, 18, 24, 25, 32], "100": [0, 6, 9, 19, 21, 29], "split": [6, 9, 30], "pretrainedtoken": [6, 18], "each": [0, 6, 18, 19, 20, 21, 25, 29, 32], "To": [0, 6, 12, 18, 32], "prepend": 6, "begin": [0, 6], "sep": 6, "case": [0, 6, 9, 18, 21, 24], "ad": [6, 18, 32], "space": [6, 9, 23, 24], "mark": 6, "etc": [6, 9, 32], "uniform_passages_of_sent": 6, "sep_token": 6, "unlik": 6, "which": [0, 6, 20, 21, 30, 32], "base": [6, 7, 9, 12, 14, 18, 19, 21, 23, 24, 31, 32], "transform": [0, 6, 12, 16, 24, 26, 31, 32], "here": [0, 6, 21], "re": [0, 6, 9, 31], "abl": [0, 6, 18, 32], "get": [6, 9, 12, 18, 20, 21, 25, 32], "back": [6, 20], "un": 6, "correspond": [0, 6, 21, 23, 29, 32], "so": [0, 3, 6, 8, 9, 14, 20, 31, 32], "chang": [0, 6, 24, 32], "lost": 6, "alwai": [0, 6, 31, 32], "maximum": [6, 9, 31], "There": [6, 31], "can": [0, 3, 6, 8, 9, 18, 21, 31, 32], "actual": [6, 14, 21, 31, 32], "more": [0, 3, 6, 32], "than": [0, 3, 6, 12], "singl": [0, 6, 20, 32], "separ": [0, 6, 9], "effect": [0, 6, 31, 32], "make_passag": 6, "preprocessing_method": 6, "preprocessing_kwarg": 6, "how": [0, 6], "make_passage_item": 6, "passage_dict": 6, "prepend_titl": [6, 32], "make_passage_dataset": 6, "input_path": 6, "creat": [6, 21, 32], "revers": [6, 21], "respect": [0, 3, 6, 19, 31], "make_sentences_item": 6, "make_sentences_dataset": 6, "load_pretrained_in_kwarg": 6, "recurs": [6, 9, 26], "extract": [0, 7, 14, 31, 32], "wikidata2freebas": 7, "mid": 7, "For": [1, 2, 7, 12], "reason": [0, 7], "wikidata": [7, 9], "m": [7, 25, 29, 31, 32], "0xxx": 7, "freebas": 7, "": [6, 7, 14, 18, 20, 21, 24, 32, 36], "freebase2wikidata": 7, "qid": [7, 9], "mscelebs_path": 7, "cmusatyalab": 7, "openfac": 7, "celeb": 7, "1m": [0, 7], "md5": 8, "string": [0, 6, 8, 9, 32], "hashlib": 8, "sum": [0, 8, 21], "encod": [0, 8, 12, 24, 31], "utf": 8, "lastli": 8, "decod": 8, "hash": 8, "hexdigest": 8, "json_integer_kei": 8, "dictionari": [8, 26], "dictionai": 8, "integ": [8, 21], "sure": [0, 8], "cast": 8, "remain": [0, 8], "befor": [0, 8, 9, 10, 19, 21, 31, 32], "skip": [0, 9], "feminin": 2, "depict": [2, 3], "superclass": 2, "common": [0, 2, 3, 10], "sparql": 2, "rest": [0, 2, 10, 21, 32], "max_imag": 9, "max_categori": 9, "heurist": [2, 3], "posit": [0, 9, 18, 19, 20, 21, 30, 32], "neg": [0, 9, 32], "deceas": 9, "year": [0, 9], "classes_to_exclud": 9, "queri": [9, 21, 31, 32], "root": [0, 3, 9, 14], "want": [0, 9, 18, 21], "1000": [9, 21], "descript": [9, 32], "valid": [0, 3, 9], "abov": [0, 6, 9, 32], "concrete_ent": 9, "gender": [3, 9], "p21": 9, "occup": [3, 9], "p106": 9, "negative_filt": 9, "abstract_ent": 9, "after": [0, 9, 19, 21, 31, 34], "positive_filt": 9, "human": [0, 3, 9, 32], "q5": 9, "aliv": 9, "avoid": [9, 19], "q82794": 9, "even": [0, 9], "without": [0, 6, 9, 32, 34], "specifi": [0, 9, 31], "your": [0, 9, 10], "own": 9, "file_name_to_thumbnail": 9, "upload": [0, 9], "wikimedia": [0, 3, 9], "org": [0, 9, 10, 21], "prefix": [9, 26, 31], "thumbnail_to_file_nam": 9, "special": 9, "If": [0, 9, 14, 18, 21], "extens": 9, "ani": [0, 3, 9, 24, 32], "specif": [9, 21, 25, 32], "introduc": 9, "thumb": [0, 9], "9": [0, 9], "93": 9, "foo": 9, "tif": 9, "lossi": 9, "page1": 9, "469px": 9, "jpg": [0, 9], "els": [0, 3, 9, 21], "irrelev": [0, 9, 25, 32], "cours": 9, "bytes2dict": 9, "get_licens": 9, "licens": 9, "short": 9, "upper": 9, "unavail": 9, "license_scor": 9, "normal": [0, 9, 21, 31], "query_sparql_ent": 9, "endpoint": 9, "wikidata_id": [0, 9], "wd": 9, "return_format": 9, "sdc": 9, "update_from_data": 9, "updat": [9, 21], "info": 9, "set_reference_imag": 9, "refer": [9, 20, 21, 24, 25, 31, 32], "reserved_imag": 9, "order": [0, 9, 21, 32], "prefer": [0, 9], "ha": [0, 9, 32], "avail": [3, 9], "update_from_commons_sparql": 9, "query_depicted_ent": 9, "depiction_instanceof_heurist": 9, "keep_prominent_depict": 9, "request": 9, "max_tri": 9, "2": [0, 9, 19, 21, 31, 32], "via": [0, 6, 9], "except": [0, 9, 19, 31], "someth": 9, "went": 9, "wrong": 9, "query_commons_subcategori": 9, "n_queried_categori": 9, "subcategori": 9, "bool": [9, 12, 14, 19, 20, 21, 23, 24, 25, 30, 31, 32], "been": [0, 9], "gather": [3, 9, 10, 18, 32], "about": [0, 3, 9, 21, 35], "query_imag": 9, "left": 9, "enforc": [0, 9, 32], "len": [0, 9, 26, 35], "otherwis": [9, 32], "track": 9, "equal": [9, 14], "hopefulli": 9, "enrich": 9, "update_from_commons_rest": 9, "special_path_to_file_nam": 9, "special_path": 9, "add": [0, 9, 10, 21, 32], "underscor": 9, "image_heurist": 9, "exclude_class": 9, "keep_class": 9, "classes_to_keep": 9, "attributes_to_keep": 9, "iso2year": 9, "iso": 9, "date": 9, "remove_alive_human": 9, "year_threshold": 9, "inf": 9, "query_superclass": 9, "wikidata_superclasses_queri": 9, "n_level": 9, "uri_to_qid": 9, "uri": 9, "uris_to_qid": 9, "query_feminine_label": 9, "count": 9, "everi": [3, 9, 12, 19, 23], "print_stat": 9, "parse_fil": 10, "element": [10, 31], "namespac": 10, "mw": 10, "www": 10, "mediawiki": 10, "xml": 10, "10": [0, 10, 21, 32], "test": [0, 10, 19], "et": [0, 10], "find_text": 10, "get_field": 10, "wikitext": 10, "process_articl": 10, "entity_categori": 10, "dump_path": 10, "imageencod": 12, "pool": [0, 12], "featur": [0, 12, 18, 23, 24, 31, 32], "forward": [12, 14, 18, 23, 24, 31], "x": [12, 14, 15, 21], "defin": [12, 19, 21, 23, 32], "perform": [0, 12, 14, 23], "call": [3, 12, 21, 23], "overridden": [12, 23], "subclass": [12, 23, 31, 32], "although": [12, 14, 23], "recip": [12, 23], "need": [0, 3, 10, 12, 23, 32], "within": [12, 23], "instanc": [9, 12, 18, 23], "afterward": [12, 23], "instead": [0, 12, 18, 23, 30, 32, 35], "sinc": [0, 12, 21, 23], "former": [12, 23], "take": [0, 3, 5, 12, 18, 21, 23, 24], "care": [12, 23], "regist": [12, 23], "hook": [12, 23], "while": [0, 3, 12, 19, 23], "latter": [0, 12, 23], "silent": [12, 23], "ignor": [12, 23], "them": [0, 10, 12, 20, 21, 23, 24], "get_nn_modul": 12, "from_pretrain": [0, 12, 15], "model_nam": [12, 15], "resnet50": [0, 12], "imagenet": [12, 24], "pretrained_model_path": 12, "other": [0, 12, 20, 31, 32], "don": [0, 12, 31], "t": [0, 3, 6, 9, 12, 19, 20, 31], "forget": 12, "right": 12, "num_class": 12, "exampl": [0, 12, 14, 34], "places365": 12, "checkpoint": [0, 12, 30, 31, 32], "state_dict": [0, 12], "torch": [0, 12, 14, 24, 31, 32], "resnet50_places365": 12, "pth": [0, 12], "tar": [0, 12], "map_loc": 12, "cpu": 12, "k": [0, 12, 19, 21], "v": 12, "resnet50_places365_state_dict": 12, "get_encod": 12, "torchvision_model": 12, "convolut": [0, 12], "layer": [0, 12, 18, 23, 31], "classif": 12, "get_torchvision_model": 12, "pretrained_kwarg": [12, 15], "pool_kwarg": 12, "get_transform": [12, 16], "resize_kwarg": [12, 16], "224": 12, "crop_siz": 12, "mean": [0, 12, 20, 21, 32], "485": 12, "456": 12, "406": 12, "std": [12, 21], "229": 12, "225": 12, "get_model_and_transform": 12, "model_kwarg": 12, "transform_kwarg": [12, 16], "emb": [0, 12, 18, 31], "save_a": [12, 18], "image_embed": [0, 12], "image_kei": [12, 13, 14, 15, 16], "dataset_emb": [12, 18], "scale_box": 13, "root_path": 14, "model_config": 14, "batch_siz": [0, 14, 18, 24, 26, 32], "detect": [3, 14], "face": [14, 18, 21, 23, 24, 32, 36], "stem": 14, "group": [6, 14, 31], "64": 14, "mtcnn": [0, 14], "image_s": [14, 15], "160": 14, "margin": [0, 14], "min_face_s": 14, "20": [14, 21, 36], "6": [0, 14, 36], "7": [0, 14, 18, 24], "factor": 14, "709": 14, "post_process": 14, "select_largest": 14, "selection_method": 14, "keep_al": 14, "devic": [14, 21, 26, 32], "overrid": [14, 32], "allow": [0, 14], "bound": [0, 14, 19, 23], "box": [0, 14, 23], "landmark": [0, 14, 15], "img": 14, "save_path": [14, 21], "return_prob": 14, "return_box": 14, "return_landmark": 14, "pil": [0, 14, 15], "numpi": 14, "arrai": 14, "np": [14, 21, 29], "ndarrai": [14, 21, 25, 26, 29], "A": [0, 14, 21, 24, 31], "tensor": [14, 18, 26, 31, 32], "crop": 14, "self": [14, 19, 21, 32], "post": 14, "represent": [0, 14, 18, 24, 32], "length": [14, 25, 31, 32, 35], "probabl": [0, 2, 9, 14, 25, 29, 31, 32], "facial": 14, "union": [14, 19, 20, 21, 32], "tupl": [14, 18, 21, 24, 26, 31], "float": [14, 21, 32], "dimens": [0, 14, 21, 31, 32], "3": [0, 14, 21], "wa": [0, 3, 14, 21], "coordin": 14, "associ": [0, 14, 21, 31, 32], "have": [0, 9, 14, 21, 30, 31, 32], "face_tensor": 14, "prob": 14, "png": [0, 14], "detect_fac": 14, "save_root_path": 14, "dataset_detect_fac": 14, "similarity_transform": [0, 15], "src": 15, "tform": 15, "112": 15, "deepinsight": 15, "insightfac": [0, 15], "arcface_torch": [0, 15], "eval_ijbc": 15, "r50": 15, "fp16": 15, "get_pil_preprocessor": 15, "shape": [15, 18, 25, 26, 29, 31, 32], "h": 15, "w": [0, 3, 9, 15, 19, 20], "c": [0, 15, 24], "open": [0, 15, 31, 32], "image_path": 15, "rgb": 15, "compute_face_embed": 15, "preprocessor": 15, "1": [0, 15, 19, 20, 21, 23, 24, 29, 31, 32], "dataset_compute_face_embed": 15, "output_root": 16, "dataset_res": 16, "knowledg": [18, 32], "prior": 18, "kb": [18, 19, 20, 21, 32], "configur": [0, 18, 19, 21, 24, 30, 32], "overwrit": 18, "get_face_input": [18, 32], "n_face": [18, 24, 32], "4": [0, 18, 24, 32, 36], "face_dim": [18, 23, 24, 32], "bbox_dim": [18, 23, 24, 32], "nice": [18, 32], "squar": [18, 32], "similarli": 18, "mmtrainer": [18, 32], "face_input": [18, 24, 32], "bbox": [18, 23, 24, 32], "attention_mask": [18, 24, 31, 32], "get_image_input": [18, 32], "image_kwarg": [18, 24], "precomput": 18, "image_input": [18, 24, 32], "mask": [18, 24, 31, 32], "map_passage_to_kb": 18, "get_input": 18, "tokenization_kwarg": [18, 32], "nn": [0, 18, 31, 32], "dmrencod": [18, 24], "intermediatelinearfus": [18, 24], "hold": [6, 18, 21, 32], "mappabl": 18, "text_embed": 18, "output_kei": 18, "forward_kwarg": 18, "THE": 18, "expect": [0, 18, 21], "being": [18, 19, 31], "sequence_length": 18, "hidden_s": 18, "In": [0, 18, 24, 31, 32], "_layer_": 18, "dmr": 18, "optim": [0, 19], "hyperparamet": [19, 21], "cleanup_cache_fil": 19, "fusion": [0, 19, 21], "bm25": [19, 25], "nearest": [19, 21], "neighbor": [19, 21], "clean": 19, "up": [0, 9, 19], "current": [0, 6, 19, 31], "satur": 19, "disk": 19, "storag": 19, "delet": [9, 19], "exit": 19, "tex": [19, 20], "applic": [10, 19], "object": [0, 19, 21, 32], "do_cache_relev": 19, "metric_for_best_model": 19, "eval_dataset": [19, 21, 32], "callabl": [19, 26], "compat": [0, 19, 31], "optuna": [0, 19], "relev": [3, 10, 19, 20, 29, 31, 32], "evalu": [0, 19, 21, 32], "mrr": [0, 19, 20, 21, 36], "searcher": [19, 21], "best_param": 19, "report": 19, "ranx": [0, 19, 20, 21, 32], "cache_relev": 19, "do_copi": 19, "r": [0, 3, 9, 19, 21], "cache_relevant_dataset": 19, "fusionobject": 19, "hyp_hyp": 19, "hyper": 19, "grid": [0, 19], "bm25object": 19, "fed": 19, "es_client": [19, 21], "indic": [19, 20, 21], "put_set": [19, 21], "similar": [0, 5, 19, 32], "karpukhin": [0, 19, 32], "75": 19, "k1": 19, "get_object": 19, "objective_typ": 19, "train_dataset": [19, 32], "objective_kwarg": 19, "instanti": [19, 21, 32], "recomput": 19, "time": [0, 19, 31, 32], "default_study_kwarg": 19, "sampler": 19, "gridsampl": 19, "direct": 19, "maxim": [0, 19], "create_studi": 19, "overwritten": 19, "hyperparameter_search": 19, "study_nam": 19, "metric_save_path": [19, 21], "optimize_kwarg": 19, "study_kwarg": 19, "accord": [3, 19, 20, 21, 32], "qrel": [0, 19, 20, 21], "studi": [19, 21], "relat": 20, "docopt": [1, 2, 20], "title2index": [0, 20], "article2passag": [0, 20], "cat": [0, 20], "win": 20, "tie": 20, "pick": 20, "also": [0, 5, 9, 20, 21, 32], "correspong": 20, "trec": [0, 20, 32], "id": [0, 20, 24], "out": [0, 3, 5, 6, 20, 21, 25, 32], "ti": 20, "precis": [0, 20, 21, 32], "find_relev": [0, 20], "retriev": [0, 10, 20, 21, 25, 29, 32], "original_answ": [0, 20], "alternative_answ": 20, "reference_kei": [20, 21], "original_relev": 20, "find_relevant_batch": [20, 21], "retrieved_batch": 20, "ground_truth_output_batch": 20, "relevant_batch": 20, "original_answer_onli": 20, "extend": [0, 20, 32], "ones": [20, 32], "find_relevant_item": 20, "link": [20, 21], "find_relevant_dataset": 20, "fuse_qrel": 20, "qrels_path": [20, 36], "under": [20, 30], "fused_qrel": 20, "load_run": 20, "runs_path": 20, "runs_dict": 20, "filter_q_id": 20, "run_path": [20, 32, 36], "eventu": [20, 21], "identifi": [20, 21], "compar": [0, 20, 21, 31], "feed": [20, 24, 32], "were": [0, 2, 9, 20], "print": [20, 26], "cat_breakdown": 20, "belong": 20, "get_wtl_tabl": 20, "wtl_kei": 20, "wtl_metric": 20, "either": [0, 20, 21, 31], "against": [0, 20], "panda": 20, "datafram": 20, "l": [5, 20, 24, 25, 31, 32], "what": [0, 20, 32], "doe": [0, 3, 20, 21, 32], "built": 21, "upon": [0, 21], "itself": [0, 21], "wrap": [21, 31], "faiss": [0, 21], "elasticsearch": [0, 21], "scores2dict": 21, "scores_batch": 21, "indices_batch": 21, "scores_dict": 21, "dict2scor": 21, "desc": 21, "top": [0, 21, 32], "dict_batch2scor": 21, "additionn": [21, 24, 26, 32], "norm_mean_std": 21, "scale": [0, 21], "switch": 21, "differ": [0, 9, 21, 24, 31], "l2norm": [0, 21], "unit": [0, 21, 24], "norm": 21, "vector": 21, "indexkind": 21, "enum": 21, "Will": [21, 32], "later": 21, "kind_str": 21, "do_l2norm": 21, "interpolation_weight": 21, "dataclass": 21, "inform": [0, 21, 32], "faissindex": 21, "esindex": 21, "store": [0, 3, 21, 30, 32], "kind": [0, 21], "fuse": [0, 21, 24], "multipl": [0, 21], "difficult": 21, "hierarchi": 21, "public": 21, "search_batch": 21, "knowledgebas": 21, "kb_path": 21, "index_mapping_path": 21, "index_kwarg": [0, 21], "load_dataset": [0, 21], "sever": [0, 5, 21, 31, 32], "add_or_load_index": 21, "index_nam": 21, "search_batch_if_not_non": 21, "map_indic": 21, "index_map": 21, "align": [0, 21], "mani": [9, 21, 24], "exceed": 21, "bewar": [0, 21, 32], "noth": [0, 21], "do": [0, 21], "_index": 21, "column": [0, 6, 21, 32], "add_or_load_elasticsearch_index": 21, "add_or_load_faiss_index": 21, "unless": 21, "string_factori": [0, 21], "load_faiss_index": 21, "add_faiss_index": 21, "save_faiss_index": 21, "factori": 21, "infer": [21, 32], "check": [0, 21], "load_elasticsearch_index": 21, "add_elasticsearch_index": 21, "format_run_indic": 21, "cannot": [0, 21], "becaus": [0, 21, 32], "numba": 21, "format_qrels_indic": 21, "kb_kwarg": 21, "reference_kb_path": 21, "request_timeout": 21, "es_client_kwarg": 21, "fusion_kwarg": 21, "metrics_kwarg": 21, "save_in_dataset": 21, "aggreg": 21, "valy": 21, "onc": [0, 21], "provenance_indic": [21, 32], "recommand": [3, 21], "timeout": 21, "interpolation_fus": 21, "hit_rat": 21, "rank": [0, 3, 21, 31], "reli": [21, 24], "fuse_and_compute_metr": 21, "wai": [0, 21], "union_result": 21, "default_minimum": 21, "simpl": [0, 21, 31], "weight": [21, 25], "w_1": 21, "score_1": 21, "w_2": 21, "score_2": 21, "w_3": 21, "score_3": 21, "minimum": [0, 21], "trick": [0, 21], "combin": [0, 21, 24], "system": [0, 21], "consist": [0, 21, 31], "give": 21, "vice": [0, 21], "versa": [0, 21], "ma": [0, 21, 31], "sun": 21, "pradeep": 21, "lin": 21, "j": [21, 24], "2021": 21, "replic": 21, "dens": [0, 21, 32], "arxiv": [0, 21], "preprint": 21, "2104": 21, "05740": 21, "ab": 21, "dataset_search": 21, "build": [0, 23], "block": 23, "vision": [0, 23, 24], "faceembed": [23, 24], "embedding_dim": 23, "dropout": 23, "layer_norm_ep": 23, "1e": 23, "12": [0, 23], "project": [0, 23, 24, 31, 36], "linear": 23, "togeth": 23, "imageembed": [23, 24], "input_dim": [23, 24], "implement": [0, 24, 31, 32], "two": [0, 24], "architectur": 24, "present": 24, "ecir": 24, "submit": 24, "paper": [0, 24, 31], "encoderoutput": 24, "pooler_output": 24, "floattensor": [24, 31], "modeloutput": [24, 31], "biencod": [24, 30, 31, 32], "framework": [24, 31], "dmrencoderoutput": 24, "hidden_st": [24, 31], "attent": [24, 31], "dprquestionencoderoutput": [24, 31], "dprcontextencoderoutput": [24, 31], "mmconfig": [24, 32], "face_kwarg": 24, "face_and_image_are_exclus": 24, "no_text": 24, "bertconfig": 24, "multimod": [0, 24, 32], "clip": 24, "rn50": [0, 24], "1024": 24, "2048": 24, "exclus": [0, 24, 25], "cl": [0, 24, 25], "concaten": [24, 32], "pretrainedmodel": [24, 30], "sequenc": [24, 25, 31, 32], "bert": [0, 24, 30, 31], "\u00e0": 24, "la": 24, "obtain": [0, 24], "chen": [0, 24, 32], "y": 24, "li": [0, 24], "yu": [0, 24], "el": 24, "kholi": 24, "ahm": 24, "gan": 24, "z": 24, "cheng": 24, "liu": 24, "univers": [0, 24], "learn": 24, "european": 24, "confer": [0, 24, 31, 32], "pp": 24, "104": 24, "120": 24, "openreview": 24, "net": 24, "forum": 24, "s1el4kbywr": 24, "springer": [0, 24], "2020": [0, 24, 32], "config_class": 24, "alia": 24, "load_tf_weight": 24, "base_model_prefix": 24, "bert_model": [24, 30], "text_input": 24, "output_attent": 24, "output_hidden_st": 24, "return_dict": [24, 31], "longtensor": [24, 31, 32], "usual": [24, 31, 32], "bertmodel": [24, 30], "image_dim": [24, 32], "ilfconfig": 24, "question_encod": 24, "dprquestionencod": [0, 24, 30, 31], "dprcontextencod": [0, 24, 30, 31], "real": 24, "dpr": [24, 31, 32], "linearli": 24, "dpr_encod": 24, "get_best_span": [0, 25], "start_prob": 25, "end_prob": 25, "cannot_be_first_token": [0, 25], "span": [0, 25, 31, 32], "notat": [25, 31], "distinct": [25, 31, 32], "weigh": [0, 25], "null": 25, "dure": [25, 32], "passage_indic": 25, "start_indic": 25, "end_indic": 25, "inclus": [25, 29], "format_predictions_for_squad": 25, "predict": [0, 25, 29, 32], "multipassageberttrain": [25, 32], "log_probs_to_answ": [25, 32], "misc": 26, "map_if_not_non": 26, "default_valu": 26, "debug_shap": 26, "nest": 26, "batchencod": 26, "prepare_input": 26, "move": 26, "eval_predict": 29, "ignore_index": 29, "evalpredict": 29, "dataset_s": 29, "log": [29, 31, 32], "label_id": 29, "taken": 29, "account": 29, "question_model": [0, 30, 31, 32], "context_model": [0, 30, 31, 32], "dprbiencod": [0, 30, 31], "must": [30, 32], "pytorch": [0, 30, 31], "weights_nam": 30, "pytorch_model": [0, 30, 32], "bin": [0, 30, 32], "made": 31, "dprbiencodertrain": [31, 32], "target": [31, 32], "done": [0, 31], "dprreaderforquestionansweringoutput": 31, "start_logit": 31, "end_logit": 31, "relevance_logit": 31, "dprreaderoutput": 31, "questionansweringmodeloutput": 31, "unfortun": 31, "redefin": 31, "everyth": 31, "multipassagebertoutput": 31, "start_log_prob": 31, "end_log_prob": 31, "equival": [9, 31], "softmax": [0, 31], "biencoderoutput": 31, "question_pooler_output": 31, "context_pooler_output": 31, "dprbiencoderoutput": 31, "question_hidden_st": 31, "question_attent": 31, "context_hidden_st": 31, "context_attent": 31, "context": [0, 31, 32], "supports_gradient_checkpoint": 31, "question_input": [31, 32], "context_input": [31, 32], "gradient_checkpointing_en": 31, "activ": 31, "gradient": 31, "gradient_checkpointing_dis": 31, "deactiv": 31, "properti": [9, 31], "is_gradient_checkpoint": 31, "evid": 31, "confus": 31, "imo": 31, "d": [31, 32], "input_id": [31, 32], "dprreaderforquestionansw": 31, "start_posit": [31, 32], "end_posit": [31, 32], "answer_mask": [31, 32], "bertforquestionansw": [0, 31], "reader": [0, 31], "multipassagebert": [31, 32], "multi": [0, 31], "global": 31, "nll": 31, "across": [0, 31, 32], "allenai": 31, "document": [31, 32], "docqa": 31, "span_predict": 31, "multipassagedprread": 31, "zhiguo": [0, 31], "wang": [0, 31], "patrick": [0, 31, 32], "ng": [0, 31], "xiaofei": [0, 31], "ramesh": [0, 31], "nallapati": 31, "bing": [0, 31], "xiang": [0, 31], "2019": [0, 31, 32], "domain": [0, 31, 32], "proceed": [0, 31, 32], "empir": [0, 31, 32], "natur": [0, 9, 31, 32], "languag": [0, 31, 32], "9th": [0, 31], "intern": [0, 31], "joint": [0, 31], "emnlp": [0, 31, 32], "ijcnlp": [0, 31], "5878": [0, 31], "5882": [0, 31], "hong": [0, 31], "kong": [0, 31], "china": [0, 31], "linguist": [0, 31, 32], "christoph": [0, 31], "clark": [0, 31], "matt": [0, 31], "gardner": [0, 31], "2018": [0, 31], "read": [3, 31], "comprehens": [3, 31], "56th": [0, 31], "annual": [0, 31, 32], "meet": [0, 31, 32], "volum": [0, 31], "long": [0, 31], "845": [0, 31], "855": [0, 31], "melbourn": [0, 31], "australia": [0, 31], "constant": 31, "max_n_answ": [0, 31, 32], "found": [0, 9, 31, 32], "requir": 31, "reshap": 31, "max_memory_usag": 32, "max_memory_alloc": 32, "gpu": [0, 32], "memori": 32, "readabl": 32, "machin": 32, "meerqattrain": 32, "freez": 32, "regex": 32, "match": [3, 32], "requires_grad": 32, "fulli": 32, "trainabl": 32, "write_predict": 32, "resume_from_checkpoint": [0, 32], "write_metr": 32, "questionansweringtrain": 32, "24": [0, 32], "n_relevant_passag": [0, 32], "search_kei": 32, "work": [0, 32], "rc": [0, 32], "fly": 32, "icttrain": 32, "mandatori": 32, "suffix": 32, "_indic": 32, "_score": 32, "_provenance_indic": 32, "_irrelevant_indic": 32, "get_training_passag": 32, "relevant_passag": 32, "irrelevant_passag": 32, "select": 32, "compute_loss": 32, "likelihood": 32, "dot": [0, 32], "product": [0, 32], "describ": [0, 32], "therefor": 32, "visual": [0, 32], "vladimir": [0, 32], "barla": [0, 32], "oguz": [0, 32], "sewon": [0, 32], "min": [0, 32], "lewi": [0, 32], "ledel": [0, 32], "wu": [0, 32], "sergei": [0, 32], "edunov": [0, 32], "danqi": [0, 32], "wen": [0, 32], "tau": [0, 32], "yih": [0, 32], "6769": [0, 32], "6781": [0, 32], "collate_fn": 32, "collat": 32, "row": 32, "idem": 32, "return_output": 32, "calcul": 32, "schema": 32, "support": [0, 32], "ddp": 32, "mode": 32, "exchang": 32, "node": 32, "train_dense_encod": 32, "whole": [0, 9, 32], "matrix": 32, "fit": [0, 32], "image_kb": [32, 36], "sohuld": 32, "eas": 32, "inherit": [0, 32], "add_image_featur": 32, "sentences_per_target": 32, "text_mask_r": 32, "image_mask_r": 32, "cloze": [6, 32], "task": [5, 6, 32], "ict": [6, 32], "pseudo": 32, "nearbi": 32, "infobox": [9, 32], "preprend": 32, "kenton": [0, 32], "lee": [0, 32], "ming": [0, 32], "wei": [0, 32], "kristina": [0, 32], "toutanova": [0, 32], "latent": 32, "weakli": 32, "supervis": 32, "57th": 32, "6086": 32, "6096": 32, "florenc": 32, "itali": 32, "parent": 32, "ignore_kei": 32, "answer_str": 32, "train_original_answer_onli": [0, 32], "oracl": [0, 32], "manag": 32, "abstract": 32, "readingcomprehensiontrain": 32, "enabl": 32, "necessari": 32, "limit": 32, "get_eval_passag": 32, "get_answer_posit": 32, "passage_scor": 32, "evaluation_loop": 32, "dataload": 32, "prediction_loss_onli": 32, "metric_key_prefix": 32, "eval": 32, "evalloopoutput": 32, "truncat": 32, "recov": 32, "get_checkpoint": 32, "possibli": 32, "ascend": 32, "subsample_dataset": 32, "shuffl": [32, 34], "filter_rel": 32, "With": 32, "least": 32, "instantiate_train": 32, "trainer_class": 32, "debug": 32, "training_kwarg": [0, 32], "callbacks_arg": 32, "train_shard": 32, "eval_shard": 32, "filter_train_rel": 32, "filter_eval_rel": 32, "trainingargu": 32, "autograd": 32, "detect_anomali": 32, "add_callback": 32, "training_arg": [0, 32], "400": 34, "get_top_1": 34, "format_html": 34, "passages_path": 34, "wiki_path": 34, "search_run": 34, "other_search_run": 34, "pgf": 35, "themselv": 35, "dataset_stat": 35, "discret": 35, "reduc": 36, "cosin": [0, 36], "fplot": 36, "reduced_embed": 36, "figsiz": 36, "alpha": 36, "iplot": 36, "input_kei": 36, "thumb_width": 36, "128": 36, "plot_width": 36, "600": 36, "plot_height": 36, "tool": 36, "pan": 36, "wheel_zoom": 36, "reset": 36, "line_alpha": 36, "fill_alpha": 36, "palett": 36, "viridis256": 36, "get_ranx_run": 36, "url_kei": 36, "reduce_kwarg": 36, "fplot_kwarg": 36, "iplot_kwarg": 36, "ranx_kwarg": 36, "packag": 37, "subpackag": 37, "content": [], "folder": [0, 3], "repo": [0, 3], "exist": 3, "textual": 3, "illustr": 3, "kilt2vqa_nlp": [], "slight": 3, "misnom": 3, "bit": 3, "rarr": 3, "frame": 3, "problem": 3, "author": [0, 3], "off": [0, 3], "shelf": 3, "didn": 3, "just": [0, 3], "kilt2vqa_mentiong_gen": [], "anim": 3, "sex": [3, 9], "man": 3, "woman": 3, "transgend": 3, "he": [0, 3], "him": 3, "hi": 3, "she": 3, "her": 3, "actress": 3, "non": [0, 3], "taxon": 3, "speci": 3, "tower": [3, 9], "previou": [0, 3], "automat": 3, "thu": [0, 3], "help": [0, 3], "advic": 3, "appreci": 3, "overview": [1, 2], "kvqa": [1, 2], "interest": [0, 2], "user": 2, "segment": 6, "kilt_wikipedia": [0, 6], "special_field": 6, "uniform": 6, "uniform_s": 6, "Then": [0, 6, 9], "quick": [0, 6], "servic": 9, "api": 9, "cake": 9, "follow": [0, 9], "p18": 9, "roughli": [0, 9], "p154": 9, "logo": 9, "p41": 9, "flag": [0, 9], "p94": 9, "coat": 9, "arm": 9, "p2425": 9, "ribbon": 9, "_superclass": 9, "discrimin": 9, "previous": 9, "tell": 9, "promin": 9, "pic": 9, "barack": 9, "obama": 9, "joe": 9, "biden": 9, "eiffel": 9, "death": 9, "share": [0, 9], "kept": 9, "mayb": [0, 9], "unsur": 9, "veri": [0, 9, 10], "small": [0, 9], "those": [0, 9], "control": 9, "manipul": 5, "labelstud": [], "io": [], "_": 0, "inter": 5, "correct": 5, "dump": 10, "wikicod": 10, "lazili": 10, "second": 10, "templat": 10, "expand": 10, "viqua": [], "lerner": 0, "al": 0, "sigir": 0, "22": 0, "paullern": 0, "instal": [], "hal": 0, "archiv": 0, "ouvert": 0, "fr": 0, "03650618": 0, "hf": 0, "apach": 0, "arrow": 0, "plain": 0, "jsonl": 0, "line": 0, "python": 0, "below": 0, "howev": 0, "our": 0, "heavili": 0, "distribut": 0, "standard": 0, "version": 0, "experi": [], "ground": 0, "sh": [], "integr": 0, "git": 0, "clone": 0, "co": 0, "viquae_imag": 0, "viquae_all_imag": 0, "cd": 0, "5gb": 0, "gz": 0, "xzvf": 0, "viquae_images_path": 0, "pwd": 0, "directli": 0, "viquae_dataset": 0, "larg": 0, "ll": 0, "basic": 0, "import": 0, "datasetdict": 0, "kilt_id": 0, "meta": 0, "original_quest": 0, "num_row": 0, "1190": 0, "1250": 0, "1257": 0, "now": 0, "ae": 0, "jackie_wilson": 0, "512px": 0, "fake": 0, "526": 0, "singer": 0, "issu": 0, "song": 0, "becam": 0, "uk": 0, "christma": 0, "advertis": 0, "brand": 0, "11": 0, "levi": 0, "my_funct": 0, "almost": 0, "librari": 0, "13": 0, "again": 0, "exhaust": 0, "viquae_wikipedia": 0, "raw": 0, "data_fil": 0, "humans_with_fac": 0, "humans_without_fac": 0, "non_human": 0, "anchor": 0, "wikidata_info": 0, "wikipedia_titl": 0, "506237": 0, "35736": 0, "953379": 0, "q313590": 0, "alain": 0, "conn": 0, "alain_conn": 0, "25": 0, "born": 0, "april": 0, "1947": 0, "french": 0, "mathematician": 0, "professor": 0, "coll\u00e8g": 0, "de": 0, "franc": 0, "ih\u00e9": 0, "ohio": 0, "state": 0, "vanderbilt": 0, "invit": 0, "conservatoir": 0, "nation": 0, "art": 0, "m\u00e9tier": 0, "2000": 0, "viquae_passag": 0, "pleas": 0, "reproduc": 0, "cite": 0, "inproceed": 0, "lerner2022": 0, "paul": 0, "olivi": 0, "ferret": 0, "camil": 0, "guinaudeau": 0, "le": 0, "borgn": 0, "herv\u00e9": 0, "romar": 0, "besan\u00e7on": 0, "moreno": 0, "jose": 0, "lov\u00f3n": 0, "melgarejo": 0, "jes\u00fa": 0, "2022": 0, "booktitl": 0, "45th": 0, "acm": 0, "research": 0, "develop": 0, "seri": 0, "doi": 0, "1145": 0, "3477495": 0, "3531753": 0, "publish": 0, "machineri": 0, "address": 0, "york": 0, "ny": 0, "usa": 0, "offici": 0, "wrt": 0, "local": [], "virtual": 0, "environ": 0, "elast": 0, "guid": [], "stack": [], "spars": 0, "pip": 0, "readthedoc": 0, "sphinx": 0, "__": 0, "rst": 0, "intermedi": 0, "peopl": 0, "free": 0, "few": 0, "command": 0, "variabl": 0, "subdirectori": 0, "strip": 0, "semi": 0, "structur": 0, "disjoint": 0, "preserv": 0, "boundari": 0, "append": 0, "passage_index": 0, "u": 0, "clue": 0, "quit": 0, "weak": 0, "That": 0, "scan": 0, "tackl": 0, "come": 0, "prioriti": 0, "moreov": 0, "impact": 0, "realli": 0, "think": 0, "robust": 0, "let": 0, "yourself": 0, "snippet": 0, "load_from_disk": 0, "def": 0, "keep_relevant_search_wrt_original_in_prior": 0, "latest": 0, "bm25_provenance_indic": 0, "bm25_irrelevant_indic": 0, "search_indic": 0, "relevant_indic": 0, "search_provenance_indic": 0, "original_answer_provenance_indic": 0, "search_irrelevant_indic": 0, "50": 0, "max": 0, "tweak": 0, "backbon": 0, "torchvis": 0, "obvious": 0, "better": 0, "sens": 0, "look": 0, "interact": 0, "thing": 0, "littl": 0, "complic": 0, "guess": 0, "trivial": 0, "zhang": 0, "2016": 0, "facenet_pytorch": 0, "feel": 0, "haven": 0, "crope": 0, "happen": 0, "next": 0, "256": 0, "deng": 0, "guo": 0, "__init__": 0, "setup": 0, "did": 0, "commit": 0, "f159d90ce1dc620730c99e8a81991a7c5981dc3": 0, "my": 0, "fork": 0, "me": 0, "know": 0, "suppos": 0, "cleanli": 0, "checkout": 0, "chore": 0, "pretrain": 0, "ms1mv3_arcface_r50_fp16": 0, "ey": 0, "nose": 0, "mouth": 0, "corner": 0, "adopt": 0, "thei": 0, "regardless": 0, "pose": 0, "person": 0, "skimag": 0, "cv2": 0, "down": 0, "displai": 0, "10k": 0, "bunch": 0, "dev": 0, "launch": 0, "server": 0, "k_1": 0, "ask": 0, "karpukinh": 0, "v100": 0, "32gb": 0, "total": 0, "32": 0, "crucial": 0, "pair": 0, "mine": 0, "initi": 0, "uncas": 0, "nproc_per_nod": 0, "omit": 0, "dpr_question_encoder_triviaqa_without_viqua": 0, "dpr_context_encoder_triviaqa_without_viqua": 0, "triviaqa_for_viqua": 0, "13984": 0, "exactli": 0, "hack": 0, "ve": 0, "decid": 0, "won": 0, "stuff": 0, "mkdir": 0, "mv": 0, "pt": 0, "schedul": 0, "trainer_st": 0, "And": 0, "40": 0, "split_dpr": 0, "detector": 0, "rename_column": 0, "keep_imagenet": 0, "keep_clip": 0, "lambda": 0, "face_embed": 0, "henc": 0, "flat": 0, "metric_typ": 0, "l2": 0, "zero": 0, "varianc": 0, "over": 0, "dry": 0, "mysteri": 0, "interpol": 0, "detail": 0, "advis": 0, "recal": 0, "estim": 0, "trec_ev": 0, "all_qrel": 0, "comparison": 0, "neither": 0, "nor": 0, "half": 0, "arbitrari": 0, "meaning": 0, "until": 0, "downstream": 0, "asid": 0, "anoth": 0, "branch": 0, "devlin": 0, "independ": 0, "doesn": 0, "intuit": 0, "deterior": 0, "ensur": 0, "behavior": 0, "multi_passage_bert_triviaqa_without_viqua": 0, "ratio": 0, "16": 0, "realist": 0, "conjunct": 0, "carri": 0, "9m": 0, "46000": 0, "3600": 0, "seed": 0, "42": 0, "why": 0, "gap": 0, "do_ev": 0, "do_predict": 0, "jiankang": 0, "jia": 0, "niannan": 0, "xue": 0, "stefano": 0, "zafeiri": 0, "angular": 0, "deep": 0, "4690": 0, "4699": 0, "jacob": 0, "bidirect": 0, "understand": 0, "1810": 0, "04805": 0, "yandong": 0, "lei": 0, "yuxiao": 0, "hu": 0, "xiaodong": 0, "jianfeng": 0, "gao": 0, "benchmark": 0, "eccv": 0, "lectur": 0, "scienc": 0, "87": 0, "102": 0, "cham": 0, "nallap": 0, "ati": 0, "natu": 0, "ral": 0, "kaipeng": 0, "zhanpeng": 0, "zhifeng": 0, "qiao": 0, "multitask": 0, "cascad": 0, "network": 0, "ieee": 0, "signal": 0, "letter": 0, "23": 0, "1499": 0, "1503": 0, "htt": [], "p": [], "mycor": [], "core": [], "loud": [], "php": [], "l8sgkqapvk0dfmr": [], "sampl": [], "plai": [], "gyh5xijwq2j5rpv": [], "pl": [], "7zhfobnioxf9pt7": [], "interac": [], "place": [], "eg_gener": [], "password": [], "worri": [], "too": [], "much": [], "deprec": [], "warn": [], "flask": [], "deploy": [], "window": [], "favorit": [], "browser": [], "localhost": [], "8080": [], "usernam": [], "click": [], "button": [], "hit": [], "edit": [], "potenti": [], "seem": [], "strang": [], "serv": [], "spot": [], "suit": [], "caption": [], "tick": [], "inappropri": [], "untick": [], "mistak": [], "modif": [], "mage": [], "ex": [], "planat": [], "countri": [], "border": [], "cambodia": [], "lao": [], "west": [], "north": [], "sovereign": [], "hard": [], "llustrat": [], "These": [], "auto": [], "matic": [], "nnotat": [], "refin": [], "richard": [], "iii": [], "imprison": [], "young": [], "nephew": [], "try": [], "tern": [], "possibl": [], "presid": [], "romin": [], "mai": [], "creativ": [], "uplic": [], "written": [], "plaqu": [], "statu": [], "hotograph": [], "rocess": [], "five": [], "boi": [], "scout": [], "movement": [], "robert": [], "baden": [], "powel": [], "o": [], "verspecifi": [], "bad": [], "bonar": [], "law": [], "prime": [], "minist": [], "modifi": [], "han": [], "solo": [], "star": [], "war": [], "pictur": [], "ce": [], "lebriti": [], "folk": [], "pro": [], "minent": [], "eyword": [], "stanford": [], "access": [], "nivers": [], "op": [], "ublish": [], "ention": [], "game": [], "bingo": [], "chanc": [], "gra": [], "mmatic": [], "land": [], "santa": [], "catarina": [], "airport": [], "island": [], "would": [], "parser": [], "opi": [], "past": [], "washington": [], "georg": [], "familiar": [], "eg_annot": []}, "objects": {"": [[1, 0, 0, "-", "meerqat"]], "meerqat": [[2, 0, 0, "-", "data"], [11, 0, 0, "-", "image"], [17, 0, 0, "-", "ir"], [22, 0, 0, "-", "models"], [27, 0, 0, "-", "train"], [33, 0, 0, "-", "viz"]], "meerqat.data": [[3, 0, 0, "-", "kilt2vqa"], [4, 0, 0, "-", "kvqa"], [5, 0, 0, "-", "labelstudio"], [6, 0, 0, "-", "loading"], [7, 0, 0, "-", "mscelebs"], [8, 0, 0, "-", "utils"], [9, 0, 0, "-", "wiki"], [10, 0, 0, "-", "wikidump"]], "meerqat.data.kilt2vqa": [[3, 1, 1, "", "count_entities"], [3, 1, 1, "", "disambiguate"], [3, 1, 1, "", "download_image"], [3, 1, 1, "", "download_images"], [3, 1, 1, "", "generate_mention"], [3, 1, 1, "", "generate_mentions"], [3, 1, 1, "", "generate_vq"], [3, 1, 1, "", "generate_vqs"], [3, 1, 1, "", "item2placeholder"], [3, 1, 1, "", "labelstudio"], [3, 1, 1, "", "ned"], [3, 1, 1, "", "ner"], [3, 1, 1, "", "stats"], [3, 1, 1, "", "stringify"], [3, 1, 1, "", "wer"]], "meerqat.data.labelstudio": [[5, 1, 1, "", "agree"], [5, 1, 1, "", "annotator_agreement"], [5, 1, 1, "", "assign"], [5, 1, 1, "", "assign_annotations"], [5, 1, 1, "", "load_completions"], [5, 1, 1, "", "main"], [5, 1, 1, "", "merge"], [5, 1, 1, "", "retrieve_vqa"], [5, 1, 1, "", "save_images"]], "meerqat.data.loading": [[6, 1, 1, "", "answer_preprocess"], [6, 1, 1, "", "get_biencoder"], [6, 1, 1, "", "get_class_from_name"], [6, 1, 1, "", "get_pretrained"], [6, 1, 1, "", "load_faces"], [6, 1, 1, "", "load_image"], [6, 1, 1, "", "load_image_batch"], [6, 1, 1, "", "load_pretrained_in_kwargs"], [6, 1, 1, "", "make_mapping"], [6, 1, 1, "", "make_mapping_dataset"], [6, 1, 1, "", "make_passage_dataset"], [6, 1, 1, "", "make_passage_item"], [6, 1, 1, "", "make_passages"], [6, 1, 1, "", "make_sentences_dataset"], [6, 1, 1, "", "make_sentences_item"], [6, 1, 1, "", "map_kilt_triviaqa"], [6, 1, 1, "", "paragraphs_preprocess"], [6, 1, 1, "", "remove_articles"], [6, 1, 1, "", "remove_punc"], [6, 1, 1, "", "remove_special_fields"], [6, 1, 1, "", "uniform_passages"], [6, 1, 1, "", "uniform_passages_of_sentences"], [6, 1, 1, "", "white_space_fix"]], "meerqat.data.mscelebs": [[7, 1, 1, "", "count_entities"], [7, 1, 1, "", "extract"], [7, 1, 1, "", "freebase2wikidata"], [7, 1, 1, "", "wikidata2freebase"]], "meerqat.data.utils": [[8, 1, 1, "", "json_integer_keys"], [8, 1, 1, "", "md5"]], "meerqat.data.wiki": [[9, 1, 1, "", "bytes2dict"], [9, 1, 1, "", "depiction_instanceof_heuristic"], [9, 1, 1, "", "exclude_classes"], [9, 1, 1, "", "file_name_to_thumbnail"], [9, 1, 1, "", "get_license"], [9, 1, 1, "", "image_heuristic"], [9, 1, 1, "", "iso2year"], [9, 1, 1, "", "keep_classes"], [9, 1, 1, "", "keep_prominent_depictions"], [9, 1, 1, "", "license_score"], [9, 1, 1, "", "print_stats"], [9, 1, 1, "", "query_commons_subcategories"], [9, 1, 1, "", "query_depicted_entities"], [9, 1, 1, "", "query_feminine_labels"], [9, 1, 1, "", "query_image"], [9, 1, 1, "", "query_sparql_entities"], [9, 1, 1, "", "query_superclasses"], [9, 1, 1, "", "remove_alive_humans"], [9, 1, 1, "", "request"], [9, 1, 1, "", "save_image"], [9, 1, 1, "", "set_reference_images"], [9, 1, 1, "", "special_path_to_file_name"], [9, 1, 1, "", "stats"], [9, 1, 1, "", "thumbnail_to_file_name"], [9, 1, 1, "", "update_from_commons_rest"], [9, 1, 1, "", "update_from_commons_sparql"], [9, 1, 1, "", "update_from_data"], [9, 1, 1, "", "uri_to_qid"], [9, 1, 1, "", "uris_to_qids"]], "meerqat.data.wikidump": [[10, 1, 1, "", "find"], [10, 1, 1, "", "find_text"], [10, 1, 1, "", "get_field"], [10, 1, 1, "", "parse_file"], [10, 1, 1, "", "process_article"], [10, 1, 1, "", "process_articles"]], "meerqat.image": [[12, 0, 0, "-", "embedding"], [13, 0, 0, "-", "face_box"], [14, 0, 0, "-", "face_detection"], [15, 0, 0, "-", "face_recognition"], [16, 0, 0, "-", "resize"]], "meerqat.image.embedding": [[12, 2, 1, "", "ImageEncoder"], [12, 1, 1, "", "dataset_embed"], [12, 1, 1, "", "embed"], [12, 1, 1, "", "from_pretrained"], [12, 1, 1, "", "get_encoder"], [12, 1, 1, "", "get_model_and_transform"], [12, 1, 1, "", "get_nn_module"], [12, 1, 1, "", "get_torchvision_model"], [12, 1, 1, "", "get_transform"]], "meerqat.image.embedding.ImageEncoder": [[12, 3, 1, "", "forward"], [12, 4, 1, "", "training"]], "meerqat.image.face_box": [[13, 1, 1, "", "scale_box"]], "meerqat.image.face_detection": [[14, 2, 1, "", "MTCNN"], [14, 1, 1, "", "dataset_detect_face"], [14, 1, 1, "", "dataset_detect_faces"], [14, 1, 1, "", "detect_face"]], "meerqat.image.face_detection.MTCNN": [[14, 3, 1, "", "forward"], [14, 4, 1, "", "training"]], "meerqat.image.face_recognition": [[15, 1, 1, "", "compute_face_embedding"], [15, 1, 1, "", "dataset_compute_face_embedding"], [15, 1, 1, "", "from_pretrained"], [15, 1, 1, "", "get_pil_preprocessor"], [15, 1, 1, "", "similarity_transform"]], "meerqat.image.resize": [[16, 1, 1, "", "dataset_resize"], [16, 1, 1, "", "get_transform"], [16, 1, 1, "", "resize"]], "meerqat.ir": [[18, 0, 0, "-", "embedding"], [19, 0, 0, "-", "hp"], [20, 0, 0, "-", "metrics"], [21, 0, 0, "-", "search"]], "meerqat.ir.embedding": [[18, 1, 1, "", "dataset_embed"], [18, 1, 1, "", "embed"], [18, 1, 1, "", "get_face_inputs"], [18, 1, 1, "", "get_image_inputs"], [18, 1, 1, "", "get_inputs"], [18, 1, 1, "", "map_passage_to_kb"]], "meerqat.ir.hp": [[19, 2, 1, "", "BM25Objective"], [19, 2, 1, "", "FusionObjective"], [19, 2, 1, "", "Objective"], [19, 1, 1, "", "get_objective"], [19, 1, 1, "", "hyperparameter_search"]], "meerqat.ir.hp.BM25Objective": [[19, 3, 1, "", "evaluate"]], "meerqat.ir.hp.FusionObjective": [[19, 3, 1, "", "evaluate"]], "meerqat.ir.hp.Objective": [[19, 3, 1, "", "cache_relevant"], [19, 3, 1, "", "cache_relevant_dataset"], [19, 3, 1, "", "evaluate"]], "meerqat.ir.metrics": [[20, 1, 1, "", "cat_breakdown"], [20, 1, 1, "", "compare"], [20, 1, 1, "", "find_relevant"], [20, 1, 1, "", "find_relevant_batch"], [20, 1, 1, "", "find_relevant_dataset"], [20, 1, 1, "", "find_relevant_item"], [20, 1, 1, "", "fuse_qrels"], [20, 1, 1, "", "get_wtl_table"], [20, 1, 1, "", "load_runs"]], "meerqat.ir.search": [[21, 2, 1, "", "Index"], [21, 2, 1, "", "IndexKind"], [21, 2, 1, "", "KnowledgeBase"], [21, 1, 1, "", "L2norm"], [21, 2, 1, "", "Searcher"], [21, 1, 1, "", "dataset_search"], [21, 1, 1, "", "dict2scores"], [21, 1, 1, "", "dict_batch2scores"], [21, 1, 1, "", "format_qrels_indices"], [21, 1, 1, "", "format_run_indices"], [21, 1, 1, "", "norm_mean_std"], [21, 1, 1, "", "normalize"], [21, 1, 1, "", "scores2dict"]], "meerqat.ir.search.IndexKind": [[21, 4, 1, "", "FACE"], [21, 4, 1, "", "IMAGE"], [21, 4, 1, "", "TEXT"]], "meerqat.ir.search.KnowledgeBase": [[21, 3, 1, "", "add_or_load_elasticsearch_index"], [21, 3, 1, "", "add_or_load_faiss_index"], [21, 3, 1, "", "add_or_load_index"], [21, 3, 1, "", "map_indices"], [21, 3, 1, "", "search_batch"], [21, 3, 1, "", "search_batch_if_not_None"]], "meerqat.ir.search.Searcher": [[21, 3, 1, "", "fuse"], [21, 3, 1, "", "fuse_and_compute_metrics"], [21, 3, 1, "", "interpolation_fusion"], [21, 3, 1, "", "union_results"]], "meerqat.models": [[23, 0, 0, "-", "image"], [24, 0, 0, "-", "mm"], [25, 0, 0, "-", "qa"], [26, 0, 0, "-", "utils"]], "meerqat.models.image": [[23, 2, 1, "", "FaceEmbedding"], [23, 2, 1, "", "ImageEmbedding"]], "meerqat.models.image.FaceEmbedding": [[23, 3, 1, "", "forward"], [23, 4, 1, "", "training"]], "meerqat.models.image.ImageEmbedding": [[23, 3, 1, "", "forward"], [23, 4, 1, "", "training"]], "meerqat.models.mm": [[24, 2, 1, "", "DMREncoder"], [24, 2, 1, "", "DMREncoderOutput"], [24, 2, 1, "", "EncoderOutput"], [24, 2, 1, "", "ILFConfig"], [24, 2, 1, "", "IntermediateLinearFusion"], [24, 2, 1, "", "MMConfig"]], "meerqat.models.mm.DMREncoder": [[24, 4, 1, "", "base_model_prefix"], [24, 4, 1, "", "config_class"], [24, 3, 1, "", "forward"], [24, 4, 1, "", "load_tf_weights"], [24, 4, 1, "", "training"]], "meerqat.models.mm.DMREncoderOutput": [[24, 4, 1, "", "attentions"], [24, 4, 1, "", "hidden_states"], [24, 4, 1, "", "pooler_output"]], "meerqat.models.mm.EncoderOutput": [[24, 4, 1, "", "pooler_output"]], "meerqat.models.mm.IntermediateLinearFusion": [[24, 4, 1, "", "base_model_prefix"], [24, 4, 1, "", "config_class"], [24, 3, 1, "", "forward"], [24, 4, 1, "", "load_tf_weights"], [24, 4, 1, "", "training"]], "meerqat.models.qa": [[25, 1, 1, "", "format_predictions_for_squad"], [25, 1, 1, "", "get_best_spans"]], "meerqat.models.utils": [[26, 1, 1, "", "debug_shape"], [26, 1, 1, "", "map_if_not_None"], [26, 1, 1, "", "prepare_inputs"]], "meerqat.train": [[28, 0, 0, "-", "losses"], [29, 0, 0, "-", "metrics"], [30, 0, 0, "-", "split_biencoder"], [31, 0, 0, "-", "trainee"], [32, 0, 0, "-", "trainer"]], "meerqat.train.metrics": [[29, 1, 1, "", "retrieval"]], "meerqat.train.split_biencoder": [[30, 1, 1, "", "split_biencoder"]], "meerqat.train.trainee": [[31, 2, 1, "", "BiEncoder"], [31, 2, 1, "", "BiEncoderOutput"], [31, 2, 1, "", "DPRBiEncoder"], [31, 2, 1, "", "DPRBiEncoderOutput"], [31, 2, 1, "", "DPRReaderForQuestionAnswering"], [31, 2, 1, "", "DPRReaderForQuestionAnsweringOutput"], [31, 2, 1, "", "MultiPassageBERT"], [31, 2, 1, "", "MultiPassageBERTOutput"], [31, 2, 1, "", "Trainee"]], "meerqat.train.trainee.BiEncoder": [[31, 3, 1, "", "forward"], [31, 3, 1, "", "gradient_checkpointing_disable"], [31, 3, 1, "", "gradient_checkpointing_enable"], [31, 5, 1, "", "is_gradient_checkpointing"], [31, 4, 1, "", "supports_gradient_checkpointing"], [31, 4, 1, "", "training"]], "meerqat.train.trainee.BiEncoderOutput": [[31, 4, 1, "", "context_pooler_output"], [31, 4, 1, "", "question_pooler_output"]], "meerqat.train.trainee.DPRBiEncoder": [[31, 3, 1, "", "forward"], [31, 4, 1, "", "training"]], "meerqat.train.trainee.DPRBiEncoderOutput": [[31, 4, 1, "", "context_attentions"], [31, 4, 1, "", "context_hidden_states"], [31, 4, 1, "", "context_pooler_output"], [31, 4, 1, "", "question_attentions"], [31, 4, 1, "", "question_hidden_states"], [31, 4, 1, "", "question_pooler_output"]], "meerqat.train.trainee.DPRReaderForQuestionAnswering": [[31, 3, 1, "", "forward"], [31, 4, 1, "", "training"]], "meerqat.train.trainee.DPRReaderForQuestionAnsweringOutput": [[31, 4, 1, "", "attentions"], [31, 4, 1, "", "end_logits"], [31, 4, 1, "", "hidden_states"], [31, 4, 1, "", "loss"], [31, 4, 1, "", "relevance_logits"], [31, 4, 1, "", "start_logits"]], "meerqat.train.trainee.MultiPassageBERT": [[31, 3, 1, "", "forward"], [31, 4, 1, "", "training"]], "meerqat.train.trainee.MultiPassageBERTOutput": [[31, 4, 1, "", "end_log_probs"], [31, 4, 1, "", "start_log_probs"]], "meerqat.train.trainee.Trainee": [[31, 4, 1, "", "training"]], "meerqat.train.trainer": [[32, 2, 1, "", "DPRBiEncoderTrainer"], [32, 2, 1, "", "ICTTrainer"], [32, 2, 1, "", "MMTrainer"], [32, 2, 1, "", "MeerqatTrainer"], [32, 2, 1, "", "MultiPassageBERTTrainer"], [32, 2, 1, "", "QuestionAnsweringTrainer"], [32, 1, 1, "", "filter_rels"], [32, 1, 1, "", "get_checkpoint"], [32, 1, 1, "", "instantiate_trainer"], [32, 1, 1, "", "max_memory_usage"], [32, 1, 1, "", "subsample_dataset"]], "meerqat.train.trainer.DPRBiEncoderTrainer": [[32, 3, 1, "", "collate_fn"], [32, 3, 1, "", "compute_loss"]], "meerqat.train.trainer.ICTTrainer": [[32, 3, 1, "", "collate_fn"], [32, 3, 1, "", "get_training_passages"]], "meerqat.train.trainer.MMTrainer": [[32, 3, 1, "", "add_image_features"], [32, 3, 1, "", "collate_fn"], [32, 3, 1, "", "get_face_inputs"], [32, 3, 1, "", "get_image_inputs"]], "meerqat.train.trainer.MeerqatTrainer": [[32, 3, 1, "", "freeze"], [32, 3, 1, "", "log"], [32, 3, 1, "", "write_metrics"], [32, 3, 1, "", "write_predictions"]], "meerqat.train.trainer.MultiPassageBERTTrainer": [[32, 3, 1, "", "collate_fn"], [32, 3, 1, "", "evaluation_loop"], [32, 3, 1, "", "get_answer_position"], [32, 3, 1, "", "get_eval_passages"], [32, 3, 1, "", "log_probs_to_answers"]], "meerqat.train.trainer.QuestionAnsweringTrainer": [[32, 3, 1, "", "get_training_passages"]], "meerqat.viz": [[34, 0, 0, "-", "html"], [35, 0, 0, "-", "stats"], [36, 0, 0, "-", "umap"]], "meerqat.viz.html": [[34, 1, 1, "", "format_html"], [34, 1, 1, "", "get_top_1"]], "meerqat.viz.stats": [[35, 1, 1, "", "dataset_stats"], [35, 1, 1, "", "main"]], "meerqat.viz.umap": [[36, 1, 1, "", "fplot"], [36, 1, 1, "", "get_ranx_run"], [36, 1, 1, "", "iplot"], [36, 1, 1, "", "main"], [36, 1, 1, "", "reduce"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:method", "4": "py:attribute", "5": "py:property"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "method", "Python method"], "4": ["py", "attribute", "Python attribute"], "5": ["py", "property", "Python property"]}, "titleterms": {"welcom": 0, "meerqat": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37], "": 0, "document": 0, "indic": 0, "tabl": 0, "packag": [1, 2, 11, 17, 22, 27, 33], "subpackag": 1, "modul": [3, 4, 5, 6, 7, 8, 9, 10, 12, 13, 14, 15, 16, 18, 19, 20, 21, 23, 24, 25, 26, 28, 29, 30, 31, 32, 34, 35, 36], "content": [], "data": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10], "submodul": [2, 11, 17, 22, 27, 33], "kilt2vqa": 3, "labelstudio": [3, 5], "load": 6, "msceleb": 7, "util": [8, 26], "wiki": 9, "wikidump": 10, "imag": [0, 11, 12, 13, 14, 15, 16, 23], "embed": [0, 12, 18], "face_box": 13, "face_detect": 14, "face_recognit": 15, "resiz": 16, "ir": [0, 17, 18, 19, 20, 21], "hp": 19, "metric": [0, 20, 29], "search": [0, 21], "model": [22, 23, 24, 25, 26], "mm": 24, "qa": 25, "train": [0, 27, 28, 29, 30, 31, 32], "loss": 28, "split_biencod": 30, "traine": 31, "trainer": 32, "viz": [33, 34, 35, 36], "html": 34, "stat": 35, "umap": 36, "overview": 3, "ner": 3, "gener": 3, "mention": 3, "vq": 3, "download": 3, "docopt": [3, 6, 9], "function": [3, 6, 9], "For": [3, 6, 9], "kvqa": 4, "usag": [6, 9], "passag": [0, 6], "map": 6, "sentenc": 6, "entiti": 9, "feminin": 9, "superclass": 9, "depict": 9, "option": 9, "common": 9, "sparql": 9, "filter": 9, "rest": 9, "heurist": 9, "viqua": 0, "get": 0, "dataset": 0, "kb": 0, "The": 0, "knowledg": 0, "base": 0, "annot": 0, "experi": 0, "refer": 0, "instal": 0, "doc": 0, "preprocess": 0, "split": 0, "articl": 0, "find": 0, "relev": 0, "link": 0, "wikipedia": 0, "result": 0, "global": 0, "face": 0, "detect": 0, "recognit": 0, "bm25": 0, "dpr": 0, "pre": 0, "triviaqa": 0, "fine": 0, "tune": 0, "question": 0, "imagenet": 0, "resnet": 0, "clip": 0, "v": 0, "arcfac": 0, "m": 0, "celeb": 0, "text": 0, "hyperparamet": 0, "run": 0, "best": 0, "read": 0, "comprehens": 0, "start": [], "label": [], "studio": [], "resourc": [], "project": [], "interfac": [], "error": [], "how": [], "fix": [], "them": []}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx": 56}})