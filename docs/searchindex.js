Search.setIndex({"docnames": ["index", "meerqat", "meerqat.data", "meerqat.data.kilt2vqa", "meerqat.data.kvqa", "meerqat.data.labelstudio", "meerqat.data.loading", "meerqat.data.mscelebs", "meerqat.data.utils", "meerqat.data.wiki", "meerqat.data.wikidump", "meerqat.data.wit", "meerqat.image", "meerqat.image.embedding", "meerqat.image.face_box", "meerqat.image.face_detection", "meerqat.image.face_recognition", "meerqat.image.resize", "meerqat.ir", "meerqat.ir.embedding", "meerqat.ir.hp", "meerqat.ir.metrics", "meerqat.ir.search", "meerqat.models", "meerqat.models.image", "meerqat.models.mm", "meerqat.models.qa", "meerqat.models.utils", "meerqat.train", "meerqat.train.losses", "meerqat.train.metrics", "meerqat.train.split_biencoder", "meerqat.train.trainee", "meerqat.train.trainer", "meerqat.viz", "meerqat.viz.html", "meerqat.viz.stats", "meerqat.viz.umap", "modules"], "filenames": ["index.rst", "meerqat.rst", "meerqat.data.rst", "meerqat.data.kilt2vqa.rst", "meerqat.data.kvqa.rst", "meerqat.data.labelstudio.rst", "meerqat.data.loading.rst", "meerqat.data.mscelebs.rst", "meerqat.data.utils.rst", "meerqat.data.wiki.rst", "meerqat.data.wikidump.rst", "meerqat.data.wit.rst", "meerqat.image.rst", "meerqat.image.embedding.rst", "meerqat.image.face_box.rst", "meerqat.image.face_detection.rst", "meerqat.image.face_recognition.rst", "meerqat.image.resize.rst", "meerqat.ir.rst", "meerqat.ir.embedding.rst", "meerqat.ir.hp.rst", "meerqat.ir.metrics.rst", "meerqat.ir.search.rst", "meerqat.models.rst", "meerqat.models.image.rst", "meerqat.models.mm.rst", "meerqat.models.qa.rst", "meerqat.models.utils.rst", "meerqat.train.rst", "meerqat.train.losses.rst", "meerqat.train.metrics.rst", "meerqat.train.split_biencoder.rst", "meerqat.train.trainee.rst", "meerqat.train.trainer.rst", "meerqat.viz.rst", "meerqat.viz.html.rst", "meerqat.viz.stats.rst", "meerqat.viz.umap.rst", "modules.rst"], "titles": ["Welcome to meerqat\u2019s documentation!", "meerqat package", "meerqat.data package", "meerqat.data.kilt2vqa module", "meerqat.data.kvqa module", "meerqat.data.labelstudio module", "meerqat.data.loading module", "meerqat.data.mscelebs module", "meerqat.data.utils module", "meerqat.data.wiki module", "meerqat.data.wikidump module", "meerqat.data.wit module", "meerqat.image package", "meerqat.image.embedding module", "meerqat.image.face_box module", "meerqat.image.face_detection module", "meerqat.image.face_recognition module", "meerqat.image.resize module", "meerqat.ir package", "meerqat.ir.embedding module", "meerqat.ir.hp module", "meerqat.ir.metrics module", "meerqat.ir.search module", "meerqat.models package", "meerqat.models.image module", "meerqat.models.mm module", "meerqat.models.qa module", "meerqat.models.utils module", "meerqat.train package", "meerqat.train.losses module", "meerqat.train.metrics module", "meerqat.train.split_biencoder module", "meerqat.train.trainee module", "meerqat.train.trainer module", "meerqat.viz package", "meerqat.viz.html module", "meerqat.viz.stats module", "meerqat.viz.umap module", "meerqat"], "terms": {"index": [0, 3, 6, 14, 15, 19, 21, 22, 26, 33], "modul": [0, 1, 2, 12, 18, 23, 28, 34], "search": [1, 18, 19, 20, 21, 33], "page": [0, 3, 32, 33], "data": [1, 20, 22, 27, 33, 38], "submodul": [1, 38], "kilt2vqa": [0, 1, 2, 5, 9], "labelstudio": [1, 2], "load": [0, 1, 2, 3, 11, 13, 16, 19, 20, 21, 22, 33], "msceleb": [1, 2], "util": [1, 2, 23, 26, 31, 33], "wiki": [1, 2, 3, 10, 22], "wikidump": [1, 2, 9], "imag": [1, 3, 5, 6, 9, 10, 11, 19, 22, 23, 25, 33, 35, 38], "embed": [1, 12, 18, 22, 24, 25, 32, 33, 37], "face_box": [0, 1, 12], "face_detect": [0, 1, 12], "face_recognit": [0, 1, 12], "resiz": [0, 1, 11, 12], "ir": [1, 33, 38], "hp": [0, 1, 18, 22], "metric": [1, 6, 18, 20, 22, 26, 28, 33, 37], "model": [1, 3, 6, 13, 15, 16, 19, 20, 21, 31, 32, 33, 38], "mm": [0, 1, 23], "qa": [0, 1, 3, 23, 32], "train": [1, 6, 11, 13, 15, 16, 20, 24, 25, 26, 38], "loss": [0, 1, 21, 28, 32, 33], "split_biencod": [0, 1, 28], "traine": [0, 1, 28, 31, 33], "trainer": [0, 1, 27, 28, 30, 31, 32], "viz": [1, 38], "html": [0, 1, 34], "stat": [1, 3, 9, 34], "umap": [0, 1, 34], "usag": [1, 2, 3, 5, 7, 10, 11, 13, 14, 15, 16, 17, 19, 20, 21, 22, 31, 33, 35, 36, 37], "py": [3, 5, 6, 7, 9, 10, 11, 13, 14, 15, 16, 17, 19, 20, 21, 22, 31, 32, 33, 35, 36, 37], "ner": 2, "subset": [0, 3, 7, 9, 10, 11], "disable_cach": [0, 3, 6, 13, 14, 15, 16, 17, 19, 20, 21, 22], "ned": 3, "map_kwarg": [3, 13, 16, 17, 19, 20, 22], "path": [0, 3, 5, 9, 10, 11, 15, 19, 20, 21, 22, 31, 33, 35, 36], "gener": [0, 2, 11, 25], "mention": [2, 9], "threshold": [0, 3, 15, 33], "vq": 2, "image_width": [3, 9], "n": [0, 3, 5, 6, 9, 15, 26, 30, 32, 33, 35], "categories_to_exclud": 3, "count_ent": [3, 7, 9], "alternative_imag": 3, "download": [0, 2, 5, 10, 11], "num_shard": [3, 33], "shard_index": 3, "option": [0, 2, 3, 5, 6, 13, 14, 15, 16, 17, 19, 20, 21, 22, 25, 26, 27, 30, 31, 32, 33, 35, 36], "word": [0, 3], "error": [3, 11], "rate": [3, 33], "wer": 3, "i": [0, 2, 3, 6, 7, 9, 10, 11, 13, 15, 19, 20, 21, 22, 25, 31, 32, 33], "e": [3, 6, 9, 10, 11, 13, 20, 22, 26, 31, 32, 33], "level": [0, 3, 9, 25, 30, 33], "levenshtein": 3, "distanc": [0, 3], "consid": [0, 3, 21, 33], "entiti": [0, 2, 3, 7, 10], "disambigu": 3, "default": [0, 3, 5, 6, 9, 14, 15, 20, 21, 22, 25, 26, 27, 30, 31, 32, 33, 35], "0": [0, 3, 5, 9, 10, 11, 13, 15, 20, 24, 30, 33, 37], "5": [0, 3, 22, 37], "number": [0, 3, 5, 6, 9, 25, 26, 32, 33, 35], "altern": [0, 3, 21, 33], "provid": [0, 3, 33], "8": [0, 3, 8], "desir": [3, 9], "thumbnail": [3, 9], "width": [0, 3, 9, 11, 35], "pixel": [3, 9, 11], "url": [0, 3, 9, 11, 37], "full": [0, 3, 9, 19, 25, 33], "size": [0, 3, 9, 13, 15, 17, 30, 33, 37], "toward": [3, 21, 33], "json": [0, 3, 5, 6, 9, 10, 19, 20, 21, 22, 31, 33], "file": [0, 3, 5, 6, 9, 11, 15, 19, 20, 21, 22, 31, 33], "contain": [0, 2, 3, 11, 20, 21], "kei": [0, 3, 6, 8, 9, 19, 22, 25, 32, 33, 36, 37], "argument": [3, 6, 15, 19, 20, 21, 22, 25, 27, 31, 32, 33], "dataset": [2, 3, 5, 6, 9, 11, 13, 14, 15, 16, 17, 19, 20, 21, 22, 33, 35, 36, 37], "map": [0, 2, 3, 7, 11, 15, 19, 20, 21, 22, 27, 33], "function": [0, 1, 2, 8, 13, 20, 21, 22, 24, 26, 27, 29, 31, 32, 33], "g": [3, 6, 9, 10, 11, 20, 22, 26, 31, 33], "batch": [0, 3, 9, 13, 15, 16, 19, 20, 21, 22, 26, 27, 30, 32, 33], "disabl": [3, 6, 13, 14, 15, 16, 17, 19, 20, 21, 22], "cach": [3, 6, 13, 14, 15, 16, 17, 19, 20, 21, 22], "useless": [3, 6, 13, 14, 15, 16, 17, 19, 20, 21, 22], "when": [0, 3, 6, 13, 14, 15, 16, 17, 19, 20, 21, 22, 30, 32], "us": [0, 2, 3, 5, 6, 8, 9, 11, 13, 14, 15, 16, 17, 19, 20, 21, 22, 24, 25, 26, 30, 31, 32, 33], "save_to_disk": [0, 3, 6, 13, 14, 15, 16, 17, 19, 20, 21, 22], "see": [0, 3, 5, 6, 9, 13, 14, 15, 16, 17, 19, 20, 21, 22, 25, 32, 33], "set_caching_en": [0, 3, 6, 13, 14, 15, 16, 17, 19, 20, 21, 22], "shard": [3, 33, 37], "part": [0, 3], "along": [0, 3, 5, 27, 33], "b": [0, 3, 6, 9, 20, 22], "sourc": [0, 3, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 19, 20, 21, 22, 24, 25, 26, 27, 30, 31, 32, 33, 35, 36, 37], "comput": [0, 3, 5, 8, 9, 13, 19, 21, 22, 24, 25, 30, 32, 33, 36], "spaci": [3, 6], "item2placehold": 3, "item": [0, 3, 6, 13, 14, 15, 21, 33, 35], "none": [0, 3, 6, 9, 10, 13, 15, 19, 20, 21, 22, 25, 26, 27, 32, 33, 35, 36, 37], "make": [0, 3, 6, 8, 22, 25, 33], "input": [3, 5, 6, 9, 10, 15, 19, 22, 24, 25, 26, 32, 33, 37], "question": [3, 5, 9, 21, 26, 32, 33], "suitabl": 3, "vqa": 3, "replac": [3, 9, 13], "an": [0, 3, 8, 9, 15, 22, 24, 25, 31, 32, 33], "explicit": 3, "its": [0, 3, 9, 10, 11, 21, 22, 33], "syntact": 3, "children": 3, "placehold": 3, "who": 3, "wrote": 3, "opera": 3, "carmen": 3, "note": [0, 3, 9, 10, 13, 15, 22, 32, 33], "onli": [0, 2, 3, 6, 9, 11, 13, 20, 21, 22, 25, 32, 33], "ar": [0, 3, 6, 9, 10, 11, 15, 19, 20, 22, 25, 27, 30, 32, 33], "The": [2, 3, 11, 15, 22, 25, 31, 32, 33], "final": [0, 3, 5, 13], "goal": 3, "find": [3, 9, 10, 21], "repres": [0, 3, 33], "fill": [3, 20], "appropri": [3, 6], "ambigu": 3, "thi": [0, 2, 3, 6, 8, 9, 11, 13, 15, 19, 22, 24, 25, 30, 31, 32, 33], "paramet": [0, 3, 5, 6, 9, 15, 19, 20, 21, 22, 25, 26, 27, 30, 31, 32, 33], "dict": [0, 3, 5, 7, 9, 19, 20, 21, 22, 25, 27, 30, 32, 33], "origin": [0, 3, 6, 9, 15, 21, 33], "should": [0, 1, 2, 3, 9, 10, 13, 15, 19, 20, 22, 24, 25, 30, 31, 32, 33], "lang": 3, "en": 3, "english": [3, 11], "pipelin": [0, 3, 20], "we": [0, 3, 6, 9, 21, 32, 33], "both": [0, 3, 6, 15, 21, 32, 33], "depend": [0, 3, 10, 19, 33], "pars": [0, 3, 10, 22], "return": [0, 3, 5, 6, 9, 10, 15, 19, 20, 21, 22, 26, 27, 32, 33], "same": [0, 3, 9, 15, 19, 22, 25, 27, 31, 32, 33], "extra": [0, 3, 6, 15, 25, 32, 33], "list": [0, 3, 5, 6, 9, 15, 19, 21, 22, 27, 33, 36], "One": [3, 22], "like": [0, 3, 6, 19, 22, 30, 31, 32, 33], "str": [3, 5, 6, 8, 9, 13, 15, 19, 20, 21, 22, 25, 31, 33], "spacy_input": 3, "po": 3, "tag": [3, 9, 10], "format": [3, 7, 11, 19, 20, 21, 33], "doc": 3, "to_json": 3, "hugging_face_dataset": 3, "fn_kwarg": [0, 3, 13, 16, 17, 19, 20], "spacy_model": 3, "kilt_subset": 3, "stringifi": 3, "field": [0, 3, 9, 10, 21, 22], "include_answ": 3, "true": [0, 3, 9, 11, 13, 15, 16, 22, 25, 26, 32, 33], "include_proven": 3, "include_dep": 3, "fals": [0, 3, 5, 6, 11, 15, 16, 20, 21, 22, 25, 31, 33, 36, 37], "1st": [3, 6], "step": [0, 3, 9, 20, 33], "name": [0, 3, 9, 11, 20, 21, 22, 25, 33], "recognit": [3, 16], "goe": 3, "through": [3, 6, 19, 20, 21, 22, 27], "kilt": [0, 3, 6], "appli": [0, 3, 9, 21, 22], "docstr": [3, 9], "save": [0, 3, 5, 6, 9, 13, 15, 19, 20, 21, 22, 31], "result": [3, 9, 10, 19, 20, 21, 22, 33], "f": [0, 3, 25], "data_root_path": 3, "meerqat_": 3, "wikipedia": [3, 6, 9, 11, 33], "wikipedia_id": [0, 3], "pedia_index": 3, "go": [0, 3], "candid": [0, 3], "from": [0, 3, 6, 9, 11, 13, 16, 19, 21, 22, 25, 26, 27, 31, 32, 33], "triviaqa": 3, "between": [0, 3, 6, 11, 32, 33], "titl": [0, 3, 6, 9, 21, 33, 37], "alias": [0, 3], "filter": [0, 2, 3, 11, 21, 22, 33], "minim": [3, 33], "2nd": 3, "assum": [0, 3], "you": [0, 1, 2, 3, 9, 19, 22, 31], "alreadi": [0, 3], "ran": 3, "wer_threshold": 3, "generate_ment": 3, "feminine_label": [3, 9], "3rd": 3, "given": [0, 3, 10, 22, 31, 33], "attribut": [3, 9, 31, 32, 33], "run": [3, 6, 9, 10, 13, 15, 20, 21, 22, 24, 33, 35], "first": [0, 1, 2, 3, 6, 8, 9, 10, 13, 15, 19, 22, 26, 32, 33], "generate_vq": 3, "512": [0, 3, 11, 17, 19, 25], "answer": [0, 3, 6, 21, 26, 32, 33], "tripl": 3, "choos": 3, "uniformli": 3, "type": [0, 3, 5, 6, 9, 19, 20, 21, 22, 27, 33], "best": [3, 26], "score": [0, 3, 9, 22, 26, 32], "sort": [3, 22, 33], "last": [0, 3], "tri": [0, 3, 9, 20], "uniqu": [3, 8], "per": [0, 3, 9, 19, 25, 26, 30, 32, 33], "int": [0, 3, 6, 9, 19, 21, 22, 25, 30, 32, 33], "new": [0, 3, 6, 9], "exclude_categori": 3, "validation_triviaqa": 3, "set": [0, 3, 6, 9, 20, 22, 33], "exclud": [3, 6, 9], "where": [0, 3, 5, 9, 11, 20, 21, 22, 27, 31, 33], "keyword": [0, 3, 15, 25], "includ": [3, 9, 21, 30], "one": [0, 3, 9, 13, 19, 20, 21, 22, 24, 25, 32, 33], "categori": [0, 3, 9, 10, 21], "cosplai": 3, "might": [0, 3, 9, 10, 22, 26, 31, 32, 33], "some": [0, 3, 7, 21, 33], "troubl": [3, 9], "gdpr": [3, 9], "empti": [3, 9, 21, 22], "keep": [3, 6, 9, 13, 22, 32, 33], "all": [0, 3, 8, 9, 11, 13, 20, 21, 22, 24, 27, 32, 33, 35], "arg": [3, 13, 20, 25, 27, 32, 33], "kwarg": [3, 6, 13, 15, 19, 20, 21, 22, 25, 27, 31, 32, 33, 36], "convert": [0, 3, 8, 16, 26], "label": [3, 5, 9, 30, 33], "studio": [3, 5], "download_imag": 3, "session": [3, 9], "merg": [0, 5, 21], "output": [0, 3, 5, 6, 9, 10, 17, 19, 21, 22, 25, 26, 27, 32, 33, 35, 36, 37], "assign": [5, 10], "todo": [0, 5, 9, 10, 32], "start": [0, 5, 26, 32, 33], "end": [0, 5, 11, 26, 32, 33], "overlap": [5, 6, 11], "zip": [5, 22], "config": [0, 5, 6, 13, 16, 17, 19, 20, 21, 22, 25, 31, 33, 35, 37], "agre": 5, "agreement": 5, "leav": [0, 5], "whether": [0, 5, 6, 9, 15, 20, 21, 22, 25, 32, 33], "directori": [0, 5, 11, 20, 21, 22, 31, 33], "load_complet": 5, "completions_path": 5, "handl": [5, 9, 20, 25], "individu": 5, "complet": [0, 5], "export": [0, 5, 10], "save_imag": [3, 5, 9], "output_path": [5, 6, 11, 17, 19, 21, 36, 37], "annotator_agr": 5, "disagr": 5, "annot": [2, 3, 5], "disagre": 5, "discard": [0, 5], "retrieve_vqa": 5, "assign_annot": 5, "todo_path": 5, "dataset_path": [5, 6, 13, 16, 17, 19, 21, 35], "agreements_path": 5, "main": [0, 5, 20, 25, 32, 33, 36, 37], "passag": [2, 19, 20, 21, 22, 26, 30, 32, 33], "invers": [6, 11, 33], "one2mani": 6, "sentenc": [0, 2, 11, 33], "load_imag": 6, "file_nam": [6, 9, 15, 17], "load_image_batch": [0, 6], "load_fac": 6, "root_face_path": 6, "max_n_fac": [6, 16], "remove_articl": 6, "text": [0, 6, 10, 19, 22, 25, 33], "white_space_fix": 6, "remove_punc": 6, "answer_preprocess": 6, "adapt": [0, 6, 16, 27, 32, 33], "squad": [6, 26, 33], "lower": 6, "remov": [6, 9, 11, 13, 33], "punctuat": 6, "articl": [6, 9, 10, 11, 21, 22, 33], "whitespac": 6, "get_class_from_nam": 6, "class_nam": [6, 13], "get_biencod": 6, "class": [3, 6, 9, 13, 15, 20, 22, 24, 25, 32, 33], "question_class": 6, "dpr_question_model_name_or_path": [0, 6], "context_class": 6, "dpr_context_model_name_or_path": 6, "get_pretrain": 6, "trainee_class": 6, "trainee_kwarg": 6, "map_kilt_triviaqa": 6, "As": [0, 6], "instruct": [0, 2, 6, 10], "http": [0, 6, 7, 9, 10, 11, 16, 22, 25, 32, 33], "github": [0, 6, 7, 11, 16, 22, 32, 33], "com": [0, 6, 7, 11, 16, 22, 32, 33], "huggingfac": [0, 6], "blob": [6, 7, 16, 32, 33], "master": [6, 7, 16, 32], "kilt_task": 6, "readm": [0, 6], "md": [0, 3, 5, 6], "make_map": 6, "valu": [6, 9, 20, 22, 27, 30, 36], "make_mapping_dataset": 6, "save_nam": 6, "remove_special_field": 6, "paragraph": [0, 6, 32], "code": [0, 6, 32, 33], "put": 6, "lot": 6, "trust": [0, 6], "pre": [6, 13, 19, 22, 33], "process": [0, 6, 9, 13, 15, 22, 32, 33], "facebookresearch": [0, 6, 22, 32, 33], "script": [0, 2, 6, 19, 21, 22, 33], "create_kilt_data_paragraph": 6, "simpli": [0, 6, 9, 13, 15, 32], "section": [0, 6, 11, 33], "bullet": 6, "point": 6, "paragraphs_preprocess": 6, "method": [0, 6, 15, 22, 32, 33], "preprocess": [6, 16], "ident": 6, "addit": [0, 6, 9, 32, 33], "pass": [0, 6, 13, 19, 20, 21, 22, 24, 25, 27, 31, 32, 33], "uniform_passag": 6, "token": [0, 6, 19, 25, 26, 33], "100": [0, 6, 9, 20, 22, 30], "split": [6, 9, 11, 31], "pretrainedtoken": [6, 19], "each": [0, 6, 19, 20, 21, 22, 26, 30, 33], "To": [0, 6, 13, 19, 33], "prepend": 6, "begin": [0, 6], "sep": 6, "case": [0, 6, 9, 19, 22, 25], "ad": [6, 19, 33], "space": [6, 9, 24, 25], "mark": [0, 6], "etc": [6, 9, 33], "uniform_passages_of_sent": 6, "sep_token": 6, "unlik": [0, 6], "which": [0, 6, 11, 21, 22, 31, 33], "base": [6, 7, 9, 13, 15, 19, 20, 22, 24, 25, 32, 33], "transform": [0, 6, 13, 17, 25, 27, 32, 33], "here": [0, 6, 22], "re": [0, 6, 9, 32], "abl": [0, 6, 19, 33], "get": [6, 9, 13, 19, 21, 22, 26, 31, 33], "back": [6, 21], "un": 6, "correspond": [0, 6, 11, 22, 24, 30, 33], "so": [0, 3, 6, 8, 9, 15, 21, 32, 33], "chang": [0, 6, 25, 33], "lost": 6, "alwai": [0, 6, 32, 33], "maximum": [6, 9, 11, 32], "There": [6, 32], "can": [0, 3, 6, 8, 9, 19, 22, 32, 33], "actual": [6, 15, 22, 32, 33], "more": [0, 3, 6, 33], "than": [0, 3, 6, 13], "singl": [0, 6, 11, 21, 33], "separ": [0, 6, 9], "effect": [0, 6, 32, 33], "make_passag": 6, "preprocessing_method": 6, "preprocessing_kwarg": 6, "how": [0, 6], "make_passage_item": 6, "passage_dict": 6, "prepend_titl": [6, 33], "make_passage_dataset": 6, "input_path": 6, "creat": [6, 22, 33], "revers": [6, 22], "respect": [0, 3, 6, 20, 32], "make_sentences_item": 6, "make_sentences_dataset": 6, "load_pretrained_in_kwarg": [6, 31], "recurs": [6, 9, 27], "extract": [0, 7, 15, 32, 33], "wikidata2freebas": 7, "mid": 7, "For": [0, 1, 2, 7, 13], "reason": [0, 7], "wikidata": [7, 9], "m": [7, 26, 30, 32, 33], "0xxx": 7, "freebas": 7, "": [6, 7, 11, 15, 19, 21, 22, 25, 33, 37], "freebase2wikidata": 7, "qid": [7, 9], "mscelebs_path": 7, "cmusatyalab": 7, "openfac": 7, "celeb": 7, "1m": [0, 7], "md5": 8, "string": [0, 6, 8, 9, 33], "hashlib": 8, "sum": [0, 8, 22], "encod": [8, 13, 25, 32], "utf": 8, "lastli": 8, "decod": 8, "hash": [8, 11], "hexdigest": 8, "json_integer_kei": 8, "dictionari": [8, 27], "dictionai": 8, "integ": [8, 22], "sure": [0, 8], "cast": 8, "remain": [0, 8], "befor": [0, 8, 9, 10, 20, 22, 32, 33], "skip": [0, 9], "feminin": 2, "depict": [2, 3], "superclass": 2, "common": [0, 2, 3, 10, 11], "sparql": 2, "rest": [0, 2, 10, 22, 33], "max_imag": 9, "max_categori": 9, "heurist": [2, 3], "posit": [0, 9, 19, 20, 21, 22, 31, 33], "neg": [0, 9, 33], "deceas": 9, "year": [0, 9], "classes_to_exclud": 9, "queri": [9, 22, 32, 33], "root": [0, 3, 9, 15], "want": [0, 9, 19, 22, 31], "1000": [9, 22], "descript": [9, 33], "valid": [0, 3, 9, 11], "abov": [0, 6, 9, 33], "concrete_ent": 9, "gender": [3, 9], "p21": 9, "occup": [3, 9], "p106": 9, "negative_filt": 9, "abstract_ent": 9, "after": [0, 9, 11, 20, 22, 32, 35], "positive_filt": 9, "human": [0, 3, 9, 33], "q5": 9, "aliv": 9, "avoid": [9, 20], "q82794": 9, "even": [0, 9], "without": [0, 6, 9, 11, 33, 35], "specifi": [0, 9, 32], "your": [0, 9, 10], "own": 9, "file_name_to_thumbnail": 9, "upload": [0, 9, 11], "wikimedia": [0, 3, 9, 11], "org": [0, 9, 10, 11, 22], "prefix": [9, 27, 32], "thumbnail_to_file_nam": 9, "special": 9, "If": [0, 9, 15, 19, 22, 31], "extens": [9, 11], "ani": [0, 3, 9, 11, 25, 33], "specif": [0, 9, 22, 26, 33], "introduc": 9, "thumb": [0, 9], "9": [0, 9], "93": 9, "foo": 9, "tif": 9, "lossi": 9, "page1": 9, "469px": 9, "jpg": [0, 9, 11], "els": [0, 3, 9, 22], "irrelev": [0, 9, 11, 26, 33], "cours": 9, "bytes2dict": 9, "get_licens": 9, "licens": 9, "short": 9, "upper": 9, "unavail": 9, "license_scor": 9, "normal": [0, 9, 22, 32], "query_sparql_ent": 9, "endpoint": 9, "wikidata_id": [0, 9], "wd": 9, "return_format": 9, "sdc": 9, "update_from_data": 9, "updat": [9, 22], "info": 9, "set_reference_imag": 9, "refer": [9, 21, 22, 25, 26, 32, 33], "reserved_imag": 9, "order": [0, 9, 22, 33], "prefer": [0, 9], "ha": [0, 9, 33], "avail": [0, 3, 9, 11], "update_from_commons_sparql": 9, "query_depicted_ent": 9, "depiction_instanceof_heurist": 9, "keep_prominent_depict": 9, "request": 9, "max_tri": 9, "2": [0, 9, 20, 22, 32, 33], "via": [0, 6, 9], "except": [0, 9, 20, 31, 32], "someth": [0, 9], "went": 9, "wrong": 9, "query_commons_subcategori": 9, "n_queried_categori": 9, "subcategori": 9, "bool": [9, 13, 15, 20, 21, 22, 24, 25, 26, 31, 32, 33], "been": [0, 9], "gather": [3, 9, 10, 19, 33], "about": [0, 3, 9, 22, 36], "query_imag": 9, "left": [0, 9], "enforc": [0, 9, 33], "len": [0, 9, 27, 36], "otherwis": [9, 11, 33], "track": 9, "equal": [9, 15], "hopefulli": 9, "enrich": 9, "update_from_commons_rest": 9, "special_path_to_file_nam": 9, "special_path": 9, "add": [0, 9, 10, 11, 22, 33], "underscor": 9, "image_heurist": 9, "exclude_class": 9, "keep_class": 9, "classes_to_keep": 9, "attributes_to_keep": 9, "iso2year": 9, "iso": 9, "date": 9, "remove_alive_human": 9, "year_threshold": 9, "inf": 9, "query_superclass": 9, "wikidata_superclasses_queri": 9, "n_level": 9, "uri_to_qid": 9, "uri": 9, "uris_to_qid": 9, "query_feminine_label": 9, "count": 9, "everi": [3, 9, 13, 20, 24], "print_stat": 9, "parse_fil": 10, "element": [10, 32], "namespac": 10, "mw": 10, "www": 10, "mediawiki": 10, "xml": 10, "10": [0, 10, 22, 33], "test": [0, 10, 11, 20], "et": [0, 10], "find_text": 10, "get_field": 10, "wikitext": 10, "process_articl": 10, "entity_categori": 10, "dump_path": 10, "imageencod": 13, "pool": [0, 13], "featur": [0, 13, 19, 24, 25, 32, 33], "forward": [13, 15, 19, 24, 25, 32], "x": [13, 15, 16, 22], "defin": [13, 20, 22, 24, 33], "perform": [0, 13, 15, 24], "call": [3, 13, 22, 24], "overridden": [13, 24], "subclass": [13, 24, 32, 33], "although": [0, 13, 15, 24], "recip": [13, 24], "need": [0, 3, 10, 13, 24, 33], "within": [13, 24], "instanc": [9, 13, 19, 24], "afterward": [13, 24], "instead": [0, 13, 19, 24, 31, 33, 36], "sinc": [0, 13, 22, 24], "former": [13, 24], "take": [0, 3, 5, 13, 19, 22, 24, 25], "care": [13, 24], "regist": [13, 24], "hook": [13, 24], "while": [0, 3, 13, 20, 24], "latter": [0, 13, 24], "silent": [13, 24], "ignor": [13, 24], "them": [0, 10, 13, 21, 22, 24, 25], "get_nn_modul": 13, "from_pretrain": [13, 16], "model_nam": [13, 16], "resnet50": [0, 13], "imagenet": [13, 25], "pretrained_model_path": 13, "other": [0, 13, 21, 32, 33], "don": [0, 13, 31, 32], "t": [0, 3, 6, 9, 13, 20, 21, 31, 32], "forget": 13, "right": [0, 11, 13], "num_class": 13, "exampl": [0, 13, 15, 35], "places365": 13, "checkpoint": [0, 13, 31, 32, 33], "state_dict": 13, "torch": [0, 13, 15, 25, 32, 33], "resnet50_places365": 13, "pth": [0, 13], "tar": [0, 13], "map_loc": 13, "cpu": 13, "k": [0, 13, 20, 22], "v": 13, "resnet50_places365_state_dict": 13, "get_encod": 13, "torchvision_model": 13, "convolut": [0, 13], "layer": [0, 13, 19, 24, 32], "classif": 13, "get_torchvision_model": 13, "pretrained_kwarg": [13, 16], "pool_kwarg": 13, "get_transform": [13, 17], "resize_kwarg": [13, 17], "224": 13, "crop_siz": 13, "mean": [0, 11, 13, 21, 22, 33], "485": 13, "456": 13, "406": 13, "std": [13, 22], "229": 13, "225": 13, "get_model_and_transform": 13, "model_kwarg": 13, "transform_kwarg": [13, 17], "emb": [0, 13, 19, 32], "save_a": [0, 13, 19], "image_embed": [0, 13], "image_kei": [0, 13, 14, 15, 16, 17], "dataset_emb": [13, 19], "scale_box": 14, "root_path": [11, 15], "model_config": 15, "batch_siz": [0, 15, 19, 25, 27, 33], "detect": [3, 15], "face": [15, 19, 22, 24, 25, 33, 37], "stem": 15, "group": [6, 15, 32], "64": 15, "mtcnn": [0, 15], "image_s": [15, 16], "160": 15, "margin": [0, 15], "min_face_s": 15, "20": [15, 22, 37], "6": [0, 15, 37], "7": [0, 15, 19, 25], "factor": 15, "709": 15, "post_process": 15, "select_largest": 15, "selection_method": 15, "keep_al": 15, "devic": [15, 22, 27, 33], "overrid": [15, 33], "allow": [0, 15], "bound": [15, 20, 24], "box": [15, 24], "landmark": [0, 15, 16], "img": 15, "save_path": [15, 22], "return_prob": 15, "return_box": 15, "return_landmark": 15, "pil": [0, 15, 16], "numpi": 15, "arrai": 15, "np": [15, 22, 30], "ndarrai": [15, 22, 26, 27, 30], "A": [0, 15, 22, 25, 32], "tensor": [15, 19, 27, 32, 33], "crop": 15, "self": [15, 20, 22, 33], "post": 15, "represent": [0, 15, 19, 25, 33], "length": [15, 26, 32, 33, 36], "probabl": [0, 2, 9, 15, 26, 30, 32, 33], "facial": 15, "union": [15, 20, 21, 22, 33], "tupl": [15, 19, 22, 25, 27, 32], "float": [15, 22, 33], "dimens": [0, 15, 22, 32, 33], "3": [0, 15, 22], "wa": [0, 3, 15, 22], "coordin": [0, 15], "associ": [0, 15, 22, 32, 33], "have": [0, 1, 2, 9, 15, 22, 31, 32, 33], "face_tensor": 15, "prob": 15, "png": [0, 11, 15], "detect_fac": 15, "save_root_path": 15, "dataset_detect_fac": 15, "similarity_transform": [0, 16], "src": 16, "tform": 16, "112": 16, "deepinsight": 16, "insightfac": [0, 16], "arcface_torch": [0, 16], "eval_ijbc": 16, "r50": 16, "fp16": 16, "get_pil_preprocessor": 16, "shape": [16, 19, 26, 27, 30, 32, 33], "h": [0, 16], "w": [0, 3, 9, 16, 20, 21], "c": [0, 16, 25], "open": [0, 16, 32, 33], "image_path": 16, "rgb": 16, "compute_face_embed": 16, "preprocessor": 16, "1": [0, 16, 20, 21, 22, 24, 25, 30, 32, 33], "dataset_compute_face_embed": 16, "output_root": 17, "dataset_res": 17, "knowledg": [19, 33], "prior": 19, "kb": [19, 20, 21, 22, 33], "configur": [0, 19, 20, 22, 25, 31, 33], "overwrit": 19, "get_face_input": [19, 33], "n_face": [0, 19, 25, 33], "4": [0, 19, 25, 33, 37], "face_dim": [19, 24, 25, 33], "bbox_dim": [19, 24, 25, 33], "nice": [19, 33], "squar": [19, 33], "similarli": 19, "mmtrainer": [19, 33], "face_input": [19, 25, 33], "bbox": [19, 24, 25, 33], "attention_mask": [19, 25, 32, 33], "get_image_input": [19, 33], "image_kwarg": [0, 19, 25], "precomput": 19, "image_input": [19, 25, 33], "mask": [19, 25, 32, 33], "map_passage_to_kb": 19, "get_input": 19, "tokenization_kwarg": [19, 33], "nn": [0, 19, 32, 33], "dmrencod": [], "intermediatelinearfus": [19, 25], "hold": [0, 6, 19, 22, 33], "mappabl": 19, "text_embed": 19, "output_kei": 19, "forward_kwarg": 19, "THE": 19, "expect": [0, 19, 22], "being": [19, 20, 32], "sequence_length": 19, "hidden_s": 19, "In": [0, 19, 25, 32, 33], "_layer_": 19, "dmr": [], "optim": [0, 20], "hyperparamet": [20, 22], "cleanup_cache_fil": 20, "fusion": [20, 22], "bm25": [20, 26], "nearest": [20, 22], "neighbor": [20, 22], "clean": 20, "up": [0, 9, 11, 20], "current": [0, 6, 20, 32], "satur": 20, "disk": 20, "storag": 20, "delet": [9, 20], "exit": 20, "tex": [20, 21], "applic": [10, 20], "object": [0, 20, 22, 33], "do_cache_relev": 20, "metric_for_best_model": 20, "eval_dataset": [20, 22, 33], "callabl": [20, 27], "compat": [0, 20, 32], "optuna": [0, 20], "relev": [3, 10, 20, 21, 30, 32, 33], "evalu": [0, 20, 22, 31, 33], "mrr": [0, 20, 21, 22, 37], "searcher": [20, 22], "best_param": 20, "report": 20, "ranx": [0, 20, 21, 22, 33], "cache_relev": 20, "do_copi": 20, "r": [0, 3, 9, 20, 22], "cache_relevant_dataset": 20, "fusionobject": 20, "hyp_hyp": 20, "hyper": 20, "grid": [0, 20], "bm25object": 20, "fed": 20, "es_client": [20, 22], "indic": [20, 21, 22], "put_set": [20, 22], "similar": [0, 5, 20, 33], "karpukhin": [0, 20, 33], "75": 20, "k1": 20, "get_object": 20, "objective_typ": 20, "train_dataset": [20, 33], "objective_kwarg": 20, "instanti": [20, 22, 33], "recomput": 20, "time": [0, 20, 32, 33], "default_study_kwarg": 20, "sampler": 20, "gridsampl": 20, "direct": 20, "maxim": [0, 20], "create_studi": 20, "overwritten": 20, "hyperparameter_search": 20, "study_nam": 20, "metric_save_path": [20, 22], "optimize_kwarg": 20, "study_kwarg": 20, "accord": [3, 20, 21, 22, 33], "qrel": [0, 20, 21, 22], "studi": [20, 22], "relat": 21, "docopt": [1, 2, 21], "title2index": [0, 21], "article2passag": [0, 21], "cat": [0, 21], "win": 21, "tie": 21, "pick": [0, 21], "also": [0, 5, 9, 21, 22, 33], "correspong": 21, "trec": [0, 21, 33], "id": [0, 21, 25], "out": [0, 3, 5, 6, 11, 21, 22, 26, 33], "ti": 21, "precis": [0, 21, 22, 33], "find_relev": [0, 21], "retriev": [0, 10, 21, 22, 26, 30, 33], "original_answ": [0, 21], "alternative_answ": 21, "reference_kei": [21, 22], "original_relev": 21, "find_relevant_batch": [21, 22], "retrieved_batch": 21, "ground_truth_output_batch": 21, "relevant_batch": 21, "original_answer_onli": 21, "extend": [0, 21, 33], "ones": [21, 33], "find_relevant_item": 21, "link": [21, 22], "find_relevant_dataset": 21, "fuse_qrel": 21, "qrels_path": [21, 37], "under": [21, 31], "fused_qrel": 21, "load_run": 21, "runs_path": 21, "runs_dict": 21, "filter_q_id": 21, "run_path": [0, 21, 33, 37], "eventu": [21, 22], "identifi": [21, 22], "compar": [0, 21, 22, 32], "feed": [21, 25, 33], "were": [0, 2, 9, 21, 31], "print": [21, 27], "cat_breakdown": 21, "belong": 21, "get_wtl_tabl": 21, "wtl_kei": 21, "wtl_metric": 21, "either": [0, 21, 22, 32], "against": [0, 21], "panda": 21, "datafram": 21, "l": [0, 5, 21, 25, 26, 32, 33], "what": [0, 1, 2, 21, 33], "doe": [0, 3, 21, 22, 31, 33], "built": 22, "upon": [0, 22], "itself": [0, 22], "wrap": [22, 32], "faiss": [0, 22], "elasticsearch": [0, 22], "scores2dict": 22, "scores_batch": 22, "indices_batch": 22, "scores_dict": 22, "dict2scor": 22, "desc": 22, "top": [0, 22, 33], "dict_batch2scor": 22, "additionn": [22, 25, 27, 33], "norm_mean_std": 22, "scale": [0, 22], "switch": 22, "differ": [0, 9, 22, 25, 32], "l2norm": [0, 22], "unit": [0, 22, 25], "norm": 22, "vector": 22, "indexkind": 22, "enum": 22, "Will": [22, 33], "later": 22, "kind_str": 22, "do_l2norm": 22, "interpolation_weight": 22, "dataclass": 22, "inform": [0, 22, 33], "faissindex": 22, "esindex": 22, "store": [0, 3, 11, 22, 31, 33], "kind": [0, 22], "fuse": [0, 22, 25], "multipl": [0, 22], "difficult": 22, "hierarchi": 22, "public": 22, "search_batch": 22, "knowledgebas": 22, "kb_path": 22, "index_mapping_path": 22, "index_kwarg": [0, 22], "load_dataset": [0, 22], "sever": [0, 5, 22, 32, 33], "add_or_load_index": 22, "index_nam": 22, "search_batch_if_not_non": 22, "map_indic": 22, "index_map": 22, "align": [0, 22], "mani": [9, 22, 25], "exceed": 22, "bewar": [0, 22, 33], "noth": [0, 22], "do": [0, 22], "_index": 22, "column": [0, 6, 22, 33], "add_or_load_elasticsearch_index": 22, "add_or_load_faiss_index": 22, "unless": 22, "string_factori": [0, 22], "load_faiss_index": 22, "add_faiss_index": 22, "save_faiss_index": 22, "factori": 22, "infer": [22, 33], "check": [0, 22], "load_elasticsearch_index": 22, "add_elasticsearch_index": 22, "format_run_indic": 22, "cannot": [0, 22], "becaus": [0, 22, 33], "numba": 22, "format_qrels_indic": 22, "kb_kwarg": 22, "reference_kb_path": 22, "request_timeout": 22, "es_client_kwarg": 22, "fusion_kwarg": 22, "metrics_kwarg": 22, "save_in_dataset": 22, "aggreg": 22, "valy": 22, "onc": [0, 11, 22], "provenance_indic": [22, 33], "recommand": [3, 22], "timeout": 22, "interpolation_fus": 22, "hit_rat": 22, "rank": [0, 3, 22, 32], "reli": [22, 25], "fuse_and_compute_metr": 22, "wai": [0, 22], "union_result": 22, "default_minimum": 22, "simpl": [0, 22, 32], "weight": [22, 26, 31], "w_1": 22, "score_1": 22, "w_2": 22, "score_2": 22, "w_3": 22, "score_3": 22, "minimum": [0, 22], "trick": [0, 22], "combin": [0, 22, 25], "system": [0, 22], "consist": [0, 22, 32], "give": [0, 22], "vice": [0, 22], "versa": [0, 22], "ma": [0, 22, 32], "sun": 22, "pradeep": 22, "lin": 22, "j": [0, 22, 25], "2021": 22, "replic": 22, "dens": [0, 22, 33], "arxiv": [0, 22], "preprint": [0, 22], "2104": 22, "05740": 22, "ab": [0, 22], "dataset_search": 22, "build": 24, "block": 24, "vision": [0, 24, 25], "faceembed": [24, 25], "embedding_dim": 24, "dropout": 24, "layer_norm_ep": 24, "1e": 24, "12": [0, 24], "project": [0, 24, 25, 32, 37], "linear": 24, "togeth": 24, "imageembed": [24, 25], "input_dim": [24, 25], "implement": [0, 25, 32, 33], "two": [0, 11, 25, 31], "architectur": 25, "present": 25, "ecir": [0, 11, 25], "submit": [], "paper": [0, 11, 25, 32], "encoderoutput": 25, "pooler_output": 25, "floattensor": [25, 32], "modeloutput": [25, 32], "biencod": [0, 25, 31, 32, 33], "framework": [25, 32], "dmrencoderoutput": [], "hidden_st": [25, 32], "attent": [25, 32], "dprquestionencoderoutput": [25, 32], "dprcontextencoderoutput": [25, 32], "mmconfig": [25, 33], "face_kwarg": 25, "face_and_image_are_exclus": [0, 25], "no_text": 25, "bertconfig": 25, "multimod": [11, 25, 33], "clip": 25, "rn50": [0, 25], "1024": 25, "2048": 25, "exclus": [0, 25, 26], "cl": [0, 25, 26], "concaten": [25, 33], "pretrainedmodel": [25, 31], "sequenc": [25, 26, 32, 33], "bert": [0, 25, 31, 32], "\u00e0": 25, "la": 25, "obtain": [0, 25], "chen": [0, 25, 33], "y": [0, 25], "li": [0, 25], "yu": [0, 25], "el": [0, 25], "kholi": [0, 25], "ahm": [0, 25], "gan": [0, 25], "z": [0, 25], "cheng": [0, 25], "liu": [0, 25], "univers": [0, 25], "learn": [0, 25], "european": [0, 25], "confer": [0, 25, 32, 33], "pp": [0, 25], "104": [0, 25], "120": [0, 25], "openreview": [0, 25], "net": [0, 25], "forum": [0, 25], "s1el4kbywr": [0, 25], "springer": [0, 25], "2020": [0, 25, 33], "config_class": 25, "alia": 25, "load_tf_weight": 25, "base_model_prefix": 25, "bert_model": [25, 31], "text_input": 25, "output_attent": 25, "output_hidden_st": 25, "return_dict": [25, 32], "longtensor": [25, 32, 33], "usual": [25, 32, 33], "bertmodel": [0, 25, 31], "image_dim": [25, 33], "ilfconfig": 25, "question_encod": 25, "dprquestionencod": [0, 25, 31, 32], "dprcontextencod": [0, 25, 31, 32], "real": 25, "dpr": [19, 25, 32, 33], "linearli": 25, "dpr_encod": [0, 25], "get_best_span": [0, 26], "start_prob": 26, "end_prob": 26, "cannot_be_first_token": [0, 26], "span": [0, 26, 32, 33], "notat": [26, 32], "distinct": [26, 32, 33], "weigh": [0, 26], "null": 26, "dure": [0, 26, 33], "passage_indic": 26, "start_indic": 26, "end_indic": 26, "inclus": [26, 30], "format_predictions_for_squad": 26, "predict": [0, 26, 30, 33], "multipassageberttrain": [26, 33], "log_probs_to_answ": [26, 33], "misc": 27, "map_if_not_non": 27, "default_valu": 27, "debug_shap": 27, "nest": 27, "batchencod": 27, "prepare_input": 27, "move": 27, "eval_predict": 30, "ignore_index": 30, "evalpredict": 30, "dataset_s": 30, "log": [30, 32, 33], "label_id": 30, "taken": 30, "account": 30, "question_model": [31, 32, 33], "context_model": [31, 32, 33], "dprbiencod": [31, 32], "must": [31, 33], "pytorch": [0, 31, 32], "weights_nam": 31, "pytorch_model": [31, 33], "bin": [31, 33], "made": 32, "dprbiencodertrain": [32, 33], "target": [32, 33], "done": [0, 11, 32], "dprreaderforquestionansweringoutput": 32, "start_logit": 32, "end_logit": 32, "relevance_logit": 32, "dprreaderoutput": 32, "questionansweringmodeloutput": 32, "unfortun": 32, "redefin": 32, "everyth": 32, "multipassagebertoutput": 32, "start_log_prob": 32, "end_log_prob": 32, "equival": [9, 32], "softmax": [0, 32], "biencoderoutput": 32, "question_pooler_output": 32, "context_pooler_output": 32, "dprbiencoderoutput": 32, "question_hidden_st": 32, "question_attent": 32, "context_hidden_st": 32, "context_attent": 32, "context": [0, 32, 33], "supports_gradient_checkpoint": 32, "question_input": [32, 33], "context_input": [32, 33], "gradient_checkpointing_en": 32, "activ": 32, "gradient": [0, 32], "gradient_checkpointing_dis": 32, "deactiv": 32, "properti": [9, 32], "is_gradient_checkpoint": 32, "evid": 32, "confus": 32, "imo": 32, "d": [0, 11, 32, 33], "input_id": [32, 33], "dprreaderforquestionansw": 32, "start_posit": [32, 33], "end_posit": [32, 33], "answer_mask": [32, 33], "bertforquestionansw": [0, 32], "reader": [0, 32], "multipassagebert": [32, 33], "multi": [0, 32], "global": 32, "nll": 32, "across": [0, 32, 33], "allenai": 32, "document": [32, 33], "docqa": 32, "span_predict": 32, "multipassagedprread": 32, "zhiguo": [0, 32], "wang": [0, 32], "patrick": [0, 32, 33], "ng": [0, 32], "xiaofei": [0, 32], "ramesh": [0, 32], "nallapati": 32, "bing": [0, 32], "xiang": [0, 32], "2019": [0, 32, 33], "domain": [0, 32, 33], "proceed": [0, 32, 33], "empir": [0, 32, 33], "natur": [0, 9, 32, 33], "languag": [0, 32, 33], "9th": [0, 32], "intern": [0, 32], "joint": [0, 32], "emnlp": [0, 32, 33], "ijcnlp": [0, 32], "5878": [0, 32], "5882": [0, 32], "hong": [0, 32], "kong": [0, 32], "china": [0, 32], "linguist": [0, 32, 33], "christoph": [0, 32], "clark": [0, 32], "matt": [0, 32], "gardner": [0, 32], "2018": [0, 32], "read": [3, 32], "comprehens": [3, 32], "56th": [0, 32], "annual": [0, 32, 33], "meet": [0, 32, 33], "volum": [0, 32], "long": [0, 32], "845": [0, 32], "855": [0, 32], "melbourn": [0, 32], "australia": [0, 32], "constant": 32, "max_n_answ": [0, 32, 33], "found": [0, 9, 11, 32, 33], "requir": 32, "reshap": 32, "max_memory_usag": 33, "max_memory_alloc": 33, "gpu": [0, 33], "memori": 33, "readabl": 33, "machin": 33, "meerqattrain": 33, "freez": [0, 33], "regex": [0, 33], "match": [0, 3, 31, 33], "requires_grad": 33, "fulli": [0, 33], "trainabl": [0, 33], "write_predict": 33, "resume_from_checkpoint": [0, 31, 33], "write_metr": 33, "questionansweringtrain": 33, "24": [0, 33], "n_relevant_passag": [0, 33], "search_kei": 33, "work": [0, 33], "rc": [0, 33], "fly": 33, "icttrain": 33, "mandatori": 33, "suffix": 33, "_indic": 33, "_score": 33, "_provenance_indic": 33, "_irrelevant_indic": 33, "get_training_passag": 33, "relevant_passag": 33, "irrelevant_passag": 33, "select": 33, "compute_loss": 33, "likelihood": 33, "dot": [0, 33], "product": [0, 33], "describ": [0, 11, 33], "therefor": 33, "visual": 33, "vladimir": [0, 33], "barla": [0, 33], "oguz": [0, 33], "sewon": [0, 33], "min": [0, 33], "lewi": [0, 33], "ledel": [0, 33], "wu": [0, 33], "sergei": [0, 33], "edunov": [0, 33], "danqi": [0, 33], "wen": [0, 33], "tau": [0, 33], "yih": [0, 33], "6769": [0, 33], "6781": [0, 33], "collate_fn": 33, "collat": 33, "row": 33, "idem": 33, "return_output": 33, "calcul": 33, "schema": 33, "support": [0, 33], "ddp": 33, "mode": [31, 33], "exchang": 33, "node": 33, "train_dense_encod": 33, "whole": [0, 9, 33], "matrix": 33, "fit": [0, 33], "image_kb": [33, 37], "sohuld": 33, "eas": 33, "inherit": [0, 33], "add_image_featur": 33, "sentences_per_target": 33, "text_mask_r": 33, "image_mask_r": 33, "cloze": [6, 11, 33], "task": [5, 6, 11, 33], "ict": [6, 33], "pseudo": 33, "nearbi": 33, "infobox": [9, 33], "preprend": 33, "kenton": [0, 33], "lee": [0, 33], "ming": [0, 33], "wei": [0, 33], "kristina": [0, 33], "toutanova": [0, 33], "latent": 33, "weakli": 33, "supervis": 33, "57th": 33, "6086": 33, "6096": 33, "florenc": 33, "itali": 33, "parent": 33, "ignore_kei": 33, "answer_str": 33, "train_original_answer_onli": [0, 33], "oracl": [0, 33], "manag": 33, "abstract": 33, "readingcomprehensiontrain": 33, "enabl": 33, "necessari": 33, "limit": 33, "get_eval_passag": 33, "get_answer_posit": 33, "passage_scor": 33, "evaluation_loop": 33, "dataload": 33, "prediction_loss_onli": 33, "metric_key_prefix": 33, "eval": 33, "evalloopoutput": 33, "truncat": 33, "recov": 33, "get_checkpoint": 33, "possibli": 33, "ascend": 33, "subsample_dataset": 33, "shuffl": [33, 35], "filter_rel": 33, "With": 33, "least": 33, "instantiate_train": 33, "trainer_class": 33, "debug": 33, "training_kwarg": [0, 33], "callbacks_arg": 33, "train_shard": 33, "eval_shard": 33, "filter_train_rel": 33, "filter_eval_rel": 33, "trainingargu": 33, "autograd": 33, "detect_anomali": 33, "add_callback": 33, "training_arg": 33, "400": 35, "get_top_1": 35, "format_html": 35, "passages_path": 35, "wiki_path": 35, "search_run": 35, "other_search_run": 35, "pgf": 36, "themselv": 36, "dataset_stat": 36, "discret": 36, "reduc": 37, "cosin": [0, 37], "fplot": 37, "reduced_embed": 37, "figsiz": 37, "alpha": 37, "iplot": 37, "input_kei": 37, "thumb_width": 37, "128": 37, "plot_width": 37, "600": 37, "plot_height": 37, "tool": 37, "pan": 37, "wheel_zoom": 37, "reset": 37, "line_alpha": 37, "fill_alpha": 37, "palett": 37, "viridis256": 37, "get_ranx_run": 37, "url_kei": 37, "reduce_kwarg": 37, "fplot_kwarg": 37, "iplot_kwarg": 37, "ranx_kwarg": 37, "packag": 38, "subpackag": 38, "content": [], "folder": [0, 3], "repo": [0, 3], "exist": 3, "textual": 3, "illustr": 3, "kilt2vqa_nlp": [], "slight": 3, "misnom": 3, "bit": 3, "rarr": 3, "frame": 3, "problem": 3, "author": [0, 3], "off": [0, 3], "shelf": 3, "didn": 3, "just": [0, 3], "kilt2vqa_mentiong_gen": [], "anim": 3, "sex": [3, 9], "man": 3, "woman": 3, "transgend": 3, "he": [0, 3], "him": 3, "hi": 3, "she": 3, "her": 3, "actress": 3, "non": [0, 3], "taxon": 3, "speci": 3, "tower": [3, 9], "previou": [0, 3], "automat": 3, "thu": [0, 3], "help": [0, 3], "advic": 3, "appreci": 3, "overview": [1, 2], "kvqa": [1, 2], "interest": [0, 2], "user": 2, "segment": 6, "kilt_wikipedia": [0, 6], "special_field": 6, "uniform": 6, "uniform_s": 6, "Then": [0, 6, 9], "quick": [0, 6], "servic": 9, "api": 9, "cake": 9, "follow": [0, 9, 11], "p18": 9, "roughli": [0, 9], "p154": 9, "logo": 9, "p41": 9, "flag": [0, 9], "p94": 9, "coat": 9, "arm": 9, "p2425": 9, "ribbon": 9, "_superclass": 9, "discrimin": 9, "previous": 9, "tell": 9, "promin": 9, "pic": 9, "barack": 9, "obama": 9, "joe": 9, "biden": 9, "eiffel": 9, "death": 9, "share": [0, 9], "kept": 9, "mayb": [0, 9], "unsur": 9, "veri": [0, 9, 10], "small": [0, 9], "those": [0, 9], "control": 9, "manipul": 5, "labelstud": [], "io": [], "_": 0, "inter": 5, "correct": 5, "dump": 10, "wikicod": 10, "lazili": 10, "second": [0, 10], "templat": 10, "expand": 10, "viqua": [], "lerner": 0, "al": 0, "sigir": 0, "22": 0, "paullern": 0, "instal": [], "hal": 0, "archiv": 0, "ouvert": 0, "fr": 0, "03650618": 0, "hf": 0, "apach": 0, "arrow": 0, "plain": 0, "jsonl": 0, "line": 0, "python": 0, "below": 0, "howev": 0, "our": 0, "heavili": 0, "distribut": 0, "standard": 0, "version": 0, "experi": [], "ground": 0, "sh": [], "integr": 0, "git": 0, "clone": 0, "co": 0, "viquae_imag": 0, "viquae_all_imag": 0, "cd": 0, "5gb": 0, "gz": 0, "xzvf": 0, "viquae_images_path": 0, "pwd": 0, "directli": 0, "viquae_dataset": 0, "larg": 0, "ll": 0, "basic": 0, "import": 0, "datasetdict": 0, "kilt_id": 0, "meta": 0, "original_quest": 0, "num_row": 0, "1190": 0, "1250": 0, "1257": 0, "now": 0, "ae": 0, "jackie_wilson": 0, "512px": 0, "fake": 0, "526": 0, "singer": 0, "issu": 0, "song": 0, "becam": 0, "uk": 0, "christma": 0, "advertis": 0, "brand": 0, "11": 0, "levi": 0, "my_funct": 0, "almost": 0, "librari": 0, "13": 0, "again": 0, "exhaust": 0, "viquae_wikipedia": 0, "raw": 0, "data_fil": 0, "humans_with_fac": 0, "humans_without_fac": 0, "non_human": 0, "anchor": 0, "wikidata_info": 0, "wikipedia_titl": 0, "506237": 0, "35736": 0, "953379": 0, "q313590": 0, "alain": 0, "conn": 0, "alain_conn": 0, "25": 0, "born": 0, "april": 0, "1947": 0, "french": 0, "mathematician": 0, "professor": 0, "coll\u00e8g": 0, "de": 0, "franc": 0, "ih\u00e9": 0, "ohio": 0, "state": 0, "vanderbilt": 0, "invit": 0, "conservatoir": 0, "nation": 0, "art": 0, "m\u00e9tier": 0, "2000": 0, "viquae_passag": 0, "pleas": 0, "reproduc": 0, "cite": 0, "inproceed": 0, "lerner2022": [], "paul": 0, "olivi": 0, "ferret": 0, "camil": 0, "guinaudeau": 0, "le": 0, "borgn": 0, "herv\u00e9": 0, "romar": 0, "besan\u00e7on": 0, "moreno": 0, "jose": 0, "lov\u00f3n": 0, "melgarejo": 0, "jes\u00fa": 0, "2022": 0, "booktitl": 0, "45th": 0, "acm": 0, "research": [0, 11], "develop": 0, "seri": 0, "doi": 0, "1145": 0, "3477495": 0, "3531753": 0, "publish": 0, "machineri": 0, "address": 0, "york": 0, "ny": 0, "usa": 0, "offici": 0, "wrt": 0, "local": [], "virtual": 0, "environ": 0, "elast": 0, "guid": [], "stack": [], "spars": 0, "pip": 0, "readthedoc": [], "sphinx": [], "__": [], "rst": 0, "intermedi": 0, "peopl": 0, "free": 0, "few": 0, "command": 0, "variabl": 0, "subdirectori": 0, "strip": 0, "semi": 0, "structur": 0, "disjoint": 0, "preserv": 0, "boundari": 0, "append": 0, "passage_index": 0, "u": 0, "clue": 0, "quit": 0, "weak": 0, "That": 0, "scan": 0, "tackl": 0, "come": [0, 31], "prioriti": 0, "moreov": 0, "impact": 0, "realli": 0, "think": 0, "robust": 0, "let": 0, "yourself": 0, "snippet": 0, "load_from_disk": 0, "def": 0, "keep_relevant_search_wrt_original_in_prior": 0, "latest": 0, "bm25_provenance_indic": 0, "bm25_irrelevant_indic": 0, "search_indic": 0, "relevant_indic": 0, "search_provenance_indic": 0, "original_answer_provenance_indic": 0, "search_irrelevant_indic": 0, "50": 0, "max": 0, "tweak": 0, "backbon": 0, "torchvis": 0, "obvious": 0, "better": 0, "sens": 0, "look": 0, "interact": 0, "thing": 0, "littl": 0, "complic": 0, "guess": 0, "trivial": 0, "zhang": 0, "2016": 0, "facenet_pytorch": 0, "feel": 0, "haven": 0, "crope": 0, "happen": 0, "next": 0, "256": [0, 11], "deng": 0, "guo": 0, "__init__": 0, "setup": 0, "did": 0, "commit": 0, "f159d90ce1dc620730c99e8a81991a7c5981dc3": 0, "my": 0, "fork": 0, "me": 0, "know": 0, "suppos": 0, "cleanli": 0, "checkout": 0, "chore": 0, "pretrain": 0, "ms1mv3_arcface_r50_fp16": 0, "ey": 0, "nose": 0, "mouth": 0, "corner": 0, "adopt": 0, "thei": 0, "regardless": 0, "pose": 0, "person": 0, "skimag": 0, "cv2": 0, "down": 0, "displai": 0, "10k": 0, "bunch": 0, "dev": 0, "launch": 0, "server": 0, "k_1": 0, "ask": 0, "karpukinh": 0, "v100": 0, "32gb": 0, "total": 0, "32": 0, "crucial": 0, "pair": [0, 11], "mine": 0, "initi": 0, "uncas": 0, "nproc_per_nod": 0, "omit": 0, "dpr_question_encoder_triviaqa_without_viqua": 0, "dpr_context_encoder_triviaqa_without_viqua": 0, "triviaqa_for_viqua": 0, "13984": 0, "exactli": 0, "hack": [], "ve": [0, 11], "decid": 0, "won": 0, "stuff": 0, "mkdir": [], "mv": [], "pt": [], "schedul": [], "trainer_st": [], "And": [], "40": 0, "split_dpr": [], "detector": 0, "rename_column": 0, "keep_imagenet": 0, "keep_clip": 0, "lambda": 0, "face_embed": 0, "henc": 0, "flat": 0, "metric_typ": 0, "l2": 0, "zero": 0, "varianc": 0, "over": 0, "dry": 0, "mysteri": 0, "interpol": 0, "detail": 0, "advis": 0, "recal": 0, "estim": 0, "trec_ev": 0, "all_qrel": 0, "comparison": 0, "neither": 0, "nor": 0, "half": 0, "arbitrari": 0, "meaning": 0, "until": 0, "downstream": 0, "asid": 0, "anoth": 0, "branch": 0, "devlin": 0, "independ": 0, "doesn": 0, "intuit": 0, "deterior": 0, "ensur": 0, "behavior": 0, "multi_passage_bert_triviaqa_without_viqua": 0, "ratio": 0, "16": 0, "realist": 0, "conjunct": 0, "carri": 0, "9m": 0, "46000": 0, "3600": 0, "seed": 0, "42": 0, "why": 0, "gap": 0, "do_ev": 0, "do_predict": 0, "jiankang": 0, "jia": 0, "niannan": 0, "xue": 0, "stefano": 0, "zafeiri": 0, "angular": 0, "deep": 0, "4690": 0, "4699": 0, "jacob": 0, "bidirect": 0, "understand": 0, "1810": 0, "04805": 0, "yandong": 0, "lei": 0, "yuxiao": 0, "hu": 0, "xiaodong": 0, "jianfeng": 0, "gao": 0, "benchmark": 0, "eccv": 0, "lectur": 0, "scienc": 0, "87": 0, "102": 0, "cham": 0, "nallap": 0, "ati": 0, "natu": [], "ral": [], "kaipeng": 0, "zhanpeng": 0, "zhifeng": 0, "qiao": 0, "multitask": 0, "cascad": 0, "network": 0, "ieee": 0, "signal": 0, "letter": 0, "23": 0, "1499": 0, "1503": 0, "htt": [], "p": [], "mycor": [], "core": [], "loud": [], "php": [], "l8sgkqapvk0dfmr": [], "sampl": 11, "plai": [], "gyh5xijwq2j5rpv": [], "pl": [], "7zhfobnioxf9pt7": [], "interac": [], "place": [], "eg_gener": [], "password": [], "worri": 31, "too": [], "much": 0, "deprec": [], "warn": 31, "flask": [], "deploy": [], "window": [], "favorit": [], "browser": [], "localhost": [], "8080": [], "usernam": [], "click": [], "button": [], "hit": [], "edit": [], "potenti": [], "seem": [], "strang": [], "serv": [], "spot": [], "suit": [], "caption": [], "tick": [], "inappropri": [], "untick": [], "mistak": [], "modif": [], "mage": [], "ex": [], "planat": [], "countri": [], "border": [], "cambodia": [], "lao": [], "west": [], "north": [], "sovereign": [], "hard": [], "llustrat": [], "These": [], "auto": [], "matic": [], "nnotat": [], "refin": [], "richard": [], "iii": [], "imprison": [], "young": [], "nephew": [], "try": [], "tern": [], "possibl": [], "presid": [], "romin": [], "mai": [], "creativ": [], "uplic": [], "written": [], "plaqu": [], "statu": 11, "hotograph": [], "rocess": [], "five": [], "boi": [], "scout": [], "movement": [], "robert": [], "baden": [], "powel": [], "o": [], "verspecifi": [], "bad": [], "bonar": [], "law": [], "prime": [], "minist": [], "modifi": [], "han": [], "solo": [], "star": [], "war": [], "pictur": [], "ce": [], "lebriti": [], "folk": [], "pro": [], "minent": [], "eyword": [], "stanford": [], "access": [0, 11], "nivers": [], "op": [], "ublish": [], "ention": [], "game": [], "bingo": [], "chanc": [0, 11], "gra": [], "mmatic": [], "land": [], "santa": [], "catarina": [], "airport": [], "island": [], "would": [], "parser": [], "opi": [], "past": [], "washington": [], "georg": [], "familiar": [], "eg_annot": [], "2023": [0, 11, 25], "fixm": 0, "less": 0, "fix": 0, "srinavasan": 0, "2103": 0, "01913": 0, "googl": [0, 11], "By": [0, 11], "jean": [0, 11], "zai": [0, 11], "dsdir": [0, 11], "height": [0, 11], "marqu": 0, "promis": 0, "renam": [], "write": [], "still": [], "sake": 0, "x_1": 0, "y_1": 0, "x_2": 0, "y_2": 0, "bottom": 0, "area": 0, "achiev": 0, "pretra": 0, "question_model_config": 0, "context_model_config": 0, "nvidia": 0, "gb": 0, "ram": 0, "notic": 0, "stage": 0, "six": 0, "frozen": 0, "thank": 0, "notabl": 0, "signific": 0, "baselin": 0, "dataset_config": 0, "kb_config": 0, "ilf_few_shot": 0, "dmr_few_shot": [], "Be": 0, "wit": [1, 2], "mict": [1, 2], "train_imag": 2, "tsv": 2, "svg": 11, "dii": 11, "877": 11, "635": 11, "48": 11, "271": 11, "815": 11, "tree": 11, "00": 11, "000004379cfea6d71f7c47180c2163ee40887b7b23798535435d9b2c0065cea5": 11, "000004528fa952ab9e2212ff7c749dfb1f28eb0fae2f45bec768e3ba72265420": 11, "00ffff77789c938b5c2ce004d09246d1d54ef5d325d831adf3611413794d757f": 11, "01": 11, "ff": 11, "wit_v1": 11, "00000": 11, "00010": 11, "00001": 11, "00002": 11, "00003": 11, "00004": 11, "00005": 11, "00006": 11, "00007": 11, "00008": 11, "00009": 11, "convent": 11, "xy": 11, "ext": 11, "sha256": 11, "charact": 11, "subfold": 11, "could": 11, "hsould": 11, "rouself": 11, "ca": 11, "d4": 11, "trobador": 11, "jpeg": 11, "95": 11, "953feec3651efda25c166841ec8c0cd8d2064bf59f668c8dcb62dc823963a385": 11, "2703": 11, "2705_pontiac_montana_taxi": 11, "35": 11, "35bcbf0f09424126932707a702b152fac7ebd9c932a877a3f2515d9fe67bb44d": 11, "2755_singer_4adt_roadster_": 11, "28hudson": 11, "29": 11, "dd": 11, "dd10ea054385d8fac82a7bca15202434b7ce0facb01519021980ba07c5e6f626": 11, "2768_chevrolet_biscayne_coupe_": 11, "28centropolis_laval_": 11, "2710": 11, "44": 11, "44a11a487b09c8118e1066491880ad7045513379b5c16cdc9460321db113ad2d": 11, "2783_buick_century_sedan": 11, "404": 11, "Not": 11, "check_encod": 11, "fill_wit_for_mict": 11, "wit_for_mict": [0, 11], "dict_to_dataset": 11, "ecaencod": [19, 25], "ecaencoderoutput": 25, "rais": 31, "lerner2022viqua": 0, "unpublish": 0, "lerner2023ict": 0, "03933089": 0, "accept": 0, "month": 0, "jan": 0, "pdf": 0, "hal_id": 0, "hal_vers": 0, "v1": 0, "prepred": 0, "context_": 0, "most": 0, "first_face_embed": 0, "question_ilf_l12_wit_mict": 0, "context_ilf_l12_wit_mict": 0, "question_eca_l6_wit_mict": 0, "context_eca_l6_wit_mict": 0, "saniti": 0, "eca_few_shot": 0}, "objects": {"": [[1, 0, 0, "-", "meerqat"]], "meerqat": [[2, 0, 0, "-", "data"], [12, 0, 0, "-", "image"], [18, 0, 0, "-", "ir"], [23, 0, 0, "-", "models"], [28, 0, 0, "-", "train"], [34, 0, 0, "-", "viz"]], "meerqat.data": [[3, 0, 0, "-", "kilt2vqa"], [4, 0, 0, "-", "kvqa"], [5, 0, 0, "-", "labelstudio"], [6, 0, 0, "-", "loading"], [7, 0, 0, "-", "mscelebs"], [8, 0, 0, "-", "utils"], [9, 0, 0, "-", "wiki"], [10, 0, 0, "-", "wikidump"], [11, 0, 0, "-", "wit"]], "meerqat.data.kilt2vqa": [[3, 1, 1, "", "count_entities"], [3, 1, 1, "", "disambiguate"], [3, 1, 1, "", "download_image"], [3, 1, 1, "", "download_images"], [3, 1, 1, "", "generate_mention"], [3, 1, 1, "", "generate_mentions"], [3, 1, 1, "", "generate_vq"], [3, 1, 1, "", "generate_vqs"], [3, 1, 1, "", "item2placeholder"], [3, 1, 1, "", "labelstudio"], [3, 1, 1, "", "ned"], [3, 1, 1, "", "ner"], [3, 1, 1, "", "stats"], [3, 1, 1, "", "stringify"], [3, 1, 1, "", "wer"]], "meerqat.data.labelstudio": [[5, 1, 1, "", "agree"], [5, 1, 1, "", "annotator_agreement"], [5, 1, 1, "", "assign"], [5, 1, 1, "", "assign_annotations"], [5, 1, 1, "", "load_completions"], [5, 1, 1, "", "main"], [5, 1, 1, "", "merge"], [5, 1, 1, "", "retrieve_vqa"], [5, 1, 1, "", "save_images"]], "meerqat.data.loading": [[6, 1, 1, "", "answer_preprocess"], [6, 1, 1, "", "get_biencoder"], [6, 1, 1, "", "get_class_from_name"], [6, 1, 1, "", "get_pretrained"], [6, 1, 1, "", "load_faces"], [6, 1, 1, "", "load_image"], [6, 1, 1, "", "load_image_batch"], [6, 1, 1, "", "load_pretrained_in_kwargs"], [6, 1, 1, "", "make_mapping"], [6, 1, 1, "", "make_mapping_dataset"], [6, 1, 1, "", "make_passage_dataset"], [6, 1, 1, "", "make_passage_item"], [6, 1, 1, "", "make_passages"], [6, 1, 1, "", "make_sentences_dataset"], [6, 1, 1, "", "make_sentences_item"], [6, 1, 1, "", "map_kilt_triviaqa"], [6, 1, 1, "", "paragraphs_preprocess"], [6, 1, 1, "", "remove_articles"], [6, 1, 1, "", "remove_punc"], [6, 1, 1, "", "remove_special_fields"], [6, 1, 1, "", "uniform_passages"], [6, 1, 1, "", "uniform_passages_of_sentences"], [6, 1, 1, "", "white_space_fix"]], "meerqat.data.mscelebs": [[7, 1, 1, "", "count_entities"], [7, 1, 1, "", "extract"], [7, 1, 1, "", "freebase2wikidata"], [7, 1, 1, "", "wikidata2freebase"]], "meerqat.data.utils": [[8, 1, 1, "", "json_integer_keys"], [8, 1, 1, "", "md5"]], "meerqat.data.wiki": [[9, 1, 1, "", "bytes2dict"], [9, 1, 1, "", "depiction_instanceof_heuristic"], [9, 1, 1, "", "exclude_classes"], [9, 1, 1, "", "file_name_to_thumbnail"], [9, 1, 1, "", "get_license"], [9, 1, 1, "", "image_heuristic"], [9, 1, 1, "", "iso2year"], [9, 1, 1, "", "keep_classes"], [9, 1, 1, "", "keep_prominent_depictions"], [9, 1, 1, "", "license_score"], [9, 1, 1, "", "print_stats"], [9, 1, 1, "", "query_commons_subcategories"], [9, 1, 1, "", "query_depicted_entities"], [9, 1, 1, "", "query_feminine_labels"], [9, 1, 1, "", "query_image"], [9, 1, 1, "", "query_sparql_entities"], [9, 1, 1, "", "query_superclasses"], [9, 1, 1, "", "remove_alive_humans"], [9, 1, 1, "", "request"], [9, 1, 1, "", "save_image"], [9, 1, 1, "", "set_reference_images"], [9, 1, 1, "", "special_path_to_file_name"], [9, 1, 1, "", "stats"], [9, 1, 1, "", "thumbnail_to_file_name"], [9, 1, 1, "", "update_from_commons_rest"], [9, 1, 1, "", "update_from_commons_sparql"], [9, 1, 1, "", "update_from_data"], [9, 1, 1, "", "uri_to_qid"], [9, 1, 1, "", "uris_to_qids"]], "meerqat.data.wikidump": [[10, 1, 1, "", "find"], [10, 1, 1, "", "find_text"], [10, 1, 1, "", "get_field"], [10, 1, 1, "", "parse_file"], [10, 1, 1, "", "process_article"], [10, 1, 1, "", "process_articles"]], "meerqat.data.wit": [[11, 1, 1, "", "check_encoding"], [11, 1, 1, "", "dict_to_dataset"], [11, 1, 1, "", "fill_wit_for_mict"]], "meerqat.image": [[13, 0, 0, "-", "embedding"], [14, 0, 0, "-", "face_box"], [15, 0, 0, "-", "face_detection"], [16, 0, 0, "-", "face_recognition"], [17, 0, 0, "-", "resize"]], "meerqat.image.embedding": [[13, 2, 1, "", "ImageEncoder"], [13, 1, 1, "", "dataset_embed"], [13, 1, 1, "", "embed"], [13, 1, 1, "", "from_pretrained"], [13, 1, 1, "", "get_encoder"], [13, 1, 1, "", "get_model_and_transform"], [13, 1, 1, "", "get_nn_module"], [13, 1, 1, "", "get_torchvision_model"], [13, 1, 1, "", "get_transform"]], "meerqat.image.embedding.ImageEncoder": [[13, 3, 1, "", "forward"], [13, 4, 1, "", "training"]], "meerqat.image.face_box": [[14, 1, 1, "", "scale_box"]], "meerqat.image.face_detection": [[15, 2, 1, "", "MTCNN"], [15, 1, 1, "", "dataset_detect_face"], [15, 1, 1, "", "dataset_detect_faces"], [15, 1, 1, "", "detect_face"]], "meerqat.image.face_detection.MTCNN": [[15, 3, 1, "", "forward"], [15, 4, 1, "", "training"]], "meerqat.image.face_recognition": [[16, 1, 1, "", "compute_face_embedding"], [16, 1, 1, "", "dataset_compute_face_embedding"], [16, 1, 1, "", "from_pretrained"], [16, 1, 1, "", "get_pil_preprocessor"], [16, 1, 1, "", "similarity_transform"]], "meerqat.image.resize": [[17, 1, 1, "", "dataset_resize"], [17, 1, 1, "", "get_transform"], [17, 1, 1, "", "resize"]], "meerqat.ir": [[19, 0, 0, "-", "embedding"], [20, 0, 0, "-", "hp"], [21, 0, 0, "-", "metrics"], [22, 0, 0, "-", "search"]], "meerqat.ir.embedding": [[19, 1, 1, "", "dataset_embed"], [19, 1, 1, "", "embed"], [19, 1, 1, "", "get_face_inputs"], [19, 1, 1, "", "get_image_inputs"], [19, 1, 1, "", "get_inputs"], [19, 1, 1, "", "map_passage_to_kb"]], "meerqat.ir.hp": [[20, 2, 1, "", "BM25Objective"], [20, 2, 1, "", "FusionObjective"], [20, 2, 1, "", "Objective"], [20, 1, 1, "", "get_objective"], [20, 1, 1, "", "hyperparameter_search"]], "meerqat.ir.hp.BM25Objective": [[20, 3, 1, "", "evaluate"]], "meerqat.ir.hp.FusionObjective": [[20, 3, 1, "", "evaluate"]], "meerqat.ir.hp.Objective": [[20, 3, 1, "", "cache_relevant"], [20, 3, 1, "", "cache_relevant_dataset"], [20, 3, 1, "", "evaluate"]], "meerqat.ir.metrics": [[21, 1, 1, "", "cat_breakdown"], [21, 1, 1, "", "compare"], [21, 1, 1, "", "find_relevant"], [21, 1, 1, "", "find_relevant_batch"], [21, 1, 1, "", "find_relevant_dataset"], [21, 1, 1, "", "find_relevant_item"], [21, 1, 1, "", "fuse_qrels"], [21, 1, 1, "", "get_wtl_table"], [21, 1, 1, "", "load_runs"]], "meerqat.ir.search": [[22, 2, 1, "", "Index"], [22, 2, 1, "", "IndexKind"], [22, 2, 1, "", "KnowledgeBase"], [22, 1, 1, "", "L2norm"], [22, 2, 1, "", "Searcher"], [22, 1, 1, "", "dataset_search"], [22, 1, 1, "", "dict2scores"], [22, 1, 1, "", "dict_batch2scores"], [22, 1, 1, "", "format_qrels_indices"], [22, 1, 1, "", "format_run_indices"], [22, 1, 1, "", "norm_mean_std"], [22, 1, 1, "", "normalize"], [22, 1, 1, "", "scores2dict"]], "meerqat.ir.search.IndexKind": [[22, 4, 1, "", "FACE"], [22, 4, 1, "", "IMAGE"], [22, 4, 1, "", "TEXT"]], "meerqat.ir.search.KnowledgeBase": [[22, 3, 1, "", "add_or_load_elasticsearch_index"], [22, 3, 1, "", "add_or_load_faiss_index"], [22, 3, 1, "", "add_or_load_index"], [22, 3, 1, "", "map_indices"], [22, 3, 1, "", "search_batch"], [22, 3, 1, "", "search_batch_if_not_None"]], "meerqat.ir.search.Searcher": [[22, 3, 1, "", "fuse"], [22, 3, 1, "", "fuse_and_compute_metrics"], [22, 3, 1, "", "interpolation_fusion"], [22, 3, 1, "", "union_results"]], "meerqat.models": [[24, 0, 0, "-", "image"], [25, 0, 0, "-", "mm"], [26, 0, 0, "-", "qa"], [27, 0, 0, "-", "utils"]], "meerqat.models.image": [[24, 2, 1, "", "FaceEmbedding"], [24, 2, 1, "", "ImageEmbedding"]], "meerqat.models.image.FaceEmbedding": [[24, 3, 1, "", "forward"], [24, 4, 1, "", "training"]], "meerqat.models.image.ImageEmbedding": [[24, 3, 1, "", "forward"], [24, 4, 1, "", "training"]], "meerqat.models.mm": [[25, 2, 1, "", "ECAEncoder"], [25, 2, 1, "", "ECAEncoderOutput"], [25, 2, 1, "", "EncoderOutput"], [25, 2, 1, "", "ILFConfig"], [25, 2, 1, "", "IntermediateLinearFusion"], [25, 2, 1, "", "MMConfig"]], "meerqat.models.mm.ECAEncoder": [[25, 4, 1, "", "base_model_prefix"], [25, 4, 1, "", "config_class"], [25, 3, 1, "", "forward"], [25, 4, 1, "", "load_tf_weights"], [25, 4, 1, "", "training"]], "meerqat.models.mm.ECAEncoderOutput": [[25, 4, 1, "", "attentions"], [25, 4, 1, "", "hidden_states"], [25, 4, 1, "", "pooler_output"]], "meerqat.models.mm.EncoderOutput": [[25, 4, 1, "", "pooler_output"]], "meerqat.models.mm.IntermediateLinearFusion": [[25, 4, 1, "", "base_model_prefix"], [25, 4, 1, "", "config_class"], [25, 3, 1, "", "forward"], [25, 4, 1, "", "load_tf_weights"], [25, 4, 1, "", "training"]], "meerqat.models.qa": [[26, 1, 1, "", "format_predictions_for_squad"], [26, 1, 1, "", "get_best_spans"]], "meerqat.models.utils": [[27, 1, 1, "", "debug_shape"], [27, 1, 1, "", "map_if_not_None"], [27, 1, 1, "", "prepare_inputs"]], "meerqat.train": [[29, 0, 0, "-", "losses"], [30, 0, 0, "-", "metrics"], [31, 0, 0, "-", "split_biencoder"], [32, 0, 0, "-", "trainee"], [33, 0, 0, "-", "trainer"]], "meerqat.train.metrics": [[30, 1, 1, "", "retrieval"]], "meerqat.train.split_biencoder": [[31, 1, 1, "", "split_biencoder"]], "meerqat.train.trainee": [[32, 2, 1, "", "BiEncoder"], [32, 2, 1, "", "BiEncoderOutput"], [32, 2, 1, "", "DPRBiEncoder"], [32, 2, 1, "", "DPRBiEncoderOutput"], [32, 2, 1, "", "DPRReaderForQuestionAnswering"], [32, 2, 1, "", "DPRReaderForQuestionAnsweringOutput"], [32, 2, 1, "", "MultiPassageBERT"], [32, 2, 1, "", "MultiPassageBERTOutput"], [32, 2, 1, "", "Trainee"]], "meerqat.train.trainee.BiEncoder": [[32, 3, 1, "", "forward"], [32, 3, 1, "", "gradient_checkpointing_disable"], [32, 3, 1, "", "gradient_checkpointing_enable"], [32, 5, 1, "", "is_gradient_checkpointing"], [32, 4, 1, "", "supports_gradient_checkpointing"], [32, 4, 1, "", "training"]], "meerqat.train.trainee.BiEncoderOutput": [[32, 4, 1, "", "context_pooler_output"], [32, 4, 1, "", "question_pooler_output"]], "meerqat.train.trainee.DPRBiEncoder": [[32, 3, 1, "", "forward"], [32, 4, 1, "", "training"]], "meerqat.train.trainee.DPRBiEncoderOutput": [[32, 4, 1, "", "context_attentions"], [32, 4, 1, "", "context_hidden_states"], [32, 4, 1, "", "context_pooler_output"], [32, 4, 1, "", "question_attentions"], [32, 4, 1, "", "question_hidden_states"], [32, 4, 1, "", "question_pooler_output"]], "meerqat.train.trainee.DPRReaderForQuestionAnswering": [[32, 3, 1, "", "forward"], [32, 4, 1, "", "training"]], "meerqat.train.trainee.DPRReaderForQuestionAnsweringOutput": [[32, 4, 1, "", "attentions"], [32, 4, 1, "", "end_logits"], [32, 4, 1, "", "hidden_states"], [32, 4, 1, "", "loss"], [32, 4, 1, "", "relevance_logits"], [32, 4, 1, "", "start_logits"]], "meerqat.train.trainee.MultiPassageBERT": [[32, 3, 1, "", "forward"], [32, 4, 1, "", "training"]], "meerqat.train.trainee.MultiPassageBERTOutput": [[32, 4, 1, "", "end_log_probs"], [32, 4, 1, "", "start_log_probs"]], "meerqat.train.trainee.Trainee": [[32, 4, 1, "", "training"]], "meerqat.train.trainer": [[33, 2, 1, "", "DPRBiEncoderTrainer"], [33, 2, 1, "", "ICTTrainer"], [33, 2, 1, "", "MMTrainer"], [33, 2, 1, "", "MeerqatTrainer"], [33, 2, 1, "", "MultiPassageBERTTrainer"], [33, 2, 1, "", "QuestionAnsweringTrainer"], [33, 1, 1, "", "filter_rels"], [33, 1, 1, "", "get_checkpoint"], [33, 1, 1, "", "instantiate_trainer"], [33, 1, 1, "", "max_memory_usage"], [33, 1, 1, "", "subsample_dataset"]], "meerqat.train.trainer.DPRBiEncoderTrainer": [[33, 3, 1, "", "collate_fn"], [33, 3, 1, "", "compute_loss"]], "meerqat.train.trainer.ICTTrainer": [[33, 3, 1, "", "collate_fn"], [33, 3, 1, "", "get_training_passages"]], "meerqat.train.trainer.MMTrainer": [[33, 3, 1, "", "add_image_features"], [33, 3, 1, "", "collate_fn"], [33, 3, 1, "", "get_face_inputs"], [33, 3, 1, "", "get_image_inputs"]], "meerqat.train.trainer.MeerqatTrainer": [[33, 3, 1, "", "freeze"], [33, 3, 1, "", "log"], [33, 3, 1, "", "write_metrics"], [33, 3, 1, "", "write_predictions"]], "meerqat.train.trainer.MultiPassageBERTTrainer": [[33, 3, 1, "", "collate_fn"], [33, 3, 1, "", "evaluation_loop"], [33, 3, 1, "", "get_answer_position"], [33, 3, 1, "", "get_eval_passages"], [33, 3, 1, "", "log_probs_to_answers"]], "meerqat.train.trainer.QuestionAnsweringTrainer": [[33, 3, 1, "", "get_training_passages"]], "meerqat.viz": [[35, 0, 0, "-", "html"], [36, 0, 0, "-", "stats"], [37, 0, 0, "-", "umap"]], "meerqat.viz.html": [[35, 1, 1, "", "format_html"], [35, 1, 1, "", "get_top_1"]], "meerqat.viz.stats": [[36, 1, 1, "", "dataset_stats"], [36, 1, 1, "", "main"]], "meerqat.viz.umap": [[37, 1, 1, "", "fplot"], [37, 1, 1, "", "get_ranx_run"], [37, 1, 1, "", "iplot"], [37, 1, 1, "", "main"], [37, 1, 1, "", "reduce"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:method", "4": "py:attribute", "5": "py:property"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "method", "Python method"], "4": ["py", "attribute", "Python attribute"], "5": ["py", "property", "Python property"]}, "titleterms": {"welcom": 0, "meerqat": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38], "": 0, "document": 0, "indic": 0, "tabl": 0, "packag": [1, 2, 12, 18, 23, 28, 34], "subpackag": 1, "modul": [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 19, 20, 21, 22, 24, 25, 26, 27, 29, 30, 31, 32, 33, 35, 36, 37], "content": [], "data": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "submodul": [2, 12, 18, 23, 28, 34], "kilt2vqa": 3, "labelstudio": [3, 5], "load": 6, "msceleb": 7, "util": [8, 27], "wiki": 9, "wikidump": 10, "imag": [0, 12, 13, 14, 15, 16, 17, 24], "embed": [0, 13, 19], "face_box": 14, "face_detect": 15, "face_recognit": 16, "resiz": 17, "ir": [0, 18, 19, 20, 21, 22], "hp": 20, "metric": [0, 21, 30], "search": [0, 22], "model": [0, 23, 24, 25, 26, 27], "mm": 25, "qa": 26, "train": [0, 28, 29, 30, 31, 32, 33], "loss": 29, "split_biencod": 31, "traine": 32, "trainer": 33, "viz": [34, 35, 36, 37], "html": 35, "stat": 36, "umap": 37, "overview": 3, "ner": 3, "gener": 3, "mention": 3, "vq": 3, "download": 3, "docopt": [3, 6, 9, 11], "function": [3, 6, 9], "For": [3, 6, 9], "kvqa": 4, "usag": [6, 9], "passag": [0, 6], "map": 6, "sentenc": 6, "entiti": 9, "feminin": 9, "superclass": 9, "depict": 9, "option": 9, "common": 9, "sparql": 9, "filter": 9, "rest": 9, "heurist": 9, "viqua": 0, "get": 0, "dataset": 0, "kb": 0, "The": 0, "knowledg": 0, "base": 0, "annot": 0, "experi": 0, "refer": 0, "instal": 0, "doc": 0, "preprocess": 0, "split": 0, "articl": 0, "find": 0, "relev": 0, "link": 0, "wikipedia": 0, "result": 0, "global": 0, "face": 0, "detect": 0, "recognit": 0, "bm25": 0, "dpr": 0, "pre": 0, "triviaqa": 0, "fine": 0, "tune": 0, "question": 0, "imagenet": 0, "resnet": 0, "clip": 0, "v": 0, "arcfac": 0, "m": 0, "celeb": 0, "text": [], "hyperparamet": 0, "run": 0, "best": 0, "read": 0, "comprehens": 0, "start": [], "label": [], "studio": [], "resourc": [], "project": [], "interfac": [], "error": [], "how": [], "fix": [], "them": [], "format": 0, "wit": [0, 11], "multimod": 0, "ict": 0, "bound": 0, "box": 0, "engin": 0, "mict": [0, 11], "dual": 0, "encod": 0, "e": 0, "g": 0, "invers": 0, "cloze": 0, "task": 0, "ilf": 0, "dmr": [], "eca": 0, "late": 0, "fusion": 0, "earli": 0, "visual": 0, "switch": 0, "input": 0, "infer": 0, "what": 11, "you": 11, "should": 11, "have": 11, "first": 11, "instruct": 11, "train_imag": 11, "tsv": 11}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx": 56}})