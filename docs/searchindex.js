Search.setIndex({"docnames": ["index", "meerqat", "meerqat.data", "meerqat.data.infoseek", "meerqat.data.kilt2vqa", "meerqat.data.labelstudio", "meerqat.data.loading", "meerqat.data.mscelebs", "meerqat.data.utils", "meerqat.data.wiki", "meerqat.data.wikidump", "meerqat.data.wit", "meerqat.image", "meerqat.image.embedding", "meerqat.image.face_box", "meerqat.image.face_detection", "meerqat.image.face_recognition", "meerqat.image.resize", "meerqat.interact", "meerqat.interact.system", "meerqat.ir", "meerqat.ir.embedding", "meerqat.ir.fuse", "meerqat.ir.hp", "meerqat.ir.metrics", "meerqat.ir.search", "meerqat.models", "meerqat.models.bert", "meerqat.models.image", "meerqat.models.mm", "meerqat.models.outputs", "meerqat.models.qa", "meerqat.models.rr", "meerqat.models.utils", "meerqat.models.vilt", "meerqat.train", "meerqat.train.callbacks", "meerqat.train.data", "meerqat.train.metrics", "meerqat.train.optim", "meerqat.train.save_ptm", "meerqat.train.trainee", "meerqat.train.trainer", "meerqat.viz", "meerqat.viz.html", "meerqat.viz.stats", "meerqat.viz.umap", "meerqat.viz.wtl_filter", "modules"], "filenames": ["index.rst", "meerqat.rst", "meerqat.data.rst", "meerqat.data.infoseek.rst", "meerqat.data.kilt2vqa.rst", "meerqat.data.labelstudio.rst", "meerqat.data.loading.rst", "meerqat.data.mscelebs.rst", "meerqat.data.utils.rst", "meerqat.data.wiki.rst", "meerqat.data.wikidump.rst", "meerqat.data.wit.rst", "meerqat.image.rst", "meerqat.image.embedding.rst", "meerqat.image.face_box.rst", "meerqat.image.face_detection.rst", "meerqat.image.face_recognition.rst", "meerqat.image.resize.rst", "meerqat.interact.rst", "meerqat.interact.system.rst", "meerqat.ir.rst", "meerqat.ir.embedding.rst", "meerqat.ir.fuse.rst", "meerqat.ir.hp.rst", "meerqat.ir.metrics.rst", "meerqat.ir.search.rst", "meerqat.models.rst", "meerqat.models.bert.rst", "meerqat.models.image.rst", "meerqat.models.mm.rst", "meerqat.models.outputs.rst", "meerqat.models.qa.rst", "meerqat.models.rr.rst", "meerqat.models.utils.rst", "meerqat.models.vilt.rst", "meerqat.train.rst", "meerqat.train.callbacks.rst", "meerqat.train.data.rst", "meerqat.train.metrics.rst", "meerqat.train.optim.rst", "meerqat.train.save_ptm.rst", "meerqat.train.trainee.rst", "meerqat.train.trainer.rst", "meerqat.viz.rst", "meerqat.viz.html.rst", "meerqat.viz.stats.rst", "meerqat.viz.umap.rst", "meerqat.viz.wtl_filter.rst", "modules.rst"], "titles": ["Welcome to meerqat\u2019s documentation!", "meerqat package", "meerqat.data package", "meerqat.data.infoseek module", "meerqat.data.kilt2vqa module", "meerqat.data.labelstudio module", "meerqat.data.loading module", "meerqat.data.mscelebs module", "meerqat.data.utils module", "meerqat.data.wiki module", "meerqat.data.wikidump module", "meerqat.data.wit module", "meerqat.image package", "meerqat.image.embedding module", "meerqat.image.face_box module", "meerqat.image.face_detection module", "meerqat.image.face_recognition module", "meerqat.image.resize module", "meerqat.interact package", "meerqat.interact.system module", "meerqat.ir package", "meerqat.ir.embedding module", "meerqat.ir.fuse module", "meerqat.ir.hp module", "meerqat.ir.metrics module", "meerqat.ir.search module", "meerqat.models package", "meerqat.models.bert module", "meerqat.models.image module", "meerqat.models.mm module", "meerqat.models.outputs module", "meerqat.models.qa module", "meerqat.models.rr module", "meerqat.models.utils module", "meerqat.models.vilt module", "meerqat.train package", "meerqat.train.callbacks module", "meerqat.train.data module", "meerqat.train.metrics module", "meerqat.train.optim module", "meerqat.train.save_ptm module", "meerqat.train.trainee module", "meerqat.train.trainer module", "meerqat.viz package", "meerqat.viz.html module", "meerqat.viz.stats module", "meerqat.viz.umap module", "meerqat.viz.wtl_filter module", "meerqat"], "terms": {"index": [0, 3, 4, 6, 14, 15, 21, 24, 25, 31, 37], "modul": [0, 1, 2, 12, 18, 20, 26, 35, 43], "page": [0, 4, 31, 32, 37, 41], "sourc": [0, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 19, 21, 22, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38, 39, 40, 41, 42, 44, 45, 46, 47], "code": [0, 6, 31], "us": [0, 2, 4, 5, 6, 8, 9, 11, 13, 14, 15, 16, 17, 21, 22, 24, 25, 28, 29, 30, 31, 37, 38, 41], "paper": [0, 11, 29, 31], "answer": [0, 3, 4, 6, 24, 31, 32, 37, 41], "about": [0, 4, 9, 25, 37, 45], "name": [0, 4, 9, 11, 21, 24, 25, 29, 37, 38, 41], "entiti": [0, 2, 3, 4, 7, 10, 24, 37], "lerner": 0, "et": [0, 10, 29, 33], "al": [0, 29, 33], "sigir": 0, "22": 0, "ecir": [0, 11, 29], "23": 0, "see": [0, 4, 5, 6, 9, 13, 14, 15, 16, 17, 21, 24, 25, 29, 31, 32, 37, 41], "also": [0, 5, 9, 24, 25, 37, 41], "project": [0, 28, 29, 46], "provid": [0, 4, 24, 25], "two": [0, 3, 11, 29], "hf": 0, "apach": 0, "arrow": 0, "plain": [0, 31], "jsonl": [0, 3], "file": [0, 3, 4, 5, 6, 9, 11, 15, 21, 22, 24, 25, 40, 42, 44], "one": [0, 3, 4, 9, 13, 21, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 37, 42, 47], "json": [0, 4, 5, 6, 9, 10, 21, 24, 25, 36, 42], "object": [0, 19, 22, 25, 31, 37, 41], "per": [0, 4, 9, 21, 29, 30, 31, 37], "line": 0, "both": [0, 4, 6, 15, 24, 30, 37, 47], "can": [0, 4, 6, 8, 9, 21, 25, 29, 31, 37, 41, 47], "same": [0, 4, 9, 15, 21, 25, 29, 30, 31, 33, 37, 41], "wai": 0, "pars": [0, 3, 4, 10], "python": [0, 31], "dict": [0, 3, 4, 5, 7, 9, 19, 21, 22, 24, 25, 29, 31, 32, 33, 36, 37, 38, 41], "below": 0, "howev": [0, 37, 47], "our": 0, "onli": [0, 2, 4, 6, 9, 11, 13, 24, 25, 29, 30, 37, 41, 47], "support": [0, 41], "heavili": 0, "upon": [0, 25], "ar": [0, 3, 4, 6, 9, 10, 11, 15, 21, 24, 25, 29, 31, 33, 34, 37, 38, 39, 41], "distribut": [0, 37], "separ": [0, 3, 6, 9, 37], "standard": 0, "jpg": [0, 9, 11, 31], "here": [0, 6, 37], "how": [0, 6, 31], "ground": [0, 3], "todo": [0, 5, 9, 10], "integr": 0, "thi": [0, 2, 4, 6, 8, 9, 11, 13, 15, 21, 22, 24, 25, 27, 28, 29, 31, 32, 33, 34, 37, 38, 40, 41, 42, 44, 47], "singl": [0, 3, 6, 11, 24, 37, 41], "git": 0, "clone": 0, "http": [0, 9, 10, 11, 29, 31], "huggingfac": [0, 6, 39], "co": 0, "paullern": 0, "viquae_imag": 0, "all": [0, 3, 4, 8, 9, 11, 13, 22, 24, 25, 27, 28, 29, 31, 32, 33, 34, 37, 38, 41, 42, 44], "viquae_all_imag": 0, "instead": [0, 13, 21, 27, 28, 29, 31, 32, 33, 34, 37, 38, 40, 41, 45], "cd": 0, "archiv": 0, "part": [0, 4], "5gb": 0, "cat": [0, 24], "tar": [0, 13], "gz": 0, "xzvf": 0, "export": [0, 5, 10], "viquae_images_path": 0, "pwd": 0, "altern": [0, 4, 37], "you": [0, 1, 2, 4, 9, 21, 25, 31, 36, 37, 41, 47], "download": [0, 2, 5, 10, 11, 37], "from": [0, 3, 4, 6, 9, 11, 13, 16, 21, 22, 24, 25, 27, 29, 31, 32, 33, 34, 37, 38, 39, 41], "wikimedia": [0, 4, 9, 11], "common": [0, 2, 4, 10, 11, 37], "kilt2vqa": [0, 1, 2, 5, 9], "If": [0, 3, 9, 15, 21, 24, 25, 29, 31, 37, 41], "don": [0, 13, 31, 37], "t": [0, 4, 6, 9, 13, 24, 29, 31, 37, 41], "want": [0, 9, 21, 25, 31, 36, 37], "directli": [0, 31], "viquae_dataset": 0, "larg": 0, "follow": [0, 9, 11, 22, 37, 42], "kilt": [0, 4, 6], "i": [0, 4, 6, 9, 13, 29, 31, 36, 37, 41, 44], "ll": 0, "describ": [0, 11, 32, 41], "without": [0, 6, 9, 11, 32, 37, 44], "comput": [0, 4, 5, 8, 9, 13, 21, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 37, 38, 41, 45], "featur": [0, 13, 21, 28, 29, 37, 41], "basic": 0, "output": [0, 1, 4, 5, 6, 9, 10, 11, 13, 17, 21, 22, 24, 26, 31, 33, 37, 38, 41, 44, 45, 46, 47], "each": [0, 6, 21, 22, 24, 25, 29, 30, 31, 37, 38, 42], "step": [0, 4, 9, 31, 38, 41], "rst": 0, "In": [0, 21, 29, 31, 32, 37, 41], "1": [0, 3, 16, 21, 24, 25, 28, 29, 30, 31, 32, 33, 34, 37, 41, 47], "import": [0, 31], "load_dataset": [0, 25], "2": [0, 3, 9, 25, 29, 31, 36, 37, 41], "out": [0, 4, 5, 6, 11, 24, 25, 31, 37], "datasetdict": [0, 37], "kilt_id": 0, "id": [0, 3, 24, 29, 31], "meta": 0, "original_quest": 0, "url": [0, 4, 9, 11, 31, 46], "wikidata_id": [0, 9, 24], "num_row": 0, "1190": 0, "valid": [0, 4, 9, 11, 36, 37, 38, 41, 42], "1250": 0, "test": [0, 10, 11, 22, 36, 37, 38, 41, 42], "1257": 0, "3": [0, 3, 15, 41], "item": [0, 4, 6, 11, 13, 14, 15, 24, 37, 44], "0": [0, 3, 4, 5, 9, 10, 11, 13, 15, 25, 27, 28, 29, 31, 33, 37, 41, 46], "now": 0, "like": [0, 4, 6, 21, 25, 29, 31, 32, 37, 38], "load": [0, 1, 2, 3, 4, 11, 13, 16, 21, 24, 25, 37, 38], "4": [0, 21, 25, 29, 37, 46], "type": [0, 3, 4, 5, 6, 9, 21, 22, 24, 25, 29, 31, 33, 37, 38, 44], "5": [0, 3, 4, 37, 41, 46], "upload": [0, 9, 11], "org": [0, 9, 10, 11, 31], "thumb": [0, 9], "ae": 0, "jackie_wilson": 0, "png": [0, 11, 15], "512px": 0, "store": [0, 4, 11, 24, 25, 37], "6": [0, 15, 46], "thu": [0, 4, 31], "load_image_batch": [0, 6], "doe": [0, 4, 24, 25, 37, 41], "7": [0, 15, 21, 29], "fake": 0, "batch": [0, 4, 9, 13, 15, 16, 19, 21, 25, 31, 33, 36, 37, 38, 41], "size": [0, 4, 9, 13, 15, 17, 36, 37, 46], "8": [0, 4, 8, 37], "return": [0, 3, 4, 5, 6, 9, 10, 15, 21, 24, 25, 29, 30, 31, 33, 37, 38, 41], "pil": [0, 15, 16, 31], "have": [0, 1, 2, 9, 15, 25, 31, 37], "been": [0, 9], "resiz": [0, 1, 11, 12], "width": [0, 4, 9, 11, 31, 44], "512": [0, 4, 11, 17, 21, 29], "9": [0, 3, 9, 25, 41], "526": 0, "string": [0, 3, 6, 8, 9, 24, 37], "10": [0, 3, 10, 25, 37], "singer": 0, "re": [0, 6, 9, 36, 38], "issu": 0, "song": 0, "becam": 0, "uk": 0, "christma": 0, "number": [0, 3, 4, 5, 6, 9, 29, 31, 37, 44], "after": [0, 9, 11, 22, 30, 31, 42, 44], "help": [0, 4, 22, 40, 42, 44, 47], "advertis": 0, "what": [0, 1, 2, 24, 31], "brand": 0, "11": 0, "original_answ": [0, 24], "levi": 0, "process": [0, 6, 9, 13, 15, 25, 31, 32, 37, 41], "12": [0, 28, 29], "map": [0, 2, 3, 4, 7, 11, 15, 21, 24, 25, 29, 33, 37], "my_funct": 0, "almost": [0, 32], "adapt": [0, 6, 16, 29, 33, 37, 38, 39, 41], "librari": 0, "13": 0, "again": 0, "veri": [0, 9, 10], "similar": [0, 5, 29, 31, 41], "so": [0, 4, 6, 8, 9, 15, 24, 25, 31, 36, 37, 41], "field": [0, 4, 9, 10, 24, 25], "exhaust": 0, "share": [0, 9, 37, 41], "viquae_wikipedia": 0, "raw": 0, "data_fil": 0, "humans_with_fac": 0, "humans_without_fac": 0, "non_human": 0, "anchor": 0, "categori": [0, 3, 4, 9, 10, 24], "wikidata_info": 0, "wikipedia_id": [0, 4], "wikipedia_titl": [0, 24], "506237": 0, "35736": 0, "953379": 0, "q313590": 0, "alain": 0, "conn": 0, "abov": [0, 6, 9, 37], "alain_conn": 0, "list": [0, 3, 4, 5, 6, 9, 15, 21, 22, 24, 33, 37, 38, 45], "paragraph": [0, 6, 31], "len": [0, 9, 33, 45], "25": 0, "born": 0, "april": 0, "1947": 0, "french": 0, "mathematician": 0, "current": [0, 6, 41], "professor": 0, "coll\u00e8g": 0, "de": [0, 11], "franc": 0, "ih\u00e9": 0, "ohio": 0, "state": [0, 29, 30, 31, 37], "univers": [0, 29], "vanderbilt": 0, "he": [0, 4], "wa": [0, 4, 15], "an": [0, 3, 4, 8, 9, 15, 24, 25, 28, 29, 30, 31, 37], "invit": 0, "conservatoir": 0, "nation": 0, "art": 0, "m\u00e9tier": 0, "2000": 0, "n": [0, 4, 5, 6, 9, 15, 29, 31, 37, 44], "might": [0, 4, 9, 10, 29, 31, 36, 37], "concaten": [0, 29, 31, 37], "three": 0, "concatenate_dataset": 0, "lambda": 0, "is_human": 0, "true": [0, 4, 9, 11, 13, 15, 16, 25, 29, 30, 31, 32, 34, 37, 41], "fals": [0, 3, 4, 5, 6, 11, 15, 16, 22, 25, 27, 29, 31, 34, 37, 39, 41, 45, 46], "kb_recat": 0, "save_to_disk": [0, 4, 6, 13, 14, 15, 16, 17, 21, 24, 25], "viquae_wikipedia_recat": 0, "To": [0, 6, 13, 21, 37], "instruct": [0, 2, 6, 10], "section": [0, 6, 11, 37], "them": [0, 10, 13, 24, 25, 27, 28, 29, 31, 32, 33, 34, 37], "viquae_v4": 0, "alpha_passag": 0, "srinavasan": 0, "arxiv": [0, 29, 33], "ab": 0, "2103": 0, "01913": 0, "avail": [0, 4, 9, 11], "googl": [0, 11], "research": [0, 11], "By": [0, 11, 21, 47], "ani": [0, 3, 4, 9, 11, 30, 37], "chanc": [0, 11], "access": [0, 11, 27, 34], "jean": [0, 11, 29, 33], "zai": [0, 11], "dsdir": [0, 11], "html": [0, 1, 43], "wit_for_mict": [0, 11], "pleas": [0, 37], "md": [0, 4, 5], "reproduc": 0, "cite": 0, "inproceed": 0, "lerner2022viqua": 0, "author": [0, 4], "paul": 0, "olivi": 0, "ferret": 0, "camil": 0, "guinaudeau": 0, "le": 0, "borgn": 0, "herv\u00e9": 0, "romar": 0, "besan\u00e7on": 0, "moreno": 0, "jose": 0, "lov\u00f3n": 0, "melgarejo": 0, "jes\u00fa": 0, "year": [0, 3, 9], "2022": [0, 29, 33], "titl": [0, 4, 6, 9, 24, 37, 46], "booktitl": 0, "proceed": [0, 31, 32, 37, 41], "45th": 0, "intern": [0, 31, 32], "acm": 0, "confer": [0, 29, 31, 32, 41], "develop": 0, "inform": [0, 25, 37], "seri": 0, "hal": 0, "ouvert": 0, "fr": 0, "03650618": 0, "doi": 0, "1145": 0, "3477495": 0, "3531753": 0, "publish": 0, "associ": [0, 15, 25, 31, 32, 37], "machineri": 0, "address": 0, "new": [0, 4, 6, 9], "york": 0, "ny": 0, "usa": 0, "unpublish": 0, "lerner2023ict": 0, "scienc": 0, "03933089": 0, "note": [4, 9, 10, 13, 15, 25, 29, 41], "work": [0, 37], "preprint": 0, "accept": 0, "2023": [0, 11, 29], "month": 0, "jan": 0, "keyword": [0, 4, 15, 29, 41], "pdf": 0, "main": [0, 3, 5, 29, 37, 40, 42, 45, 46, 47], "hal_id": 0, "hal_vers": 0, "v1": 0, "pytorch": [0, 31, 37, 42], "offici": 0, "wrt": 0, "your": [0, 9, 10, 36, 41, 42], "prefer": [0, 9], "virtual": 0, "environ": 0, "elasticsearch": [0, 25], "pyserini": [0, 25], "do": [0, 37], "spars": 0, "rest": [0, 2, 10, 25, 37], "should": [0, 1, 2, 4, 9, 10, 13, 15, 21, 24, 25, 27, 28, 29, 31, 32, 33, 34, 37, 38], "pip": 0, "github": 0, "com": 0, "build": [0, 28, 37], "local": 0, "sphinx": 0, "apidoc": 0, "o": 0, "source_doc": 0, "f": [0, 4, 29], "m": [0, 7, 31, 36, 37, 41], "b": [0, 4, 6, 9, 25, 31, 47], "command": 0, "assum": [0, 4, 24, 25, 37], "directori": [0, 5, 11, 24, 25], "root": [0, 4, 9, 15, 37], "repo": [0, 4], "level": [0, 4, 9, 29, 38], "folder": [0, 4], "except": [0, 9, 29, 37], "which": [0, 6, 11, 24, 37], "specifi": [0, 3, 9, 31, 37], "variabl": [0, 37], "chang": [0, 6, 29, 37, 47], "path": [0, 3, 4, 5, 9, 10, 11, 13, 15, 21, 22, 24, 25, 36, 37, 40, 42, 44, 45, 47], "config": [0, 5, 6, 13, 16, 17, 21, 22, 24, 25, 27, 29, 30, 31, 32, 34, 40, 42, 44, 46], "configur": [0, 21, 22, 25, 29, 31, 36, 42, 44], "found": [0, 9, 11, 31, 37], "expect": [0, 21, 25, 37], "subdirectori": 0, "we": [0, 4, 6, 9, 24, 37], "lightn": [0, 37, 40, 41, 42], "itself": [0, 25], "torch": [0, 13, 15, 29, 30, 31, 32, 37, 41], "even": [0, 9], "when": [0, 4, 6, 13, 14, 15, 16, 17, 21, 24, 25, 29, 30, 31, 36, 37, 38, 47], "specif": [0, 9, 31], "mark": [0, 6], "while": [0, 4, 13, 27, 28, 29, 31, 32, 33, 34, 37, 47], "marqu": 0, "those": [0, 9, 37], "coria": 0, "mtcnn": [0, 15], "thei": [0, 29], "did": 0, "give": 0, "promis": 0, "strip": 0, "semi": 0, "structur": 0, "disjoint": 0, "100": [0, 6, 9, 22, 25, 36, 37, 38, 47], "word": [0, 4, 27, 34], "preserv": 0, "sentenc": [0, 2, 11, 31, 37], "boundari": 0, "append": 0, "begin": [0, 6, 37], "viquae_passag": 0, "disable_cach": [0, 4, 6, 13, 14, 15, 16, 17, 21, 24, 25], "match": [0, 3, 4, 37, 41], "order": [0, 9, 25, 37], "version": 0, "befor": [0, 8, 9, 10, 25, 29, 30, 31, 36, 42], "w": [0, 4, 9, 16, 24], "r": [0, 4, 9], "kilt_wikipedia": [0, 6], "Then": [0, 6, 9], "extract": [0, 3, 7, 15, 22, 37, 41], "some": [0, 4, 7, 24], "column": [0, 6, 24, 25, 37], "allow": [0, 15, 38], "quick": [0, 6], "title2index": [0, 24], "passage_index": 0, "article2passag": [0, 24], "than": [0, 4, 6, 13, 29, 31], "contain": [0, 2, 3, 4, 11, 24, 38], "clue": 0, "quit": 0, "weak": 0, "That": 0, "scan": 0, "noth": 0, "tackl": 0, "come": 0, "prioriti": 0, "moreov": 0, "ha": [0, 9, 25, 30, 31, 37, 47], "impact": 0, "evalu": [0, 3, 25, 37, 38, 41, 42], "check": [0, 3, 25], "origin": [0, 4, 6, 9, 15, 24, 37, 38], "alias": [0, 4], "sinc": [0, 13, 25, 27, 28, 29, 31, 32, 33, 34], "realli": 0, "fit": [0, 22, 36, 37, 41, 42], "cannot": 0, "think": 0, "make": [0, 4, 6, 8, 25, 29, 36], "robust": 0, "just": [0, 4], "let": 0, "yourself": [0, 37], "snippet": 0, "load_from_disk": 0, "set_caching_en": [0, 4, 6, 13, 14, 15, 16, 17, 21, 24, 25], "find_relev": [0, 24], "ranx": [0, 22, 24, 25, 37, 38, 41], "reader": [0, 31, 41], "save": [0, 4, 5, 6, 9, 13, 15, 21, 24, 25, 36, 40, 41, 47], "bm25_provenance_indic": 0, "bm25_irrelevant_indic": 0, "from_fil": 0, "multimodal_ir_train": 0, "trec": [0, 37], "def": [0, 37], "keep_relevant_search_wrt_original_in_prior": 0, "int": [0, 3, 4, 6, 9, 21, 24, 25, 27, 29, 31, 37, 38, 39, 41, 44], "relevant_indic": 0, "_": [0, 29, 41], "search_provenance_indic": 0, "els": [0, 3, 4, 9, 37], "original_answer_provenance_indic": 0, "search_irrelevant_indic": 0, "set": [0, 4, 6, 9, 11, 25, 29, 37, 41, 42], "fn_kwarg": [0, 4, 13, 16, 17, 21], "appli": [0, 4, 9, 22, 24, 25, 37, 42, 44], "qa": [0, 1, 4, 26], "obtain": [0, 29, 31], "50": 0, "pool": [0, 6, 13, 29, 30, 32], "max": [0, 25], "tweak": 0, "layer": [0, 13, 21, 28, 29, 30, 31], "backbon": [0, 31, 32], "long": [0, 31], "nn": [0, 21, 29, 37, 41], "torchvis": 0, "respect": [0, 4, 6, 24, 41], "other": [0, 13, 22, 24, 41, 42, 44], "vit": [0, 34], "implement": [0, 29, 31, 37, 38], "transform": [0, 6, 13, 17, 27, 29, 31, 32, 33, 34, 37, 39, 41], "obvious": 0, "emb": [0, 13, 21, 29], "resnet50": [0, 13], "image_embed": [0, 13, 29], "vit_config": 0, "better": 0, "sens": 0, "represent": [0, 15, 21, 29, 31, 41], "look": [0, 25], "interact": [0, 1, 48], "umap": [0, 1, 43], "whole": [0, 9, 41], "rn50": [0, 29], "take": [0, 4, 5, 13, 21, 25, 27, 28, 29, 31, 32, 33, 34], "For": [0, 1, 2, 7, 13, 22, 37, 40, 42, 47], "save_a": [0, 13, 21, 24], "image_kei": [0, 13, 14, 15, 16, 17, 37], "prepred": 0, "context_": 0, "trainer": [0, 1, 33, 35, 36, 37, 38, 41], "its": [0, 4, 9, 10, 24, 25, 47], "abl": [0, 6, 21, 29, 37], "perform": [0, 13, 15, 27, 28, 29, 31, 32, 33, 34, 42], "subset": [0, 4, 7, 9, 10, 11, 37], "space": [0, 3, 6, 9, 28, 29], "repres": [0, 3, 4, 41], "through": [0, 4, 6, 21, 24, 25, 31, 33], "zero": 0, "shot": [0, 29, 33], "reduc": [0, 46], "2d": 0, "via": [0, 6, 9], "bokeh": 0, "plot": 0, "shown": 0, "purpos": 0, "thing": 0, "littl": 0, "more": [0, 4, 6, 22, 31, 37, 42], "complic": 0, "first": [0, 1, 2, 3, 4, 6, 8, 9, 10, 13, 15, 21, 31, 37], "human": [0, 4, 9], "non": [0, 4], "guess": 0, "need": [0, 4, 10, 13, 27, 28, 29, 31, 32, 33, 34, 37], "trivial": 0, "alreadi": [0, 4], "zhang": 0, "2016": 0, "facenet_pytorch": 0, "feel": 0, "free": 0, "haven": 0, "whether": [0, 5, 6, 9, 11, 15, 24, 25, 29, 31, 37, 41], "probabl": [0, 2, 9, 15, 30, 31, 41], "latter": [0, 13, 27, 28, 29, 31, 32, 33, 34], "landmark": [0, 15, 16], "crope": 0, "happen": [0, 37], "next": [0, 3, 31], "face_detect": [0, 1, 12], "batch_siz": [0, 15, 21, 29, 30, 31, 32, 33, 37], "256": [0, 11], "deng": 0, "2019": [0, 31, 32, 37], "guo": 0, "insightfac": [0, 16], "arcface_torch": 0, "add": [0, 9, 10, 11, 22, 25, 37, 42], "__init__": [0, 37], "setup": [0, 36, 37], "my": 0, "fork": 0, "me": 0, "know": 0, "suppos": 0, "cleanli": 0, "checkout": 0, "chore": 0, "pretrain": [0, 31], "ms1mv3_arcface_r50_fp16": 0, "pth": [0, 13], "ey": 0, "nose": 0, "mouth": 0, "corner": 0, "adopt": 0, "alwai": [0, 6, 31, 37, 47], "posit": [0, 9, 21, 24, 25, 27, 34, 37, 40, 41, 47], "regardless": 0, "pose": 0, "person": 0, "done": [0, 11, 29], "similarity_transform": [0, 16], "function": [1, 2, 8, 13, 24, 27, 28, 29, 31, 32, 33, 34, 39], "skimag": 0, "cv2": 0, "tri": [0, 4, 9], "extra": [0, 4, 6, 15, 29, 37], "compar": [0, 24, 25, 31], "dimens": [0, 15, 25, 31, 37], "down": 0, "final": [0, 3, 4, 5, 13], "face_recognit": [0, 1, 12], "consid": [0, 4, 37], "most": 0, "someth": [0, 9, 37], "d": [0, 11, 37], "first_face_embed": 0, "face_embed": 0, "none": [0, 3, 4, 6, 9, 10, 13, 15, 21, 22, 24, 25, 27, 28, 29, 30, 31, 33, 34, 36, 37, 40, 41, 44, 45, 46, 47], "displai": 0, "10k": 0, "reason": [0, 7], "sake": 0, "unit": [0, 25, 29, 31], "chen": [0, 29, 41], "x_1": 0, "y_1": 0, "x_2": 0, "y_2": 0, "h": [0, 16, 22, 40, 42, 44, 47], "where": [0, 4, 5, 9, 11, 24, 25, 29, 33, 37, 47], "top": [0, 25, 36, 37, 41, 47], "left": [0, 9], "bottom": 0, "right": [0, 11, 13, 47], "coordin": [0, 15], "scale": [0, 29], "between": [0, 3, 4, 6, 11, 36, 41], "height": [0, 11, 31], "time": [0, 3, 31, 37], "area": 0, "achiev": 0, "simpli": [0, 6, 9, 13, 15, 29, 30], "face_box": [0, 1, 12], "Be": 0, "sure": [0, 8, 36], "karpukinh": 0, "v100": 0, "gpu": [0, 36, 41], "32gb": 0, "total": 0, "32": 0, "crucial": 0, "becaus": [0, 27, 29, 34, 38], "pair": [0, 11, 37], "neg": [0, 9, 41], "exampl": [0, 3, 13, 15, 31, 37, 44, 47], "irrelev": [0, 9, 11, 25, 31, 37, 47], "mine": 0, "initi": [0, 30, 31], "bert": [0, 1, 26, 29, 31, 32, 34, 40, 41], "uncas": 0, "skip": [0, 9], "dpr_question_encoder_triviaqa_without_viqua": 0, "context": [0, 29, 37, 41], "dpr_context_encoder_triviaqa_without_viqua": 0, "dprquestionencod": [0, 29], "dprcontextencod": [0, 29], "given": [0, 4, 10, 22, 37], "small": [0, 9], "filter": [0, 2, 4, 11, 24, 25, 37, 47], "gener": [0, 2, 3, 11, 30, 37], "triviaqa_for_viqua": 0, "complet": [0, 5], "yaml": [0, 40, 42], "checkpoint": [0, 13, 40, 41], "13984": 0, "exactli": 0, "onc": [0, 11, 25], "ve": [0, 11], "decid": [0, 41], "case": [0, 6, 9, 21, 25, 29, 37], "save_ptm": [0, 1, 35], "lightning_log": 0, "version_0": 0, "ckpt": [0, 36, 40], "ckpt_path": [0, 41], "pretra": 0, "optim": [0, 1, 22, 35, 41, 42], "stuff": 0, "start": [0, 5, 25, 29, 30, 31, 41], "40": 0, "unlik": [0, 6, 29], "nvidia": 0, "gb": 0, "ram": 0, "gradient": [0, 41], "notic": 0, "fulli": [0, 41], "freez": [0, 41], "dure": [0, 31, 37, 41], "stage": [0, 37], "regex": [0, 41], "dpr_encod": [0, 29], "question_ilf_l12_wit_mict": 0, "context_ilf_l12_wit_mict": 0, "bertmodel": [0, 29, 31, 32, 40], "option": [0, 2, 4, 5, 6, 11, 13, 14, 15, 16, 17, 21, 22, 24, 25, 27, 29, 30, 31, 33, 36, 37, 38, 40, 41, 42, 44, 45, 47], "last": [0, 4, 31], "six": 0, "frozen": 0, "thank": 0, "question_eca_l6_wit_mict": 0, "context_eca_l6_wit_mict": 0, "As": [0, 6, 32], "saniti": 0, "although": [0, 13, 15, 27, 28, 29, 31, 32, 33, 34], "notabl": 0, "signific": [0, 38], "differ": [0, 9, 29, 36, 37, 38], "second": [0, 10, 31], "hold": [0, 6, 21, 24, 25, 37], "biencod": [0, 29, 30, 37, 40, 41], "15600": 0, "8200": 0, "question_model_name_or_path": [0, 41], "trainabl": [0, 41], "mm": [0, 1, 26, 37], "pretrainedmodel": [0, 29, 40, 41], "closer": 0, "depict": [0, 2, 4], "jcm": 0, "mono": [0, 29], "correspond": [0, 6, 11, 25, 28, 31, 37], "wikipedia_imag": 0, "bunch": 0, "dens": [0, 41], "faiss": [0, 25], "along": [0, 4, 5, 33], "grid": 0, "dev": [0, 11], "maxim": 0, "mrr": [0, 22, 24, 25, 46], "identifi": [0, 24, 25, 37], "qrel": [0, 22, 24, 25, 36, 37, 47], "launch": 0, "elast": 0, "server": 0, "k_1": 0, "optuna": 0, "k": [0, 13, 25, 37, 47], "ask": [0, 3], "hp": [0, 1, 20, 25], "paramet": [0, 3, 4, 5, 6, 9, 15, 21, 22, 24, 25, 29, 30, 31, 32, 33, 36, 37, 38, 39, 41, 44], "index_kwarg": [0, 25], "previou": [0, 4], "face_and_image_are_exclus": [0, 29], "trust": [0, 6], "detector": 0, "rename_column": 0, "keep_imagenet": 0, "keep_clip": 0, "cosin": [0, 46], "distanc": [0, 4], "henc": 0, "l2norm": [0, 25], "flat": 0, "string_factori": [0, 25], "metric_typ": 0, "l2": 0, "normal": [0, 9, 25, 31, 32, 37], "dot": [0, 29, 41], "product": [0, 29, 41], "combin": [0, 29], "score": [0, 3, 4, 9, 22, 30, 31, 37, 38], "mean": [0, 3, 11, 13, 24, 41, 47], "varianc": 0, "weight": [0, 30, 31], "sum": [0, 8, 29], "minimum": [0, 3], "vice": 0, "versa": 0, "interpol": 0, "config_fit": 0, "config_test": 0, "script": [0, 2, 21, 24, 25, 42], "techniqu": 0, "fuse": [0, 1, 20, 25, 29, 31], "baselin": 0, "much": 0, "pick": [0, 24], "pass": [0, 6, 13, 21, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 39, 41], "dataset_config": 0, "kb_config": 0, "kei": [0, 3, 4, 6, 8, 9, 21, 24, 25, 29, 37, 45, 46], "ilf_few_shot": 0, "eca_few_shot": 0, "monomod": 0, "explain": 0, "advis": 0, "against": [0, 3, 24], "kind": [0, 25, 37], "recal": 0, "precis": [0, 24, 25], "estim": 0, "go": [0, 4], "depend": [0, 4, 10, 21, 31, 37], "system": [0, 1, 18], "all_qrel": 0, "comparison": 0, "bewar": 0, "neither": 0, "nor": 0, "exclus": [0, 29, 31], "roughli": [0, 9], "half": 0, "arbitrari": [0, 37], "meaning": 0, "until": 0, "interest": [0, 2], "leav": [0, 5, 37], "downstream": [0, 38], "asid": 0, "anoth": [0, 29], "full": [0, 4, 9, 21, 29, 30, 37, 42], "were": [0, 2, 9, 24], "reference_kei": [0, 24, 25], "article_config": 0, "method": [0, 6, 15, 21, 22, 25, 31, 32, 37, 41], "candid": [0, 4], "multi": [0, 31, 32], "wang": [0, 31, 32], "extend": [0, 37], "devlin": 0, "clark": [0, 31], "2018": [0, 31], "independ": 0, "softmax": [0, 30, 31], "across": [0, 30, 31, 41], "inherit": 0, "bertforquestionansw": [0, 31], "karpukhin": [0, 41], "2020": [0, 29, 41], "convert": [0, 3, 4, 8, 16, 31, 37], "end": [0, 5, 11, 30, 31, 36, 41], "span": [0, 31, 41], "get_best_span": [0, 31], "weigh": [0, 31], "ensur": 0, "enforc": [0, 9, 37], "token": [0, 6, 21, 29, 31, 32, 37, 41], "cl": [0, 29, 31, 32], "default": [0, 3, 4, 5, 6, 9, 14, 15, 21, 22, 24, 25, 29, 31, 33, 37, 38, 41, 44, 47], "behavior": 0, "cannot_be_first_token": [0, 31], "flag": [0, 9], "multi_passage_bert_triviaqa_without_viqua": 0, "consist": 0, "discard": [0, 5], "remain": [0, 8], "ratio": 0, "16": 0, "24": [0, 37], "intuit": 0, "realist": 0, "predict": [0, 3, 31, 37, 38, 42], "max_n_answ": [0, 31, 37], "off": [0, 4], "up": [0, 9, 11, 41], "threshold": [0, 4, 15, 37], "train_original_answer_onli": [0, 37], "conjunct": 0, "carri": 0, "9m": 0, "rc": [0, 37], "46000": 0, "3600": 0, "seed": 0, "42": 0, "multipl": [0, 25, 29, 31, 37], "seed_everyth": 0, "version_1": 0, "oracl": [0, 37], "n_relevant_passag": [0, 37], "addit": [0, 6, 9, 29, 30, 31, 37], "run_path": [0, 24, 36, 37, 46], "y": [0, 3, 29], "c": [0, 3, 16, 29, 42], "li": [0, 29], "l": [0, 24, 29, 31, 37], "yu": [0, 29], "el": [0, 29], "kholi": [0, 29], "A": [0, 3, 15, 25, 29, 31, 32, 37, 47], "ahm": [0, 29], "gan": [0, 29], "z": [0, 29], "cheng": [0, 29], "liu": [0, 29], "j": [0, 29], "learn": [0, 29, 33, 39], "european": [0, 29], "vision": [0, 28, 29], "pp": [0, 29], "104": [0, 29], "120": [0, 29], "openreview": [0, 29], "net": [0, 29], "forum": [0, 29], "s1el4kbywr": [0, 29], "springer": [0, 29], "christoph": [0, 31], "matt": [0, 31], "gardner": [0, 31], "simpl": [0, 31], "effect": [0, 6, 25, 31, 37], "56th": [0, 31], "annual": [0, 31, 37], "meet": [0, 31, 37], "linguist": [0, 31, 32, 37], "volum": [0, 31], "845": [0, 31], "855": [0, 31], "melbourn": [0, 31], "australia": [0, 31], "jiankang": 0, "jia": 0, "niannan": 0, "xue": 0, "stefano": 0, "zafeiri": 0, "angular": 0, "margin": [0, 15], "loss": [24, 30, 31, 37, 39, 41], "deep": 0, "4690": 0, "4699": 0, "jacob": 0, "ming": [0, 37], "wei": [0, 37], "kenton": [0, 37], "lee": [0, 37], "kristina": [0, 37], "toutanova": [0, 37], "bidirect": 0, "languag": [0, 29, 31, 32, 33, 41], "understand": 0, "1810": 0, "04805": 0, "cs": 0, "yandong": 0, "lei": 0, "yuxiao": 0, "hu": 0, "xiaodong": 0, "jianfeng": 0, "gao": 0, "1m": 0, "benchmark": 0, "eccv": 0, "lectur": 0, "87": 0, "102": 0, "cham": 0, "vladimir": [0, 41], "barla": [0, 41], "oguz": [0, 41], "sewon": [0, 41], "min": [0, 41], "patrick": [0, 31, 32, 41], "lewi": [0, 41], "ledel": [0, 41], "wu": [0, 41], "sergei": [0, 41], "edunov": [0, 41], "danqi": [0, 41], "wen": [0, 41], "tau": [0, 41], "yih": [0, 41], "open": [0, 16, 31, 32, 37, 41], "domain": [0, 31, 32, 37, 41], "empir": [0, 31, 32, 41], "natur": [0, 9, 31, 32, 41], "emnlp": [0, 31, 32, 41], "6769": [0, 41], "6781": [0, 41], "facebookresearch": [0, 6, 25, 41], "zhiguo": [0, 31, 32], "ng": [0, 31, 32], "xiaofei": [0, 31, 32], "ma": [0, 31, 32], "ramesh": [0, 31, 32], "nallap": 0, "ati": 0, "bing": [0, 31, 32], "xiang": [0, 31, 32], "9th": [0, 31, 32], "joint": [0, 31, 32, 37], "ijcnlp": [0, 31, 32], "5878": [0, 31, 32], "5882": [0, 31, 32], "hong": [0, 31, 32], "kong": [0, 31, 32], "china": [0, 31, 32], "kaipeng": 0, "zhanpeng": 0, "zhifeng": 0, "qiao": 0, "align": 0, "multitask": 0, "cascad": 0, "convolut": [0, 13], "network": 0, "ieee": 0, "signal": 0, "letter": 0, "1499": 0, "1503": 0, "data": [1, 33, 35, 42, 48], "submodul": [1, 48], "infoseek": [1, 2, 24], "overview": [1, 2], "docopt": [1, 2, 24], "labelstudio": [1, 2], "usag": [1, 2, 4, 5, 7, 10, 11, 13, 14, 15, 16, 17, 21, 22, 24, 25, 29, 40, 42, 44, 45, 46, 47], "msceleb": [1, 2], "util": [1, 2, 26, 31, 37], "wiki": [1, 2, 4, 10, 44], "wikidump": [1, 2, 9], "wit": [1, 2], "mict": [1, 2], "imag": [1, 4, 5, 6, 9, 10, 11, 21, 26, 29, 31, 34, 37, 44, 48], "embed": [1, 12, 20, 25, 27, 28, 29, 30, 31, 34, 37, 41, 46], "ir": [1, 37, 38, 48], "metric": [1, 6, 8, 20, 22, 25, 35, 41, 46], "search": [1, 3, 20, 21, 37], "model": [1, 4, 6, 13, 15, 16, 21, 24, 36, 37, 38, 41, 48], "rr": [1, 26], "vilt": [1, 26, 29, 31], "train": [1, 6, 11, 13, 16, 29, 31, 48], "callback": [1, 35], "traine": [1, 29, 35, 37, 40], "viz": [1, 48], "stat": [1, 4, 9, 43], "wtl_filter": [1, 43], "annot": [2, 4, 5], "user": 2, "dataset": [2, 3, 4, 5, 6, 9, 11, 13, 14, 15, 16, 17, 21, 24, 25, 37, 38, 44, 45, 46, 47], "The": [2, 3, 4, 11, 15, 29, 31, 37, 41], "ner": 2, "mention": [2, 9], "vq": 2, "passag": [2, 21, 24, 25, 29, 30, 31, 32, 36, 37, 41, 44], "feminin": 2, "superclass": [2, 41], "sparql": 2, "heurist": [2, 4], "train_imag": 2, "tsv": 2, "goal": 4, "question": [3, 4, 5, 9, 24, 29, 30, 31, 32, 37, 38, 41, 47], "suitabl": 4, "vqa": 4, "replac": [4, 9, 13], "explicit": 4, "exist": 4, "textual": 4, "ambigu": 4, "illustr": 4, "slight": 4, "misnom": 4, "bit": 4, "e": [3, 4, 6, 9, 10, 11, 13, 25, 29, 31, 36, 37, 41, 47], "detect": [4, 15], "placehold": [4, 25], "syntact": 4, "children": 4, "g": [3, 4, 6, 9, 10, 11, 25, 31, 36, 37, 47], "who": [0, 4], "wrote": 4, "opera": 4, "carmen": 4, "rarr": 4, "disambigu": 4, "wikipedia": [4, 6, 9, 11, 24, 37], "triviaqa": 4, "frame": 4, "read": [4, 31], "comprehens": [4, 31], "problem": 4, "shelf": 4, "ned": 4, "didn": 4, "everi": [4, 9, 13, 27, 28, 29, 31, 32, 33, 34, 37, 41], "error": [4, 11], "rate": [4, 37, 39], "wer": 4, "levenshtein": 4, "minim": [4, 41], "recommand": [4, 25], "gather": [4, 9, 10, 21], "py": [4, 5, 6, 7, 9, 10, 11, 13, 14, 15, 16, 17, 21, 22, 24, 25, 40, 42, 44, 45, 46, 47], "run": [4, 6, 9, 10, 13, 15, 21, 22, 24, 25, 27, 28, 29, 31, 32, 33, 34, 36, 37, 38, 41, 42, 44, 47], "count_ent": [4, 7, 9], "input": [3, 4, 5, 6, 9, 10, 13, 15, 21, 25, 28, 29, 31, 32, 37, 41, 46], "gender": [4, 9], "anim": 4, "sex": [4, 9], "man": 4, "woman": 4, "transgend": 4, "him": 4, "hi": 4, "she": 4, "her": 4, "occup": [4, 9], "relev": [4, 10, 24, 25, 31, 37, 47], "actress": 4, "taxon": 4, "rank": [4, 36, 38], "speci": 4, "class": [3, 4, 9, 13, 15, 19, 22, 25, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 39, 41], "tower": [4, 9], "tripl": 4, "choos": [4, 25, 31], "uniformli": 4, "best": [4, 22, 31, 36], "accord": [4, 24, 25, 37, 47], "uniqu": [4, 8], "call": [4, 13, 21, 25, 27, 28, 29, 31, 32, 33, 34, 36, 37, 41], "label": [4, 5, 9, 37, 38], "studio": [4, 5], "format": [4, 7, 11, 21, 24, 37, 42], "automat": [4, 37], "pipelin": [4, 19], "save_imag": [4, 5, 6, 9], "shard": [4, 46], "advic": 4, "appreci": 4, "map_kwarg": [4, 13, 16, 17, 21, 25], "image_width": [4, 9], "categories_to_exclud": 4, "alternative_imag": 4, "num_shard": 4, "shard_index": 4, "desir": [4, 9], "thumbnail": [4, 9], "pixel": [4, 9, 11, 31, 37], "toward": [4, 24, 25, 37], "argument": [3, 4, 6, 15, 21, 22, 24, 25, 29, 31, 33, 36, 37, 39, 40, 41, 42, 44, 47], "disabl": [4, 6, 13, 14, 15, 16, 17, 21, 24, 25, 41], "cach": [4, 6, 13, 14, 15, 16, 17, 21, 24, 25], "useless": [4, 6, 13, 14, 15, 16, 17, 21, 24, 25], "spaci": [4, 6], "item2placehold": 4, "find": [3, 4, 9, 10, 22, 47], "fill": 4, "appropri": [4, 6], "lang": 4, "en": 4, "english": [0, 4, 11], "One": 4, "str": [3, 4, 5, 6, 8, 9, 13, 15, 21, 22, 24, 25, 29, 31, 32, 37, 38, 41, 44], "spacy_input": 4, "po": 4, "tag": [4, 9, 10], "doc": 4, "to_json": 4, "hugging_face_dataset": 4, "spacy_model": 4, "kilt_subset": 4, "stringifi": 4, "include_answ": 4, "include_proven": 4, "include_dep": 4, "1st": [4, 6], "recognit": 4, "goe": 4, "docstr": [4, 9], "result": [4, 9, 10, 13, 21, 22, 24, 25, 31, 37, 47], "data_root_path": 4, "meerqat_": 4, "pedia_index": 4, "2nd": 4, "ran": 4, "wer_threshold": 4, "generate_ment": 4, "feminine_label": [4, 9], "3rd": 4, "attribut": [4, 9], "generate_vq": 4, "sort": 4, "exclude_categori": 4, "validation_triviaqa": 4, "exclud": [4, 6, 9], "includ": [4, 9, 24], "cosplai": 4, "troubl": [4, 9], "gdpr": [4, 9], "empti": [4, 9], "keep": [4, 6, 9, 13, 37, 38, 41], "arg": [3, 4, 13, 29, 31, 32, 33, 37, 39, 41], "kwarg": [4, 6, 13, 15, 21, 24, 25, 29, 31, 32, 33, 37, 39, 40, 41, 45], "download_imag": 4, "session": [4, 9], "manipul": 5, "assign": [5, 10, 29, 37], "task": [5, 6, 11, 31, 37], "ls": 5, "merg": [5, 24], "sever": [5, 25, 31, 37], "inter": 5, "agreement": 5, "disagr": 5, "agre": 5, "correct": [3, 5, 37], "overlap": [3, 5, 6, 11], "zip": 5, "load_complet": 5, "completions_path": 5, "handl": [5, 9, 29, 37], "individu": 5, "output_path": [5, 6, 11, 13, 17, 21, 24, 45, 46], "annotator_agr": 5, "disagre": 5, "retrieve_vqa": 5, "assign_annot": 5, "todo_path": 5, "dataset_path": [5, 6, 13, 16, 17, 21, 24, 37, 44], "agreements_path": 5, "segment": [6, 31], "articl": [6, 9, 10, 11, 24, 25, 37], "prepend_titl": [6, 37], "prepend": 6, "sep": 6, "special_field": 6, "remov": [6, 9, 11, 13, 37], "bullet": 6, "point": [6, 37], "uniform": 6, "uniform_s": 6, "group": [6, 15, 31], "s": [3, 6, 7, 11, 15, 21, 24, 29, 31, 37, 40, 41, 46], "maximum": [3, 6, 9, 11, 31, 41], "invers": [6, 11, 37], "cloze": [6, 11, 37], "ict": [6, 11, 37], "text": [3, 6, 10, 21, 24, 29, 31, 34, 37], "one2mani": [6, 25], "verbose_load_from_disk": 6, "load_imag": 6, "file_nam": [6, 9, 15, 17], "load_fac": 6, "root_face_path": 6, "max_n_fac": [6, 16], "remove_articl": 6, "white_space_fix": 6, "remove_punc": 6, "answer_preprocess": 6, "squad": [6, 38], "lower": [6, 36], "punctuat": 6, "whitespac": 6, "get_class_from_nam": [6, 41], "class_nam": [6, 13], "get_pretrain": [6, 41], "pretrained_model_name_or_path": 6, "map_kilt_triviaqa": 6, "make_map": 6, "valu": [3, 6, 9, 24, 25, 29, 31, 33, 38, 41, 45], "make_mapping_dataset": 6, "save_nam": 6, "remove_special_field": 6, "put": 6, "lot": 6, "pre": [6, 13, 21, 25, 29, 31, 37], "paragraphs_preprocess": 6, "preprocess": [6, 16], "ident": [6, 11], "uniform_passag": 6, "split": [6, 9, 11, 37], "pretrainedtoken": [6, 21, 31, 37], "ad": [6, 21], "etc": [6, 9], "uniform_passages_of_sent": 6, "sep_token": 6, "base": [3, 6, 7, 9, 13, 15, 19, 21, 22, 25, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 39, 40, 41, 42], "get": [3, 6, 9, 13, 21, 24, 25, 31, 37, 41], "back": [6, 24], "un": 6, "lost": 6, "There": [6, 31, 37], "actual": [6, 15, 24, 25, 41], "make_passag": 6, "preprocessing_method": 6, "preprocessing_kwarg": 6, "make_passage_item": 6, "passage_dict": 6, "make_passage_dataset": 6, "input_path": 6, "creat": [6, 25, 37], "revers": 6, "make_sentences_item": 6, "make_sentences_dataset": 6, "load_pretrained_in_kwarg": 6, "recurs": [6, 9, 33], "wikidata2freebas": 7, "mid": 7, "wikidata": [7, 9, 24], "0xxx": 7, "freebas": 7, "freebase2wikidata": 7, "qid": [7, 9, 24], "mscelebs_path": 7, "cmusatyalab": 7, "openfac": 7, "md5": 8, "hashlib": 8, "encod": [8, 13, 30, 31, 37, 40, 41], "utf": 8, "lastli": 8, "decod": 8, "hash": [8, 11], "hexdigest": 8, "json_integer_kei": 8, "dictionari": [3, 8, 22, 33], "dictionai": 8, "integ": [8, 37], "cast": [8, 37], "to_latex": 8, "servic": 9, "api": 9, "cake": 9, "queri": [9, 21, 25, 37], "mani": [9, 29], "refer": [3, 9, 24, 25, 29, 31, 32, 33, 37, 38, 41], "properti": [9, 41], "p18": 9, "equival": [9, 29, 30, 34], "infobox": [9, 37], "p154": 9, "logo": 9, "p41": 9, "p94": 9, "coat": 9, "arm": 9, "p2425": 9, "ribbon": 9, "_superclass": 9, "discrimin": 9, "previous": 9, "tell": 9, "promin": 9, "pic": 9, "barack": 9, "obama": 9, "joe": 9, "biden": 9, "eiffel": 9, "instanc": [9, 13, 21, 27, 28, 29, 31, 32, 33, 34], "date": [3, 9], "death": 9, "concrete_ent": 9, "abstract_ent": 9, "p21": 9, "p106": 9, "kept": 9, "delet": 9, "mayb": 9, "unsur": 9, "subcategori": 9, "max_imag": 9, "max_categori": 9, "control": [9, 31], "descript": 9, "deceas": 9, "classes_to_exclud": 9, "1000": [9, 25], "negative_filt": 9, "positive_filt": 9, "q5": 9, "aliv": 9, "avoid": [9, 31], "q82794": 9, "own": 9, "file_name_to_thumbnail": 9, "prefix": [9, 24, 33], "thumbnail_to_file_nam": 9, "special": [9, 24, 31], "extens": [9, 11], "introduc": 9, "93": 9, "foo": 9, "tif": 9, "lossi": 9, "page1": 9, "469px": 9, "cours": 9, "bytes2dict": 9, "get_licens": 9, "licens": 9, "short": 9, "upper": 9, "unavail": 9, "license_scor": 9, "query_sparql_ent": 9, "endpoint": 9, "wd": 9, "return_format": 9, "sdc": 9, "update_from_data": 9, "updat": [9, 25, 36], "info": 9, "set_reference_imag": 9, "reserved_imag": 9, "update_from_commons_sparql": 9, "query_depicted_ent": 9, "depiction_instanceof_heurist": 9, "keep_prominent_depict": 9, "request": [9, 31], "max_tri": 9, "went": 9, "wrong": 9, "query_commons_subcategori": 9, "n_queried_categori": 9, "bool": [3, 9, 15, 22, 25, 27, 29, 31, 37, 41], "query_imag": 9, "otherwis": [3, 9, 11, 27, 34, 37], "track": 9, "equal": [9, 15, 37], "hopefulli": 9, "enrich": 9, "update_from_commons_rest": 9, "special_path_to_file_nam": 9, "special_path": 9, "underscor": 9, "image_heurist": 9, "exclude_class": 9, "keep_class": 9, "classes_to_keep": 9, "attributes_to_keep": 9, "iso2year": 9, "iso": 9, "remove_alive_human": 9, "year_threshold": 9, "inf": 9, "query_superclass": 9, "wikidata_superclasses_queri": 9, "n_level": 9, "uri_to_qid": 9, "uri": 9, "uris_to_qid": 9, "query_feminine_label": 9, "count": 9, "print_stat": 9, "dump": 10, "retriev": [10, 24, 31, 37, 38, 41], "wikicod": 10, "lazili": 10, "applic": 10, "templat": 10, "expand": [10, 21], "parse_fil": 10, "element": [10, 31], "namespac": 10, "mw": 10, "www": 10, "mediawiki": 10, "xml": 10, "find_text": 10, "get_field": 10, "wikitext": 10, "process_articl": 10, "entity_categori": 10, "dump_path": 10, "multimod": [11, 29, 37], "svg": 11, "got": 11, "404": 11, "dii": 11, "877": 11, "635": 11, "48": 11, "271": 11, "815": 11, "tree": 11, "00": 11, "000004379cfea6d71f7c47180c2163ee40887b7b23798535435d9b2c0065cea5": 11, "000004528fa952ab9e2212ff7c749dfb1f28eb0fae2f45bec768e3ba72265420": 11, "00ffff77789c938b5c2ce004d09246d1d54ef5d325d831adf3611413794d757f": 11, "01": 11, "ff": 11, "wit_v1": 11, "00000": 11, "00010": 11, "00001": 11, "00002": 11, "00003": 11, "00004": 11, "00005": 11, "00006": 11, "00007": 11, "00008": 11, "00009": 11, "convent": 11, "xy": 11, "ext": 11, "sha256": 11, "charact": [3, 11], "subfold": 11, "statu": 11, "could": 11, "hsould": 11, "rouself": 11, "sampl": [11, 37], "ca": 11, "d4": 11, "trobador": 11, "jpeg": 11, "95": 11, "953feec3651efda25c166841ec8c0cd8d2064bf59f668c8dcb62dc823963a385": 11, "2703": 11, "2705_pontiac_montana_taxi": 11, "35": 11, "35bcbf0f09424126932707a702b152fac7ebd9c932a877a3f2515d9fe67bb44d": 11, "2755_singer_4adt_roadster_": 11, "28hudson": 11, "29": 11, "dd": 11, "dd10ea054385d8fac82a7bca15202434b7ce0facb01519021980ba07c5e6f626": 11, "2768_chevrolet_biscayne_coupe_": 11, "28centropolis_laval_": 11, "2710": 11, "44": 11, "44a11a487b09c8118e1066491880ad7045513379b5c16cdc9460321db113ad2d": 11, "2783_buick_century_sedan": 11, "Not": 11, "root_path": [11, 15], "caption": [11, 37], "dedup": 11, "duplic": [11, 37], "check_encod": 11, "fill_wit_for_mict": 11, "downloaded_imag": 11, "dict_to_dataset": 11, "common_filt": 11, "is_uniqu": 11, "unique_pair": 11, "overwrit": [13, 21, 25, 29], "imageencod": 13, "forward": [13, 15, 21, 27, 28, 29, 31, 32, 33, 34, 41], "x": [3, 13, 15, 16, 27, 33], "defin": [13, 25, 27, 28, 29, 31, 32, 33, 34], "overridden": [13, 27, 28, 29, 31, 32, 33, 34], "subclass": [13, 27, 28, 29, 31, 32, 33, 34, 37, 41], "recip": [13, 27, 28, 29, 31, 32, 33, 34], "within": [3, 13, 27, 28, 29, 31, 32, 33, 34], "afterward": [13, 27, 28, 29, 31, 32, 33, 34], "former": [13, 27, 28, 29, 31, 32, 33, 34], "care": [13, 27, 28, 29, 31, 32, 33, 34], "regist": [13, 27, 28, 29, 31, 32, 33, 34], "hook": [13, 27, 28, 29, 31, 32, 33, 34, 37], "silent": [13, 27, 28, 29, 31, 32, 33, 34], "ignor": [13, 27, 28, 29, 31, 32, 33, 34, 41], "get_nn_modul": 13, "from_pretrain": [13, 16, 31, 37, 41], "model_nam": [13, 16], "imagenet": [13, 29], "pretrained_model_path": 13, "forget": 13, "num_class": [13, 37], "places365": 13, "state_dict": 13, "resnet50_places365": 13, "map_loc": 13, "cpu": 13, "v": 13, "resnet50_places365_state_dict": 13, "get_encod": 13, "torchvision_model": 13, "classif": [13, 30, 31], "get_torchvision_model": 13, "pretrained_kwarg": [13, 16], "pool_kwarg": 13, "get_transform": [13, 17], "resize_kwarg": [13, 17], "224": 13, "crop_siz": 13, "485": 13, "456": 13, "406": 13, "std": 13, "229": 13, "225": 13, "get_model_and_transform": 13, "model_kwarg": [13, 41], "transform_kwarg": [13, 17], "dataset_emb": [13, 21], "keep_column": [13, 21, 37], "scale_box": 14, "output_root": 17, "batch_res": 17, "dataset_res": 17, "copi": [27, 34], "bertselfattent": 27, "position_embedding_typ": 27, "transpose_for_scor": 27, "tensor": [15, 21, 27, 29, 31, 33, 37, 38, 41], "hidden_st": [27, 29, 30, 31, 34], "attention_mask": [21, 27, 29, 31, 32, 34, 37, 41], "floattensor": [27, 29, 30, 31, 32, 41], "head_mask": [27, 29, 31, 34], "encoder_hidden_st": [27, 29], "encoder_attention_mask": [27, 29], "past_key_valu": [27, 29], "tupl": [3, 15, 21, 27, 29, 30, 31, 33, 41], "output_attent": [27, 29, 30, 31, 34], "bertselfoutput": 27, "input_tensor": 27, "bertembed": 27, "construct": [27, 34], "token_typ": [27, 34], "input_id": [27, 31, 34, 37, 39, 41], "longtensor": [27, 29, 31, 32, 37, 41], "token_type_id": [27, 31, 34, 37], "position_id": [27, 34, 41], "inputs_emb": [27, 31, 34], "past_key_values_length": 27, "bertintermedi": 27, "bertoutput": 27, "bertpool": 27, "bertattent": 27, "prune_head": 27, "head": [27, 30, 31], "bertlay": [27, 29], "feed_forward_chunk": [27, 29], "attention_output": [27, 29], "block": 28, "faceembed": [28, 29], "face_dim": [21, 28, 29, 31, 32, 37], "bbox_dim": [21, 28, 29, 31, 32, 37], "embedding_dim": 28, "dropout": [28, 32, 41], "layer_norm_ep": 28, "1e": [28, 41], "face": [15, 21, 28, 29, 31, 32, 37, 46], "linear": [28, 31, 37, 39, 41], "togeth": 28, "bound": [15, 28], "box": [15, 28], "bbox": [21, 28, 29, 31, 32, 37], "image_type_embed": 28, "imageembed": [28, 29], "input_dim": [28, 29], "architectur": 29, "present": 29, "mmconfig": [29, 37], "n_imag": [29, 31, 32], "n_face": [21, 29, 31, 32, 37], "face_kwarg": 29, "image_kwarg": [19, 21, 29, 37], "no_text": 29, "gate": [29, 33], "bertconfig": 29, "alongsid": 29, "greater": 29, "analog": [0, 29, 41], "clip": [29, 41], "1024": 29, "2048": 29, "attent": [29, 30, 31], "mask": [21, 29, 31, 37], "reli": [29, 37], "flamingo": [29, 33], "style": [29, 33], "tanh": [29, 31, 33], "init": [29, 33], "baptist": [29, 33], "alayrac": [29, 33], "visual": [21, 29, 33, 37, 44], "few": [29, 33], "2204": [29, 33], "14198": [29, 33], "flamantconfig": 29, "multimodal_attention_everi": 29, "image_num_attention_head": 29, "image_intermediate_s": 29, "3072": 29, "image_hidden_dropout_prob": 29, "image_attention_probs_dropout_prob": 29, "hyperparamet": [25, 29, 42], "cross": [29, 37], "overwrite_bert_config": 29, "flamant_config": 29, "image_": 29, "flamantlay": 29, "bert_config": 29, "image_attention_mask": 29, "flamantencod": 29, "bertencod": 29, "use_cach": 29, "output_hidden_st": [29, 30, 31, 34], "return_dict": [29, 31, 32, 34], "flamantmodel": [29, 32], "add_pooling_lay": [29, 31], "bertpretrainedmodel": [29, 32], "modal": [29, 37], "config_class": [29, 37], "alia": 29, "load_tf_weight": 29, "get_input_embed": 29, "vocabulari": [29, 31], "hidden": [29, 30, 31], "set_input_embed": 29, "text_input": [29, 31, 32, 37], "face_input": [21, 29, 31, 32, 37], "image_input": [21, 29, 31, 32, 37], "usual": [29, 31, 32], "image_dim": [29, 31, 32], "viltforir": 29, "viltpretrainedmodel": [29, 31], "dpr": [21, 29, 31, 37, 40, 41], "viltpool": [29, 34], "itm": 29, "clipforir": 29, "compat": [24, 29, 41], "i_q": 29, "i_p": 29, "t_p": 29, "t_q": 29, "stand": [29, 37], "_q": 29, "_p": 29, "suffix": [29, 37], "But": 29, "worth": 29, "clipconfig": 29, "base_model_prefix": 29, "return_loss": 29, "ecaencod": [21, 29, 31, 32], "init_weights_like_bert": 29, "sequenc": [29, 30, 31, 37], "feed": [24, 29], "\u00e0": 29, "la": 29, "bert_model": 29, "ilfconfig": 29, "question_encod": 29, "real": [29, 31], "intermediatelinearfus": [21, 29], "linearli": 29, "dataclass": [25, 30], "readeroutput": 30, "start_logit": [30, 31, 39], "end_logit": [30, 31, 39], "start_log_prob": [30, 41], "end_log_prob": [30, 41], "questionansweringmodeloutput": 30, "log": [0, 30, 41], "encoderoutput": 30, "pooler_output": [30, 31], "modeloutput": [30, 31], "framework": [30, 41], "ecaencoderoutput": 30, "last_hidden_st": [30, 31], "biencoderoutput": 30, "question_pooler_output": 30, "context_pooler_output": 30, "wrap": [25, 30, 40], "jointmonoandcrossmodaloutput": 30, "question_imag": 30, "context_imag": 30, "context_titl": 30, "jointbiencoderandclipoutput": 30, "rerankeroutput": 30, "logit": [30, 38], "shape": [16, 21, 30, 31, 33, 37], "num_label": 30, "regress": 30, "sequence_length": [21, 30, 31], "hidden_s": [21, 30, 31], "plu": [30, 31], "num_head": [30, 31], "averag": [30, 31, 38], "self": [15, 25, 30, 31, 37, 41], "start_prob": 31, "end_prob": 31, "notat": 31, "distinct": [31, 37], "length": [15, 22, 31, 37, 45], "bm25": [25, 31], "null": [22, 31, 44], "passage_indic": 31, "start_indic": 31, "end_indic": 31, "inclus": [3, 31], "multipassagebert": 31, "fuse_ir_scor": 31, "global": [31, 32], "nll": 31, "allenai": 31, "document": [25, 31, 37], "nallapati": [31, 32], "passage_scor": [31, 37], "start_posit": [31, 37, 39], "end_posit": [31, 37, 39], "answer_mask": [31, 37, 39], "constant": 31, "requir": [31, 44], "being": [0, 21, 31, 38], "reshap": 31, "multipassageeca": 31, "eca": [31, 32], "viltmultiimageembed": 31, "viltembed": [31, 34], "triplet": 31, "strategi": [25, 31], "patch": [31, 34], "num_patch": 31, "num_imag": 31, "pixel_valu": [31, 34, 41], "pixel_mask": [31, 34], "passage_pixel_valu": 31, "passage_pixel_mask": 31, "indic": [3, 24, 25, 31], "berttoken": [31, 37], "__call__": 31, "detail": [22, 31, 37, 42], "pad": [31, 37], "select": [31, 37], "portion": 31, "viltfeatureextractor": 31, "num_channel": 31, "over": [3, 31, 42, 47], "vector": [25, 31], "lookup": 31, "matrix": [31, 41], "viltmultiimagemodel": 31, "viltmodel": 31, "image_emb": [31, 34], "image_token_type_idx": [31, 34], "union": [3, 15, 22, 24, 31, 37, 47], "basemodeloutputwithpool": 31, "overrid": [15, 31, 37, 41], "tip": 31, "post": [15, 31], "glossari": 31, "num_lay": 31, "nullifi": 31, "under": [24, 31], "modeling_output": 31, "compris": 31, "variou": 31, "viltconfig": 31, "further": 31, "auxiliari": 31, "famili": 31, "activ": [31, 41], "viltprocessor": 31, "prepar": [31, 37, 41], "cocodataset": 31, "val2017": 31, "000000039769": 31, "world": 31, "hello": 31, "processor": 31, "multipassagevilt": 31, "bertrerank": 32, "bertforsequenceclassif": 32, "ecarerank": 32, "flamantrerank": 32, "flamant": 32, "misc": 33, "tanhgat": 33, "map_if_not_non": 33, "default_valu": 33, "additionn": [33, 37, 39, 41], "callabl": [21, 33], "debug_shap": 33, "print": [22, 24, 33, 42, 44], "ndarrai": [15, 33, 37], "nest": 33, "batchencod": 33, "prepare_input": 33, "move": 33, "devic": [15, 25, 33, 37], "visual_emb": 34, "max_image_length": 34, "200": 34, "textembed": 34, "viltpatchembed": 34, "viltencod": 34, "testafterfit": 36, "data_upd": 36, "modelcheckpoint": 36, "datamodul": [36, 37, 41], "eval_batch_s": [36, 37], "qrels_path": [24, 36, 37, 46], "on_fit_end": 36, "pl_modul": 36, "schedul": [39, 41], "linearlrwithwarmup": 39, "warmup_step": [39, 41], "total_step": 39, "lambdalr": 39, "warmup": [39, 41], "lr_lambda": 39, "current_step": 39, "multi_passage_rc_loss": 39, "max_pool": 39, "print_config": [22, 42, 44], "comment": [22, 42, 44], "skip_nul": [22, 42, 44], "skip_default": [22, 42, 44], "tune": [37, 42], "show": [22, 40, 42, 44, 47], "messag": [22, 40, 42, 44, 47], "exit": [22, 40, 42, 44, 47], "subcommand": [22, 42], "routin": 42, "epoch": 42, "infer": [25, 37, 42], "packag": 48, "subpackag": 48, "questiontyp": [3, 24], "enum": [3, 25], "enumer": [3, 25], "numer": 3, "in_rang": 3, "float": [3, 15, 25, 37, 38, 41], "range_list": 3, "rang": 3, "safe_divis": 3, "divid": 3, "metric_numerical_rang": 3, "pred": 3, "toler": 3, "iou": 3, "condit": 3, "met": 3, "find_numb": 3, "string_numb": 3, "process_numerical_answ": 3, "clean": 3, "digit": 3, "find_al": 3, "occurr": 3, "yield": 3, "clean_str_rang": 3, "express": 3, "proper": [3, 37], "around": 3, "hyphen": 3, "range_intersection_over_union": 3, "x_list": 3, "y_list": 3, "calcul": [3, 41], "intersect": [3, 47], "evaluate_quant": 3, "quantity_pr": 3, "quantity_answ": 3, "evaluate_ent": 3, "entity_pr": 3, "entity_answ": 3, "criteria": 3, "exact": 3, "evaluate_tim": 3, "time_pr": 3, "time_answ": 3, "qid2exampl": 3, "truth": [0, 3], "quantiti": 3, "get_result": 3, "overal": 3, "harmonic_mean": 3, "harmon": 3, "evaluate_infoseek": 3, "question_id": 3, "evaluate_infoseek_ful": 3, "fix_spac": 3, "prediction_path": 3, "reference_path": 3, "do_fix_spac": 3, "prepare_qid2exampl": 3, "load_jsonl": 3, "strionari": 3, "knowledg": [21, 37], "prior": 21, "kb": [21, 24, 25, 37, 47], "get_face_input": [21, 37], "nice": [21, 37], "squar": [21, 37], "similarli": 21, "precomputedimagefeatur": [21, 37], "get_image_input": [21, 37], "precomput": [21, 37], "map_passage_to_kb": 21, "expand_queri": 21, "qe_predictions_kei": 21, "doc_name_kei": 21, "wikidata_label": 21, "is_multimod": 21, "get_input": 21, "tokenization_kwarg": [19, 21, 37], "mappabl": 21, "text_embed": 21, "output_kei": [21, 38], "forward_kwarg": 21, "THE": 21, "_layer_": 21, "qe_predict": 21, "norm": [22, 25], "defmin": 22, "fusion": [22, 25], "zmuv": 22, "wsum": 22, "create_empty_results_dict": 22, "create_empty_results_dict_list": 22, "convert_results_dict_list_to_run": 22, "q_id": 22, "results_dict_list": 22, "extract_scor": 22, "gzmuv_norm": 22, "gzmuv": 22, "default_minimum": 22, "best_param": 22, "relat": [0, 24], "provenance_kei": 24, "win": [24, 47], "tie": 24, "correspong": 24, "collect": [24, 25, 37], "provenance_indic": [24, 37], "proven": 24, "subject": 24, "ti": 24, "numerical_relev": 24, "find_valid_numerical_answ": 24, "alternative_answ": 24, "question_typ": 24, "original_relev": 24, "find_relevant_item": 24, "link": 24, "original_answer_": 24, "find_relevant_dataset": 24, "fuse_qrel": 24, "fused_qrel": 24, "load_run": 24, "runs_path": 24, "runs_dict": 24, "filter_q_id": 24, "eventu": [24, 25], "tex": 24, "cat_breakdown": 24, "belong": 24, "get_wtl_tabl": 24, "wtl_kei": 24, "wtl_metric": 24, "either": [24, 25, 37, 38, 47], "panda": 24, "datafram": 24, "dynam": 37, "pad_and_cat": 37, "arrai": [15, 37], "padding_index": 37, "tokenizer_class": 37, "tokenizer_name_or_path": 37, "train_path": 37, "validation_path": 37, "test_path": 37, "train_batch_s": 37, "keep_dataset_column": 37, "loader_kwarg": 37, "dataset_format": 37, "input_kei": [37, 46], "lightningdatamodul": 37, "It": 37, "imageformatt": 37, "dedic": 37, "auto_scale_batch_s": 37, "overriden": 37, "everyth": 37, "loader": 37, "train_dataload": 37, "set_format": 37, "good": 37, "adjust": 37, "ddp": [37, 41], "litmodel": 37, "l1": 37, "prepare_data": 37, "download_data": 37, "load_data": 37, "28": 37, "dataload": 37, "reload": 37, "unless": [25, 37], "paramref": 37, "pytorch_lightn": 37, "reload_dataloaders_every_n_epoch": 37, "pattern": 37, "necessari": 37, "sampler": 37, "hardwar": 37, "compos": 37, "totensor": 37, "mnist": 37, "shuffl": [37, 44], "cifar": 37, "mnist_load": 37, "cifar_load": 37, "batch_mnist": 37, "batch_cifar": 37, "val_dataload": 37, "recommend": 37, "loader_a": 37, "loader_b": 37, "loader_n": 37, "validation_step": [37, 41], "dataloader_idx": 37, "test_dataload": 37, "test_step": [37, 41], "helper": 37, "format_pixel": 37, "format_batch": 37, "items_or_passag": 37, "config_path": 37, "crossmodaldatamodul": 37, "paired_imag": 37, "dedupl": 37, "contrast": 37, "mai": 37, "crossmod": [37, 41], "Will": [37, 41], "collate_fn": 37, "questionansweringdatamodul": 37, "image_kb": [37, 46], "search_kei": 37, "filter_train_rel": 37, "keep_kb_column": 37, "kb_format": 37, "image_kb_format": 37, "kb_input_kei": 37, "core": 37, "idea": 37, "fly": 37, "_indic": 37, "_score": 37, "_provenance_indic": 37, "_irrelevant_indic": 37, "filter_rel": 37, "get_training_passag": 37, "with_scor": 37, "train_dataset": 37, "eval_dataset": [25, 37], "relevant_passag": 37, "irrelevant_passag": 37, "relevant_scor": 37, "np": [15, 37], "irrelevant_scor": 37, "add_image_featur": 37, "add_image_path": 37, "biencoderdatamodul": 37, "passage_type_id": 37, "collat": 37, "ones": 37, "question_input": [37, 41], "context_input": [37, 41], "row": 37, "idem": 37, "arang": 37, "jointbiencoderandclipdatamodul": 37, "cm_tokenizer_class": 37, "cm_tokenizer_name_or_path": 37, "cm_tokenization_kwarg": 37, "rerankerdatamodul": 37, "get_eval_passag": 37, "transfer_batch_to_devic": 37, "try": [37, 41], "dtype": 37, "map_run": 37, "readerdatamodul": 37, "extract_nam": 37, "mapping_run": 37, "enabl": 37, "limit": 37, "get_answer_posit": 37, "mode": [37, 41], "answer_str": 37, "sentences_per_target": 37, "text_mask_r": 37, "image_mask_r": 37, "pseudo": 37, "nearbi": 37, "bi": 37, "target": 37, "preprend": 37, "latent": 37, "weakli": 37, "supervis": 37, "57th": 37, "6086": 37, "6096": 37, "florenc": 37, "itali": 37, "get_pseudo_quest": 37, "biencoder_collate_fn": 37, "reranker_collate_fn": 37, "accumulate_batch_metr": 38, "batch_metr": 38, "batch_retriev": 38, "log_prob": 38, "ignore_index": 38, "eval_output": [38, 41], "taken": 38, "account": 38, "get_run": 38, "ir_run": 38, "f1_score": 38, "ground_truth": 38, "exact_match_scor": 38, "metric_max_over_ground_truth": 38, "metric_fn": 38, "load_metr": 38, "squad_per_quest": 38, "principl": 38, "stastit": 38, "insid": 40, "lightningmodul": [40, 41], "pl": 41, "batched_cpu": 41, "freeze_regex": 41, "gradient_checkpoint": 41, "lr": 41, "2e": 41, "05": 41, "beta": 41, "999": 41, "ep": 41, "08": 41, "weight_decai": 41, "output_cpu": 41, "requires_grad": 41, "warm": 41, "post_init": 41, "batch_idx": 41, "eval_step": 41, "training_step": 41, "eval_epoch_end": 41, "validation_epoch_end": 41, "test_epoch_end": 41, "caveat": 41, "eval": 41, "configure_optim": 41, "decai": 41, "gradient_checkpointing_en": 41, "gradient_checkpointing_dis": 41, "deactiv": 41, "is_gradient_checkpoint": 41, "whatev": 41, "possibl": 41, "save_pretrain": 41, "jointmonoandcrossmod": 41, "image_weight": 41, "cm_weight": 41, "learn_weight": 41, "mm_weights_lr": 41, "paired_pixel_valu": 41, "question_class": 41, "context_class": 41, "context_model_name_or_path": 41, "question_kwarg": 41, "context_kwarg": 41, "likelihood": 41, "question_model": 41, "context_model": 41, "shared_encod": 41, "instanti": [25, 41], "schema": 41, "exchang": 41, "node": 41, "ai": 41, "14390": 41, "must": 41, "jointbiencoderandclip": 41, "question_weight": 41, "3333333333333333": 41, "clip_lr": 41, "rerank": 41, "metric_kwarg": 41, "power_rang": 41, "tune_m": 41, "log_probs_to_answ": 41, "m_tune": 41, "all_start_log_prob": 41, "all_end_log_prob": 41, "all_input_id": 41, "all_answer_str": 41, "all_passage_scor": 41, "passages_path": 44, "wiki_path": 44, "search_run": 44, "other_search_run": 44, "400": 44, "get_top_1": 44, "get_url_and_text": 44, "format_html": 44, "runa": 47, "runb": 47, "loos": 47, "nunion": 47, "nintersect": 47, "ka": 47, "definit": 47, "judg": 47, "get_win": 47, "topk": 47, "model_config": 15, "stem": 15, "64": 15, "image_s": [15, 16], "160": 15, "min_face_s": 15, "20": [15, 25, 46], "factor": 15, "709": 15, "post_process": 15, "select_largest": 15, "selection_method": 15, "keep_al": 15, "img": 15, "save_path": [15, 25], "return_prob": 15, "return_box": 15, "return_landmark": 15, "numpi": 15, "crop": 15, "facial": 15, "face_tensor": 15, "prob": 15, "detect_fac": 15, "save_root_path": 15, "dataset_detect_fac": 15, "pgf": 45, "themselv": 45, "dataset_stat": 45, "discret": 45, "src": 16, "tform": 16, "112": 16, "deepinsight": 16, "r50": 16, "fp16": 16, "get_pil_preprocessor": 16, "image_path": 16, "rgb": 16, "compute_face_embed": 16, "preprocessor": 16, "dataset_compute_face_embed": 16, "searcher_kwarg": 19, "text_kwarg": 19, "tokenizer_kwarg": 19, "kvqae": 19, "user_loop": 19, "built": 25, "nearest": 25, "neighbor": 25, "indexkind": 25, "es": 25, "do_l2norm": 25, "faissindex": 25, "esindex": 25, "difficult": 25, "hierarchi": 25, "public": 25, "search_batch": 25, "knowledgebas": 25, "kb_path": 25, "index_mapping_path": 25, "many2on": 25, "es_client": 25, "iter": 25, "add_or_load_index": 25, "pyserini_search_batch": 25, "index_nam": 25, "thread": 25, "search_batch_if_not_non": 25, "add_or_load_elasticsearch_index": 25, "add_or_load_faiss_index": 25, "load_faiss_index": 25, "add_faiss_index": 25, "save_faiss_index": 25, "add_or_load_pyserini_index": 25, "k1": 25, "put_set": 25, "load_elasticsearch_index": 25, "add_elasticsearch_index": 25, "searcher": 25, "kb_kwarg": 25, "reference_kb_path": 25, "request_timeout": 25, "es_client_kwarg": 25, "fusion_kwarg": 25, "metrics_kwarg": 25, "do_fus": 25, "qnonrel": 25, "aggreg": 25, "scratch": 25, "reference_kb": 25, "At": [0, 25], "least": 25, "timeout": 25, "hit_rat": 25, "faster": 25, "dataset_search": 25, "metric_save_path": 25, "fplot": 46, "reduced_embed": 46, "figsiz": 46, "alpha": [0, 46], "iplot": 46, "thumb_width": 46, "128": 46, "plot_width": 46, "600": 46, "plot_height": 46, "tool": 46, "pan": 46, "wheel_zoom": 46, "reset": 46, "line_alpha": 46, "fill_alpha": 46, "palett": 46, "viridis256": 46, "get_ranx_run": 46, "url_kei": 46, "reduce_kwarg": 46, "fplot_kwarg": 46, "iplot_kwarg": 46, "ranx_kwarg": 46, "castorini": 0, "appear": 0, "therefor": 0, "a_kl": 0, "th": 0, "sum_": 0, "y_": 0, "rkl": 0, "frac": 0, "exp": 0, "a_": 0, "kl": 0, "denot": 0, "max_": 0, "244": [], "still": 0, "mysteri": 0, "anywai": 0, "v3": 0, "v4": 0, "consequ": 0, "thesi": 0, "yet": 0, "__": []}, "objects": {"": [[1, 0, 0, "-", "meerqat"]], "meerqat": [[2, 0, 0, "-", "data"], [12, 0, 0, "-", "image"], [18, 0, 0, "-", "interact"], [20, 0, 0, "-", "ir"], [26, 0, 0, "-", "models"], [35, 0, 0, "-", "train"], [43, 0, 0, "-", "viz"]], "meerqat.data": [[3, 0, 0, "-", "infoseek"], [4, 0, 0, "-", "kilt2vqa"], [5, 0, 0, "-", "labelstudio"], [6, 0, 0, "-", "loading"], [7, 0, 0, "-", "mscelebs"], [8, 0, 0, "-", "utils"], [9, 0, 0, "-", "wiki"], [10, 0, 0, "-", "wikidump"], [11, 0, 0, "-", "wit"]], "meerqat.data.infoseek": [[3, 1, 1, "", "QuestionType"], [3, 3, 1, "", "clean_str_range"], [3, 3, 1, "", "evaluate"], [3, 3, 1, "", "evaluate_entity"], [3, 3, 1, "", "evaluate_infoseek"], [3, 3, 1, "", "evaluate_infoseek_full"], [3, 3, 1, "", "evaluate_quantity"], [3, 3, 1, "", "evaluate_time"], [3, 3, 1, "", "evaluation"], [3, 3, 1, "", "find_all"], [3, 3, 1, "", "find_numbers"], [3, 3, 1, "", "fix_space"], [3, 3, 1, "", "get_results"], [3, 3, 1, "", "harmonic_mean"], [3, 3, 1, "", "in_range"], [3, 3, 1, "", "load_jsonl"], [3, 3, 1, "", "main"], [3, 3, 1, "", "metric_numerical_range"], [3, 3, 1, "", "prepare_qid2example"], [3, 3, 1, "", "process_numerical_answer"], [3, 3, 1, "", "range_intersection_over_union"], [3, 3, 1, "", "safe_division"]], "meerqat.data.infoseek.QuestionType": [[3, 2, 1, "", "Numerical"], [3, 2, 1, "", "String"], [3, 2, 1, "", "Time"]], "meerqat.data.kilt2vqa": [[4, 3, 1, "", "count_entities"], [4, 3, 1, "", "disambiguate"], [4, 3, 1, "", "download_image"], [4, 3, 1, "", "download_images"], [4, 3, 1, "", "generate_mention"], [4, 3, 1, "", "generate_mentions"], [4, 3, 1, "", "generate_vq"], [4, 3, 1, "", "generate_vqs"], [4, 3, 1, "", "item2placeholder"], [4, 3, 1, "", "labelstudio"], [4, 3, 1, "", "ned"], [4, 3, 1, "", "ner"], [4, 3, 1, "", "stats"], [4, 3, 1, "", "stringify"], [4, 3, 1, "", "wer"]], "meerqat.data.labelstudio": [[5, 3, 1, "", "agree"], [5, 3, 1, "", "annotator_agreement"], [5, 3, 1, "", "assign"], [5, 3, 1, "", "assign_annotations"], [5, 3, 1, "", "load_completions"], [5, 3, 1, "", "main"], [5, 3, 1, "", "merge"], [5, 3, 1, "", "retrieve_vqa"], [5, 3, 1, "", "save_images"]], "meerqat.data.loading": [[6, 3, 1, "", "answer_preprocess"], [6, 3, 1, "", "get_class_from_name"], [6, 3, 1, "", "get_pretrained"], [6, 3, 1, "", "load_faces"], [6, 3, 1, "", "load_image"], [6, 3, 1, "", "load_image_batch"], [6, 3, 1, "", "load_pretrained_in_kwargs"], [6, 3, 1, "", "make_mapping"], [6, 3, 1, "", "make_mapping_dataset"], [6, 3, 1, "", "make_passage_dataset"], [6, 3, 1, "", "make_passage_item"], [6, 3, 1, "", "make_passages"], [6, 3, 1, "", "make_sentences_dataset"], [6, 3, 1, "", "make_sentences_item"], [6, 3, 1, "", "map_kilt_triviaqa"], [6, 3, 1, "", "paragraphs_preprocess"], [6, 3, 1, "", "remove_articles"], [6, 3, 1, "", "remove_punc"], [6, 3, 1, "", "remove_special_fields"], [6, 3, 1, "", "save_image"], [6, 3, 1, "", "uniform_passages"], [6, 3, 1, "", "uniform_passages_of_sentences"], [6, 3, 1, "", "verbose_load_from_disk"], [6, 3, 1, "", "white_space_fix"]], "meerqat.data.mscelebs": [[7, 3, 1, "", "count_entities"], [7, 3, 1, "", "extract"], [7, 3, 1, "", "freebase2wikidata"], [7, 3, 1, "", "wikidata2freebase"]], "meerqat.data.utils": [[8, 3, 1, "", "json_integer_keys"], [8, 3, 1, "", "md5"], [8, 3, 1, "", "to_latex"]], "meerqat.data.wiki": [[9, 3, 1, "", "bytes2dict"], [9, 3, 1, "", "depiction_instanceof_heuristic"], [9, 3, 1, "", "exclude_classes"], [9, 3, 1, "", "file_name_to_thumbnail"], [9, 3, 1, "", "get_license"], [9, 3, 1, "", "image_heuristic"], [9, 3, 1, "", "iso2year"], [9, 3, 1, "", "keep_classes"], [9, 3, 1, "", "keep_prominent_depictions"], [9, 3, 1, "", "license_score"], [9, 3, 1, "", "print_stats"], [9, 3, 1, "", "query_commons_subcategories"], [9, 3, 1, "", "query_depicted_entities"], [9, 3, 1, "", "query_feminine_labels"], [9, 3, 1, "", "query_image"], [9, 3, 1, "", "query_sparql_entities"], [9, 3, 1, "", "query_superclasses"], [9, 3, 1, "", "remove_alive_humans"], [9, 3, 1, "", "request"], [9, 3, 1, "", "save_image"], [9, 3, 1, "", "set_reference_images"], [9, 3, 1, "", "special_path_to_file_name"], [9, 3, 1, "", "stats"], [9, 3, 1, "", "thumbnail_to_file_name"], [9, 3, 1, "", "update_from_commons_rest"], [9, 3, 1, "", "update_from_commons_sparql"], [9, 3, 1, "", "update_from_data"], [9, 3, 1, "", "uri_to_qid"], [9, 3, 1, "", "uris_to_qids"]], "meerqat.data.wikidump": [[10, 3, 1, "", "find"], [10, 3, 1, "", "find_text"], [10, 3, 1, "", "get_field"], [10, 3, 1, "", "parse_file"], [10, 3, 1, "", "process_article"], [10, 3, 1, "", "process_articles"]], "meerqat.data.wit": [[11, 3, 1, "", "caption"], [11, 3, 1, "", "check_encoding"], [11, 3, 1, "", "common_filter"], [11, 3, 1, "", "dict_to_dataset"], [11, 3, 1, "", "fill_wit_for_mict"], [11, 3, 1, "", "is_unique"], [11, 3, 1, "", "mict"]], "meerqat.image": [[13, 0, 0, "-", "embedding"], [14, 0, 0, "-", "face_box"], [15, 0, 0, "-", "face_detection"], [16, 0, 0, "-", "face_recognition"], [17, 0, 0, "-", "resize"]], "meerqat.image.embedding": [[13, 1, 1, "", "ImageEncoder"], [13, 3, 1, "", "dataset_embed"], [13, 3, 1, "", "embed"], [13, 3, 1, "", "from_pretrained"], [13, 3, 1, "", "get_encoder"], [13, 3, 1, "", "get_model_and_transform"], [13, 3, 1, "", "get_nn_module"], [13, 3, 1, "", "get_torchvision_model"], [13, 3, 1, "", "get_transform"]], "meerqat.image.embedding.ImageEncoder": [[13, 4, 1, "", "forward"]], "meerqat.image.face_box": [[14, 3, 1, "", "scale_box"]], "meerqat.image.face_detection": [[15, 1, 1, "", "MTCNN"], [15, 3, 1, "", "dataset_detect_face"], [15, 3, 1, "", "dataset_detect_faces"], [15, 3, 1, "", "detect_face"]], "meerqat.image.face_detection.MTCNN": [[15, 4, 1, "", "forward"]], "meerqat.image.face_recognition": [[16, 3, 1, "", "compute_face_embedding"], [16, 3, 1, "", "dataset_compute_face_embedding"], [16, 3, 1, "", "from_pretrained"], [16, 3, 1, "", "get_pil_preprocessor"], [16, 3, 1, "", "similarity_transform"]], "meerqat.image.resize": [[17, 3, 1, "", "batch_resize"], [17, 3, 1, "", "dataset_resize"], [17, 3, 1, "", "get_transform"], [17, 3, 1, "", "resize"]], "meerqat.interact": [[19, 0, 0, "-", "system"]], "meerqat.interact.system": [[19, 1, 1, "", "System"]], "meerqat.interact.system.System": [[19, 4, 1, "", "pipeline"], [19, 4, 1, "", "user_loop"]], "meerqat.ir": [[21, 0, 0, "-", "embedding"], [22, 0, 0, "-", "fuse"], [24, 0, 0, "-", "metrics"], [25, 0, 0, "-", "search"]], "meerqat.ir.embedding": [[21, 3, 1, "", "dataset_embed"], [21, 3, 1, "", "embed"], [21, 3, 1, "", "expand_query"], [21, 3, 1, "", "get_face_inputs"], [21, 3, 1, "", "get_image_inputs"], [21, 3, 1, "", "get_inputs"], [21, 3, 1, "", "is_multimodal"], [21, 3, 1, "", "map_passage_to_kb"]], "meerqat.ir.fuse": [[22, 1, 1, "", "Fusion"], [22, 3, 1, "", "convert_results_dict_list_to_run"], [22, 3, 1, "", "create_empty_results_dict"], [22, 3, 1, "", "create_empty_results_dict_list"], [22, 3, 1, "", "default_minimum"], [22, 3, 1, "", "extract_scores"], [22, 3, 1, "", "gzmuv_norm"]], "meerqat.ir.fuse.Fusion": [[22, 4, 1, "", "fit"], [22, 4, 1, "", "test"]], "meerqat.ir.metrics": [[24, 3, 1, "", "cat_breakdown"], [24, 3, 1, "", "compare"], [24, 3, 1, "", "find_relevant"], [24, 3, 1, "", "find_relevant_dataset"], [24, 3, 1, "", "find_relevant_item"], [24, 3, 1, "", "find_valid_numerical_answers"], [24, 3, 1, "", "fuse_qrels"], [24, 3, 1, "", "get_wtl_table"], [24, 3, 1, "", "load_runs"], [24, 3, 1, "", "numerical_relevant"]], "meerqat.ir.search": [[25, 1, 1, "", "Index"], [25, 1, 1, "", "IndexKind"], [25, 1, 1, "", "KnowledgeBase"], [25, 3, 1, "", "L2norm"], [25, 1, 1, "", "Searcher"], [25, 3, 1, "", "dataset_search"]], "meerqat.ir.search.IndexKind": [[25, 2, 1, "", "ES"], [25, 2, 1, "", "FAISS"], [25, 2, 1, "", "PYSERINI"]], "meerqat.ir.search.KnowledgeBase": [[25, 4, 1, "", "add_or_load_elasticsearch_index"], [25, 4, 1, "", "add_or_load_faiss_index"], [25, 4, 1, "", "add_or_load_index"], [25, 4, 1, "", "add_or_load_pyserini_index"], [25, 4, 1, "", "pyserini_search_batch"], [25, 4, 1, "", "search_batch"], [25, 4, 1, "", "search_batch_if_not_None"]], "meerqat.models": [[27, 0, 0, "-", "bert"], [28, 0, 0, "-", "image"], [29, 0, 0, "-", "mm"], [30, 0, 0, "-", "outputs"], [31, 0, 0, "-", "qa"], [32, 0, 0, "-", "rr"], [33, 0, 0, "-", "utils"], [34, 0, 0, "-", "vilt"]], "meerqat.models.bert": [[27, 1, 1, "", "BertAttention"], [27, 1, 1, "", "BertEmbeddings"], [27, 1, 1, "", "BertIntermediate"], [27, 1, 1, "", "BertLayer"], [27, 1, 1, "", "BertOutput"], [27, 1, 1, "", "BertPooler"], [27, 1, 1, "", "BertSelfAttention"], [27, 1, 1, "", "BertSelfOutput"]], "meerqat.models.bert.BertAttention": [[27, 4, 1, "", "forward"], [27, 4, 1, "", "prune_heads"]], "meerqat.models.bert.BertEmbeddings": [[27, 4, 1, "", "forward"]], "meerqat.models.bert.BertIntermediate": [[27, 4, 1, "", "forward"]], "meerqat.models.bert.BertLayer": [[27, 4, 1, "", "feed_forward_chunk"], [27, 4, 1, "", "forward"]], "meerqat.models.bert.BertOutput": [[27, 4, 1, "", "forward"]], "meerqat.models.bert.BertPooler": [[27, 4, 1, "", "forward"]], "meerqat.models.bert.BertSelfAttention": [[27, 4, 1, "", "forward"], [27, 4, 1, "", "transpose_for_scores"]], "meerqat.models.bert.BertSelfOutput": [[27, 4, 1, "", "forward"]], "meerqat.models.image": [[28, 1, 1, "", "FaceEmbedding"], [28, 1, 1, "", "ImageEmbedding"]], "meerqat.models.image.FaceEmbedding": [[28, 4, 1, "", "forward"]], "meerqat.models.image.ImageEmbedding": [[28, 4, 1, "", "forward"]], "meerqat.models.mm": [[29, 1, 1, "", "CLIPForIR"], [29, 1, 1, "", "ECAEncoder"], [29, 1, 1, "", "FlamantConfig"], [29, 1, 1, "", "FlamantEncoder"], [29, 1, 1, "", "FlamantLayer"], [29, 1, 1, "", "FlamantModel"], [29, 1, 1, "", "ILFConfig"], [29, 1, 1, "", "IntermediateLinearFusion"], [29, 1, 1, "", "MMConfig"], [29, 1, 1, "", "ViltForIR"], [29, 3, 1, "", "overwrite_bert_config"]], "meerqat.models.mm.CLIPForIR": [[29, 2, 1, "", "base_model_prefix"], [29, 2, 1, "", "config_class"], [29, 4, 1, "", "forward"]], "meerqat.models.mm.ECAEncoder": [[29, 2, 1, "", "base_model_prefix"], [29, 2, 1, "", "config_class"], [29, 4, 1, "", "forward"], [29, 2, 1, "", "load_tf_weights"]], "meerqat.models.mm.FlamantEncoder": [[29, 4, 1, "", "forward"]], "meerqat.models.mm.FlamantLayer": [[29, 4, 1, "", "feed_forward_chunk"], [29, 4, 1, "", "forward"]], "meerqat.models.mm.FlamantModel": [[29, 2, 1, "", "config_class"], [29, 4, 1, "", "forward"], [29, 4, 1, "", "get_input_embeddings"], [29, 2, 1, "", "load_tf_weights"], [29, 4, 1, "", "set_input_embeddings"]], "meerqat.models.mm.IntermediateLinearFusion": [[29, 2, 1, "", "base_model_prefix"], [29, 2, 1, "", "config_class"], [29, 4, 1, "", "forward"], [29, 2, 1, "", "load_tf_weights"]], "meerqat.models.mm.ViltForIR": [[29, 4, 1, "", "forward"]], "meerqat.models.outputs": [[30, 1, 1, "", "BiEncoderOutput"], [30, 1, 1, "", "ECAEncoderOutput"], [30, 1, 1, "", "EncoderOutput"], [30, 1, 1, "", "JointBiEncoderAndClipOutput"], [30, 1, 1, "", "JointMonoAndCrossModalOutput"], [30, 1, 1, "", "ReRankerOutput"], [30, 1, 1, "", "ReaderOutput"]], "meerqat.models.outputs.BiEncoderOutput": [[30, 2, 1, "", "context_pooler_output"], [30, 2, 1, "", "question_pooler_output"]], "meerqat.models.outputs.ECAEncoderOutput": [[30, 2, 1, "", "attentions"], [30, 2, 1, "", "hidden_states"], [30, 2, 1, "", "last_hidden_state"], [30, 2, 1, "", "pooler_output"]], "meerqat.models.outputs.EncoderOutput": [[30, 2, 1, "", "pooler_output"]], "meerqat.models.outputs.JointMonoAndCrossModalOutput": [[30, 2, 1, "", "context_images"], [30, 2, 1, "", "context_titles"], [30, 2, 1, "", "question_images"]], "meerqat.models.outputs.ReRankerOutput": [[30, 2, 1, "", "attentions"], [30, 2, 1, "", "hidden_states"], [30, 2, 1, "", "logits"]], "meerqat.models.outputs.ReaderOutput": [[30, 2, 1, "", "end_log_probs"], [30, 2, 1, "", "start_log_probs"]], "meerqat.models.qa": [[31, 1, 1, "", "MultiPassageBERT"], [31, 1, 1, "", "MultiPassageECA"], [31, 1, 1, "", "MultiPassageVilt"], [31, 1, 1, "", "ViltMultiImageEmbeddings"], [31, 1, 1, "", "ViltMultiImageModel"], [31, 3, 1, "", "get_best_spans"]], "meerqat.models.qa.MultiPassageBERT": [[31, 4, 1, "", "forward"]], "meerqat.models.qa.MultiPassageECA": [[31, 4, 1, "", "forward"]], "meerqat.models.qa.MultiPassageVilt": [[31, 4, 1, "", "forward"]], "meerqat.models.qa.ViltMultiImageEmbeddings": [[31, 4, 1, "", "forward"]], "meerqat.models.qa.ViltMultiImageModel": [[31, 4, 1, "", "forward"]], "meerqat.models.rr": [[32, 1, 1, "", "BertReRanker"], [32, 1, 1, "", "ECAReRanker"], [32, 1, 1, "", "FlamantReRanker"]], "meerqat.models.rr.BertReRanker": [[32, 4, 1, "", "forward"]], "meerqat.models.rr.ECAReRanker": [[32, 4, 1, "", "forward"]], "meerqat.models.rr.FlamantReRanker": [[32, 4, 1, "", "forward"]], "meerqat.models.utils": [[33, 1, 1, "", "TanhGate"], [33, 3, 1, "", "debug_shape"], [33, 3, 1, "", "map_if_not_None"], [33, 3, 1, "", "prepare_inputs"]], "meerqat.models.utils.TanhGate": [[33, 4, 1, "", "forward"]], "meerqat.models.vilt": [[34, 1, 1, "", "TextEmbeddings"], [34, 1, 1, "", "ViltEmbeddings"], [34, 1, 1, "", "ViltEncoder"], [34, 1, 1, "", "ViltPatchEmbeddings"], [34, 1, 1, "", "ViltPooler"]], "meerqat.models.vilt.TextEmbeddings": [[34, 4, 1, "", "forward"]], "meerqat.models.vilt.ViltEmbeddings": [[34, 4, 1, "", "forward"], [34, 4, 1, "", "visual_embed"]], "meerqat.models.vilt.ViltEncoder": [[34, 4, 1, "", "forward"]], "meerqat.models.vilt.ViltPatchEmbeddings": [[34, 4, 1, "", "forward"]], "meerqat.models.vilt.ViltPooler": [[34, 4, 1, "", "forward"]], "meerqat.train": [[36, 0, 0, "-", "callbacks"], [37, 0, 0, "-", "data"], [38, 0, 0, "-", "metrics"], [39, 0, 0, "-", "optim"], [40, 0, 0, "-", "save_ptm"], [41, 0, 0, "-", "trainee"], [42, 0, 0, "-", "trainer"]], "meerqat.train.callbacks": [[36, 1, 1, "", "TestAfterFit"]], "meerqat.train.callbacks.TestAfterFit": [[36, 4, 1, "", "on_fit_end"]], "meerqat.train.data": [[37, 1, 1, "", "BiEncoderDataModule"], [37, 1, 1, "", "CrossModalDataModule"], [37, 1, 1, "", "DataModule"], [37, 1, 1, "", "ICT"], [37, 1, 1, "", "ImageFormatter"], [37, 1, 1, "", "JointBiEncoderAndClipDataModule"], [37, 1, 1, "", "PreComputedImageFeatures"], [37, 1, 1, "", "QuestionAnsweringDataModule"], [37, 1, 1, "", "ReRankerDataModule"], [37, 1, 1, "", "ReaderDataModule"], [37, 3, 1, "", "keep_columns"], [37, 3, 1, "", "map_run"], [37, 3, 1, "", "pad_and_cat"]], "meerqat.train.data.BiEncoderDataModule": [[37, 4, 1, "", "collate_fn"]], "meerqat.train.data.CrossModalDataModule": [[37, 4, 1, "", "collate_fn"]], "meerqat.train.data.DataModule": [[37, 4, 1, "", "setup"], [37, 4, 1, "", "test_dataloader"], [37, 4, 1, "", "train_dataloader"], [37, 4, 1, "", "val_dataloader"]], "meerqat.train.data.ICT": [[37, 4, 1, "", "biencoder_collate_fn"], [37, 4, 1, "", "get_pseudo_question"], [37, 4, 1, "", "reranker_collate_fn"]], "meerqat.train.data.ImageFormatter": [[37, 4, 1, "", "format_batch"], [37, 4, 1, "", "format_pixels"]], "meerqat.train.data.JointBiEncoderAndClipDataModule": [[37, 4, 1, "", "collate_fn"]], "meerqat.train.data.PreComputedImageFeatures": [[37, 4, 1, "", "get_face_inputs"], [37, 4, 1, "", "get_image_inputs"]], "meerqat.train.data.QuestionAnsweringDataModule": [[37, 4, 1, "", "add_image_features"], [37, 4, 1, "", "add_image_path"], [37, 4, 1, "", "filter_rels"], [37, 4, 1, "", "get_training_passages"], [37, 4, 1, "", "setup"]], "meerqat.train.data.ReRankerDataModule": [[37, 4, 1, "", "collate_fn"], [37, 4, 1, "", "get_eval_passages"], [37, 4, 1, "", "transfer_batch_to_device"]], "meerqat.train.data.ReaderDataModule": [[37, 4, 1, "", "collate_fn"], [37, 4, 1, "", "get_answer_position"], [37, 4, 1, "", "get_eval_passages"], [37, 4, 1, "", "transfer_batch_to_device"]], "meerqat.train.metrics": [[38, 3, 1, "", "accumulate_batch_metrics"], [38, 3, 1, "", "batch_retrieval"], [38, 3, 1, "", "exact_match_score"], [38, 3, 1, "", "f1_score"], [38, 3, 1, "", "get_run"], [38, 3, 1, "", "metric_max_over_ground_truths"], [38, 3, 1, "", "retrieval"], [38, 3, 1, "", "squad"], [38, 3, 1, "", "squad_per_question"]], "meerqat.train.optim": [[39, 1, 1, "", "LinearLRWithWarmup"], [39, 3, 1, "", "multi_passage_rc_loss"]], "meerqat.train.optim.LinearLRWithWarmup": [[39, 4, 1, "", "lr_lambda"]], "meerqat.train.save_ptm": [[40, 3, 1, "", "main"]], "meerqat.train.trainee": [[41, 1, 1, "", "BiEncoder"], [41, 1, 1, "", "CrossModal"], [41, 1, 1, "", "JointBiEncoderAndClip"], [41, 1, 1, "", "JointMonoAndCrossModal"], [41, 1, 1, "", "ReRanker"], [41, 1, 1, "", "Reader"], [41, 1, 1, "", "Trainee"], [41, 3, 1, "", "batched_cpu"], [41, 3, 1, "", "power_range"]], "meerqat.train.trainee.BiEncoder": [[41, 4, 1, "", "eval_epoch_end"], [41, 4, 1, "", "eval_step"], [41, 4, 1, "", "forward"], [41, 4, 1, "", "save_pretrained"], [41, 4, 1, "", "step"]], "meerqat.train.trainee.CrossModal": [[41, 4, 1, "", "eval_epoch_end"], [41, 4, 1, "", "eval_step"], [41, 4, 1, "", "forward"], [41, 4, 1, "", "save_pretrained"], [41, 4, 1, "", "step"]], "meerqat.train.trainee.JointBiEncoderAndClip": [[41, 4, 1, "", "eval_epoch_end"], [41, 4, 1, "", "eval_step"], [41, 4, 1, "", "forward"], [41, 4, 1, "", "save_pretrained"], [41, 4, 1, "", "step"]], "meerqat.train.trainee.JointMonoAndCrossModal": [[41, 4, 1, "", "eval_epoch_end"], [41, 4, 1, "", "eval_step"], [41, 4, 1, "", "forward"], [41, 4, 1, "", "save_pretrained"], [41, 4, 1, "", "step"]], "meerqat.train.trainee.ReRanker": [[41, 4, 1, "", "eval_epoch_end"], [41, 4, 1, "", "forward"], [41, 4, 1, "", "save_pretrained"], [41, 4, 1, "", "step"], [41, 4, 1, "", "test_epoch_end"]], "meerqat.train.trainee.Reader": [[41, 4, 1, "", "M_tuning"], [41, 4, 1, "", "eval_epoch_end"], [41, 4, 1, "", "eval_step"], [41, 4, 1, "", "forward"], [41, 4, 1, "", "log_probs_to_answers"], [41, 4, 1, "", "save_pretrained"], [41, 4, 1, "", "step"], [41, 4, 1, "", "test_epoch_end"]], "meerqat.train.trainee.Trainee": [[41, 4, 1, "", "configure_optimizers"], [41, 4, 1, "", "eval_epoch_end"], [41, 4, 1, "", "eval_step"], [41, 4, 1, "", "freeze"], [41, 4, 1, "", "gradient_checkpointing_disable"], [41, 4, 1, "", "gradient_checkpointing_enable"], [41, 5, 1, "", "is_gradient_checkpointing"], [41, 4, 1, "", "log"], [41, 4, 1, "", "post_init"], [41, 4, 1, "", "step"], [41, 4, 1, "", "test_epoch_end"], [41, 4, 1, "", "test_step"], [41, 4, 1, "", "training_step"], [41, 4, 1, "", "validation_epoch_end"], [41, 4, 1, "", "validation_step"]], "meerqat.train.trainer": [[42, 3, 1, "", "main"]], "meerqat.viz": [[44, 0, 0, "-", "html"], [45, 0, 0, "-", "stats"], [46, 0, 0, "-", "umap"], [47, 0, 0, "-", "wtl_filter"]], "meerqat.viz.html": [[44, 3, 1, "", "format_html"], [44, 3, 1, "", "get_top_1"], [44, 3, 1, "", "get_url_and_text"]], "meerqat.viz.stats": [[45, 3, 1, "", "dataset_stats"], [45, 3, 1, "", "main"]], "meerqat.viz.umap": [[46, 3, 1, "", "fplot"], [46, 3, 1, "", "get_ranx_run"], [46, 3, 1, "", "iplot"], [46, 3, 1, "", "main"], [46, 3, 1, "", "reduce"]], "meerqat.viz.wtl_filter": [[47, 3, 1, "", "get_wins"], [47, 3, 1, "", "main"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:attribute", "3": "py:function", "4": "py:method", "5": "py:property"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "attribute", "Python attribute"], "3": ["py", "function", "Python function"], "4": ["py", "method", "Python method"], "5": ["py", "property", "Python property"]}, "titleterms": {"welcom": 0, "meerqat": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48], "s": 0, "document": 0, "indic": 0, "tabl": 0, "get": 0, "viqua": 0, "dataset": 0, "kb": 0, "The": 0, "imag": [0, 12, 13, 14, 15, 16, 17, 28], "knowledg": 0, "base": 0, "format": 0, "wit": [0, 11], "multimod": 0, "ict": 0, "annot": 0, "data": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 37], "experi": 0, "refer": 0, "instal": 0, "doc": 0, "preprocess": 0, "passag": [0, 6], "split": 0, "articl": 0, "find": 0, "relev": 0, "link": 0, "wikipedia": 0, "ir": [0, 20, 21, 22, 23, 24, 25], "result": 0, "global": 0, "embed": [0, 13, 21], "text": 0, "cross": 0, "modal": 0, "face": 0, "detect": 0, "recognit": 0, "bound": 0, "box": 0, "engin": 0, "mict": [0, 11], "train": [0, 35, 36, 37, 38, 39, 40, 41, 42], "dual": 0, "encod": 0, "e": 0, "g": 0, "dpr": 0, "pre": 0, "triviaqa": 0, "fine": 0, "tune": 0, "invers": 0, "cloze": 0, "task": 0, "ilf": 0, "eca": 0, "model": [0, 26, 27, 28, 29, 30, 31, 32, 33, 34], "clip": 0, "retriev": 0, "bm25": 0, "question": 0, "search": [0, 25], "imagenet": 0, "resnet": 0, "vs": 0, "arcfac": 0, "ms": 0, "celeb": 0, "late": 0, "fusion": 0, "hyperparamet": 0, "run": 0, "best": 0, "earli": 0, "visual": 0, "metric": [0, 24, 38], "read": 0, "comprehens": 0, "switch": 0, "input": 0, "infer": 0, "packag": [1, 2, 12, 18, 20, 26, 35, 43], "subpackag": 1, "submodul": [2, 12, 18, 20, 26, 35, 43], "infoseek": 3, "modul": [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 19, 21, 22, 23, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38, 39, 40, 41, 42, 44, 45, 46, 47], "kilt2vqa": 4, "overview": 4, "ner": 4, "gener": 4, "mention": 4, "vq": 4, "labelstudio": [4, 5], "download": 4, "For": [4, 6, 9], "docopt": [4, 6, 9, 11], "function": [0, 4, 6, 9], "load": 6, "usag": [6, 9], "map": 6, "sentenc": 6, "msceleb": 7, "util": [8, 33], "wiki": 9, "entiti": 9, "feminin": 9, "superclass": 9, "depict": 9, "option": 9, "common": 9, "sparql": 9, "filter": 9, "rest": 9, "heurist": 9, "wikidump": 10, "what": 11, "you": 11, "should": 11, "have": 11, "first": 11, "instruct": 11, "train_imag": 11, "tsv": 11, "face_box": 14, "face_detect": 15, "face_recognit": 16, "resiz": 17, "interact": [18, 19], "system": 19, "fuse": 22, "hp": 23, "bert": 27, "mm": 29, "output": 30, "qa": 31, "rr": 32, "vilt": 34, "callback": 36, "optim": 39, "save_ptm": 40, "traine": 41, "trainer": 42, "viz": [43, 44, 45, 46, 47], "html": 44, "stat": 45, "umap": 46, "wtl_filter": 47, "note": 0, "loss": 0}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx": 56}})